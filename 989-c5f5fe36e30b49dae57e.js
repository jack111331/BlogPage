/*! For license information please see 989-c5f5fe36e30b49dae57e.js.LICENSE.txt */
(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[989],{546:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){return null!=e&&("object"===t(e)||"function"==typeof e)}},560:function(e,t,n){"use strict";var r=n(8480);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},647:function(e,t,n){"use strict";e.exports=n(5965)},889:function(e,t){"use strict";t.A=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t}))}return!0}},1178:function(e,t,n){"use strict";e.exports=n(5541)},1532:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){return null!=e&&"object"===t(e)&&!1===Array.isArray(e)}},1601:function(e,t,n){"use strict";var r=n(2068),o=n(3390);function i(e,t){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];l(i)&&o(i,a,e)}return e}function a(e,t){if(function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}(t)){var n=this[t];l(e)&&l(n)?i(n,e):this[t]=e}}function l(e){return r(e)&&!Array.isArray(e)}e.exports=i},1989:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Yb}});var r=n(4362),o=n.t(r,2),i=n(4985),a=n(1178);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(o!==t){var i=t;t=r?o:Object.assign({},t,o),n.forEach((function(e){return e(t,i)}))}},o=function(){return t},i={setState:r,getState:o,subscribe:function(e,r,i){return r||i?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function l(){var n=r(t);if(!i(a,n)){var o=a;e(a=n,o)}}return n.add(l),function(){return n.delete(l)}}(e,r,i):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,o,i),i}var s="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var m=[];function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(var o=0,i=m;o<i.length;o++){var a=i[o];if(_(t,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}}var l,u={keys:t,equal:r.equal,remove:function(){var e=m.indexOf(u);-1!==e&&m.splice(e,1)},promise:(l=e,"object"===v(l)&&"function"==typeof l.then?e:e.apply(void 0,f(t))).then((function(e){u.response=e,r.lifespan&&r.lifespan>0&&(u.timeout=setTimeout(u.remove,r.lifespan))})).catch((function(e){return u.error=e}))};if(m.push(u),!n)throw u.promise}var h=n(4322),b=n(647),y=n.n(b),g=n(3696),w=["args","attach"],x=["args","children"],A=["args","children"],E=["children","key","ref"],S=["children","key","ref"],C=["params"];function N(e){return R(e)||K(e)||G(e)||k()}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function D(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}function T(e,t,n){return t=P(t),function(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],P(e).constructor):t.apply(e,n))}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function z(e,t){return R(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||G(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e){if(Array.isArray(e))return e}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=G(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function H(e){return function(e){if(Array.isArray(e))return W(e)}(e)||K(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function K(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var J,$,Q={},X=function(e){Object.assign(Q,e)};var Y=function(e){return"colorSpace"in e||"outputColorSpace"in e},Z=function(){var e;return null!=(e=Q.ColorManagement)?e:null},q=function(e){return e&&e.isOrthographicCamera},ee="undefined"!=typeof window&&(null!=(J=window.document)&&J.createElement||"ReactNative"===(null==($=window.navigator)?void 0:$.product))?r.useLayoutEffect:r.useEffect;function te(e){var t=r.useRef(e);return ee((function(){t.current=e}),[e]),t}function ne(e){var t=e.set;return ee((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var re=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=T(this,t,[].concat(r))).state={error:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),function(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}])}(r.Component);re.getDerivedStateFromError=function(){return{error:!0}};var oe="__default",ie=new Map,ae=function(e){return e&&!!e.memoized&&!!e.changes};function le(e){var t,n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var ue=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function ce(e){for(var t=e.__r3f.root;t.getState().previousRoot;)t=t.getState().previousRoot;return t}var se={obj:function(e){return e===Object(e)&&!se.arr(e)&&"function"!=typeof e},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},boo:function(e){return"boolean"==typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,o=void 0===r?"shallow":r,i=n.objects,a=void 0===i?"reference":i,l=n.strict,u=void 0===l||l;if(F(e)!==F(t)||!!e!=!!t)return!1;if(se.str(e)||se.num(e)||se.boo(e))return e===t;var c=se.obj(e);if(c&&"reference"===a)return e===t;var s,f=se.arr(e);if(f&&"reference"===o)return e===t;if((f||c)&&e===t)return!0;for(s in e)if(!(s in t))return!1;if(c&&"shallow"===o&&"shallow"===a){for(s in u?t:e)if(!se.equ(e[s],t[s],{strict:u,objects:"reference"}))return!1}else for(s in u?t:e)if(e[s]!==t[s])return!1;if(se.und(s)){if(f&&0===e.length&&0===t.length)return!0;if(c&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function fe(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function de(e,t){return e.__r3f=O({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function ve(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),o=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:o}}return{target:n,key:t}}var me=/-\d+$/;function _e(e,t,n){if(se.str(n)){if(me.test(n)){var r=ve(e,n.replace(me,"")),o=r.target,i=r.key;Array.isArray(o[i])||(o[i]=[])}var a=ve(e,n),l=a.target,u=a.key;t.__r3f.previousAttach=l[u],l[u]=t}else t.__r3f.previousAttach=n(e,t)}function pe(e,t,n){var r,o;if(se.str(n)){var i=ve(e,n),a=i.target,l=i.key,u=t.__r3f.previousAttach;void 0===u?delete a[l]:a[l]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(o=t.__r3f)||delete o.previousAttach}function he(e,t){t.children,t.key,t.ref;var n=V(t,E),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(r.children,r.key,r.ref,V(r,S)),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.__r3f,l=Object.entries(n),u=[];if(i)for(var c=Object.keys(o),s=0;s<c.length;s++)n.hasOwnProperty(c[s])||l.unshift([c[s],oe+"remove"]);l.forEach((function(t){var r,i=z(t,2),a=i[0],l=i[1];if(!(null!=(r=e.__r3f)&&r.primitive&&"object"===a||se.equ(l,o[a]))){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(a))return u.push([a,l,!0,[]]);var c=[];for(var s in a.includes("-")&&(c=a.split("-")),u.push([a,l,!1,c]),n){var f=n[s];s.startsWith("".concat(a,"-"))&&u.push([s,f,!1,s.split("-")])}}}));var f=O({},n);return null!=a&&a.memoizedProps&&null!=a&&a.memoizedProps.args&&(f.args=a.memoizedProps.args),null!=a&&a.memoizedProps&&null!=a&&a.memoizedProps.attach&&(f.attach=a.memoizedProps.attach),{memoized:f,changes:u}}var be="undefined"!=typeof process&&!1;function ye(e,t){var n,r=e.__r3f,o=null==r?void 0:r.root,a=null==o||null==o.getState?void 0:o.getState(),l=ae(t)?t:he(e,t),u=l.memoized,c=l.changes,s=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=u);for(var f=0;f<c.length;f++){var d=z(c[f],4),v=d[0],m=d[1],_=d[2],p=d[3];if(Y(e)){var h="srgb",b="srgb-linear";"encoding"===v?(v="colorSpace",m=3001===m?h:b):"outputEncoding"===v&&(v="outputColorSpace",m=3001===m?h:b)}var y=e,g=y[v];if(p.length&&(g=p.reduce((function(e,t){return e[t]}),e),!g||!g.set)){var w=N(p.reverse()),x=w[0];y=w.slice(1).reverse().reduce((function(e,t){return e[t]}),e),v=x}if(m===oe+"remove")if(y.constructor){var A=ie.get(y.constructor);A||(A=new y.constructor,ie.set(y.constructor,A)),m=A[v]}else m=0;if(_&&r)m?r.handlers[v]=m:delete r.handlers[v],r.eventCount=Object.keys(r.handlers).length;else if(g&&g.set&&(g.copy||g instanceof i.Layers)){var E;if(Array.isArray(m))g.fromArray?g.fromArray(m):(E=g).set.apply(E,H(m));else if(g.copy&&m&&m.constructor&&(be?g.constructor.name===m.constructor.name:g.constructor===m.constructor))g.copy(m);else if(void 0!==m){var S,C=null==(S=g)?void 0:S.isColor;!C&&g.setScalar?g.setScalar(m):g instanceof i.Layers&&m instanceof i.Layers?g.mask=m.mask:g.set(m),!Z()&&a&&!a.linear&&C&&g.convertSRGBToLinear()}}else{var B;if(y[v]=m,null!=(B=y[v])&&B.isTexture&&y[v].format===i.RGBAFormat&&y[v].type===i.UnsignedByteType&&a){var O=y[v];Y(O)&&Y(a.gl)?O.colorSpace=a.gl.outputColorSpace:O.encoding=a.gl.outputEncoding}}ge(e)}if(r&&r.parent&&e.raycast&&s!==r.eventCount){var M=ce(e).getState().internal,F=M.interaction.indexOf(e);F>-1&&M.interaction.splice(F,1),r.eventCount&&M.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(n=e.__r3f)&&n.parent&&we(e),e}function ge(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function we(e){null==e.onUpdate||e.onUpdate(e)}function xe(e,t){e.manual||(q(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function Ae(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Ee(e,t,n,r){var o=n.get(t);o&&(n.delete(t),0===n.size&&(e.delete(r),o.target.releasePointerCapture(r)))}function Se(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,o=j(r.hovered.values());try{var i=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var o=e.eventObject.__r3f,i=null==o?void 0:o.handlers;if(r.hovered.delete(Ae(e)),null!=o&&o.eventCount){var a=O(O({},e),{},{intersections:t});null==i.onPointerOut||i.onPointerOut(a),null==i.onPointerLeave||i.onPointerLeave(a)}}};for(o.s();!(n=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var l=e.getState(),u=l.onPointerMissed,c=l.internal;c.lastEvent.current=a;var s="onPointerMove"===o,f="onClick"===o||"onContextMenu"===o||"onDoubleClick"===o,d=function(t,n){for(var r=e.getState(),o=new Set,i=[],a=n?n(r.internal.interaction):r.internal.interaction,l=0;l<a.length;l++){var u=ue(a[l]);u&&(u.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var c=a.flatMap((function(e){var n,r=ue(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=ue(e.object),r=ue(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=Ae(e);return!o.has(t)&&(o.add(t),!0)}));r.events.filter&&(c=r.events.filter(c,r));var s,f=j(c);try{for(f.s();!(s=f.n()).done;)for(var d=s.value,v=d.object;v;){var m;null!=(m=v.__r3f)&&m.eventCount&&i.push(O(O({},d),{},{eventObject:v})),v=v.parent}}catch(b){f.e(b)}finally{f.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var _,p=j(r.internal.capturedMap.get(t.pointerId).values());try{for(p.s();!(_=p.n()).done;){var h=_.value;o.has(Ae(h.intersection))||i.push(h.intersection)}}catch(b){p.e(b)}finally{p.f()}}return i}(a,s?t:void 0),v=f?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],o=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+o*o))}(a):0;"onPointerDown"===o&&(c.initialClick=[a.offsetX,a.offsetY],c.initialHits=d.map((function(e){return e.eventObject}))),f&&!d.length&&v<=2&&(r(a,c.interaction),u&&u(a)),s&&n(d),function(t,r,o,a){var l=e.getState();if(t.length){var u,c={stopped:!1},s=j(t);try{var f=function(){var e=u.value,s=ue(e.object)||l,f=s.raycaster,d=s.pointer,v=s.camera,m=s.internal,_=new i.Vector3(d.x,d.y,0).unproject(v),p=function(t){var n,r;return null!=(n=null==(r=m.capturedMap.get(t))?void 0:r.has(e.eventObject))&&n},h=function(t){var n={intersection:e,target:r.target};m.capturedMap.has(t)?m.capturedMap.get(t).set(e.eventObject,n):m.capturedMap.set(t,new Map([[e.eventObject,n]])),r.target.setPointerCapture(t)},b=function(t){var n=m.capturedMap.get(t);n&&Ee(m.capturedMap,e.eventObject,n,t)},y={};for(var g in r){var w=r[g];"function"!=typeof w&&(y[g]=w)}var x=O(O(O({},e),y),{},{pointer:d,intersections:t,stopped:c.stopped,delta:o,unprojectedPoint:_,ray:f.ray,camera:v,stopPropagation:function(){var o="pointerId"in r&&m.capturedMap.get(r.pointerId);if((!o||o.has(e.eventObject))&&(x.stopped=c.stopped=!0,m.hovered.size&&Array.from(m.hovered.values()).find((function(t){return t.eventObject===e.eventObject})))){var i=t.slice(0,t.indexOf(e));n([].concat(H(i),[e]))}},target:{hasPointerCapture:p,setPointerCapture:h,releasePointerCapture:b},currentTarget:{hasPointerCapture:p,setPointerCapture:h,releasePointerCapture:b},nativeEvent:r});if(a(x),!0===c.stopped)return 1};for(s.s();!(u=s.n()).done&&!f(););}catch(d){s.e(d)}finally{s.f()}}}(d,a,v,(function(e){var t=e.eventObject,n=t.__r3f,i=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(s){if(i.onPointerOver||i.onPointerEnter||i.onPointerOut||i.onPointerLeave){var l=Ae(e),u=c.hovered.get(l);u?u.stopped&&e.stopPropagation():(c.hovered.set(l,e),null==i.onPointerOver||i.onPointerOver(e),null==i.onPointerEnter||i.onPointerEnter(e))}null==i.onPointerMove||i.onPointerMove(e)}else{var d=i[o];d?f&&!c.initialHits.includes(t)||(r(a,c.interaction.filter((function(e){return!c.initialHits.includes(e)}))),d(e)):f&&c.initialHits.includes(t)&&r(a,c.interaction.filter((function(e){return!c.initialHits.includes(e)})))}}))}}}}var Ce,Ne=function(e){return!(null==e||!e.render)},Be=r.createContext(null);var Oe,Me,Fe=new Set,Ie=new Set,De=new Set;function Te(e,t){if(e.size){var n,r=j(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(o){r.e(o)}finally{r.f()}}}function Pe(e,t){switch(e){case"before":return Te(Fe,t);case"after":return Te(Ie,t);case"tail":return Te(De,t)}}function ze(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Oe=t.internal.subscribers,Ce=0;Ce<Oe.length;Ce++)(Me=Oe[Ce]).ref.current(Me.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ke(){var e=r.useContext(Be);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return ke()(e,t)}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ke(),r=n.getState().internal.subscribe,o=te(e);return ee((function(){return r(o,t,n)}),[t,r,n]),null}function Ue(e){return r.useMemo((function(){return fe(e)}),[e])}var Le=new WeakMap;function He(e,t){return function(n){var r=Le.get(n);r||(r=new n,Le.set(n,r)),e&&e(r);for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return Promise.all(i.map((function(e){return new Promise((function(n,o){return r.load(e,(function(e){e.scene&&Object.assign(e,fe(e.scene)),n(e)}),t,(function(t){return o(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))}))}))})))}}function Ge(e,t,n,r){var o=Array.isArray(t)?t:[t],i=function(e,t,n){return p(e,t,!1,n)}(He(n,r),[e].concat(H(o)),{equal:se.equ});return Array.isArray(t)?i:i[0]}Ge.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){p(e,t,!0,n)}(He(n),[e].concat(H(r)))},Ge.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)m.splice(0,m.length);else{var t=m.find((function(t){return _(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat(H(n)))};var Ke=new Map,We=function(e){var t,n,r,o=!1,i=!1;function a(l){n=requestAnimationFrame(a),o=!0,t=0,Pe("before",l),i=!0;var u,c=j(e.values());try{for(c.s();!(u=c.n()).done;){var s,f=u.value;!(r=f.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(s=r.gl.xr)&&s.isPresenting||(t+=ze(l,r))}}catch(d){c.e(d)}finally{c.f()}if(i=!1,Pe("after",l),0===t)return Pe("tail",l),o=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState(),l)}));null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=l>1?Math.min(60,n.internal.frames+l):i?2:1,o||(o=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(n&&Pe("before",t),r)ze(t,r,o);else{var i,a=j(e.values());try{for(a.s();!(i=a.n()).done;){ze(t,i.value.store.getState())}}catch(l){a.e(l)}finally{a.f()}}n&&Pe("after",t)}}}(Ke),Ve=We.invalidate,Je=We.advance,$e=function(e,t){function n(e,t,n){var r,o=t.args,i=void 0===o?[]:o,a=t.attach,l=V(t,w),u="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===l.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=de(l.object,{type:e,root:n,attach:a,primitive:!0})}else{var c=Q[u];if(!c)throw new Error("R3F: ".concat(u," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");r=de(function(e,t,n){if(L())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&U(o,n.prototype),o}(c,H(i)),{type:e,root:n,attach:a,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r.isBufferGeometry?r.__r3f.attach="geometry":r.isMaterial&&(r.__r3f.attach="material")),"inject"!==u&&ye(r,l),r}function r(e,t){var n,r,o=!1;t&&(null!=(n=t.__r3f)&&n.attach?_e(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),o=!0),o||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||de(t,{}),t.__r3f.parent=e,we(t),ge(t))}function o(e,t,n){var r=!1;if(t){var o,i;if(null!=(o=t.__r3f)&&o.attach)_e(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});var a=e.children.filter((function(e){return e!==t})),l=a.indexOf(n);e.children=[].concat(H(a.slice(0,l)),[t],H(a.slice(l))),r=!0}r||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||de(t,{}),t.__r3f.parent=e,we(t),ge(t)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&H(e).forEach((function(e){return l(t,e,n)}))}function l(e,t,n){if(t){var r,o,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(o=t.__r3f)&&o.attach)pe(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var l;e.remove(t),null!=(l=t.__r3f)&&l.root&&(d=ce(t),v=t,(m=d.getState().internal).interaction=m.interaction.filter((function(e){return e!==v})),m.initialHits=m.initialHits.filter((function(e){return e!==v})),m.hovered.forEach((function(e,t){e.eventObject!==v&&e.object!==v||m.hovered.delete(t)})),m.capturedMap.forEach((function(e,t){Ee(m.capturedMap,v,e,t)})))}var u,c=null==(a=t.__r3f)?void 0:a.primitive,s=!c&&(void 0===n?null!==t.dispose:n);if(!c)i(null==(u=t.__r3f)?void 0:u.objects,t,s),i(t.children,t,s);if(delete t.__r3f,s&&t.dispose&&"Scene"!==t.type){var f=function(){try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,g.unstable_scheduleCallback)(g.unstable_IdlePriority,f):f()}ge(e)}var d,v,m}var u=function(){},c=y()({createInstance:n,removeChild:l,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&l(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&o(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){var o;if((null!=(o=null==e?void 0:e.__r3f)?o:{}).primitive&&r.object&&r.object!==e)return[!0];var i=r.args,a=void 0===i?[]:i,l=(r.children,V(r,x)),u=n.args,c=void 0===u?[]:u,s=(n.children,V(n,A));if(!Array.isArray(a))throw new Error("R3F: the args prop must be an array!");if(a.some((function(e,t){return e!==c[t]})))return[!0];var f=he(e,l,s,!0);return f.changes.length?[!1,f]:null},commitUpdate:function(e,t,o,i,a,u){var c=z(t,2),s=c[0],f=c[1];s?function(e,t,o,i){var a,u=null==(a=e.__r3f)?void 0:a.parent;if(u){var c=n(t,o,e.__r3f.root);if(e.children){var s,f=j(e.children);try{for(f.s();!(s=f.n()).done;){var d=s.value;d.__r3f&&r(c,d)}}catch(v){f.e(v)}finally{f.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(c,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||l(u,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),r(u,c),c.raycast&&c.__r3f.eventCount&&ce(c).getState().internal.interaction.push(c),[i,i.alternate].forEach((function(e){null!==e&&(e.stateNode=c,e.ref&&("function"==typeof e.ref?e.ref(c):e.ref.current=c))}))}}(e,o,a,u):ye(e,f)},commitMount:function(e,t,n,r){var o,i=null!=(o=e.__r3f)?o:{};e.raycast&&i.handlers&&i.eventCount&&ce(e).getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return de(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,o=n.parent;r&&o&&pe(o,e,r),e.isObject3D&&(e.visible=!1),ge(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},o=r.attach,i=r.parent;o&&i&&_e(i,e,o),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),ge(e)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:function(){return t?t():a.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!=typeof performance&&se.fun(performance.now)?performance.now:se.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:se.fun(setTimeout)?setTimeout:void 0,cancelTimeout:se.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:c,applyProps:ye}}(0,(function(){var e,t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return a.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return a.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return a.ContinuousEventPriority;default:return a.DefaultEventPriority}})),Qe=$e.reconciler,Xe=$e.applyProps,Ye={objects:"shallow",strict:!1},Ze=function(e,t){var n="function"==typeof e?e(t):e;return Ne(n)?n:new i.WebGLRenderer(O({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function qe(e){var t=Ke.get(e),n=null==t?void 0:t.fiber,o=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");var u,f,d,v,m,_,p,b,y="function"==typeof reportError?reportError:console.error,g=o||(u=Ve,f=Je,d=function(e){var t="function"==typeof e?c(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=(0,r.useReducer)((function(e){return e+1}),0),a=l(i,2)[1],u=t.getState(),c=(0,r.useRef)(u),f=(0,r.useRef)(n),d=(0,r.useRef)(o),v=(0,r.useRef)(!1),m=(0,r.useRef)();void 0===m.current&&(m.current=n(u));var _=!1;(c.current!==u||f.current!==n||d.current!==o||v.current)&&(e=n(u),_=!o(m.current,e)),s((function(){_&&(m.current=e),c.current=u,f.current=n,d.current=o,v.current=!1}));var p=(0,r.useRef)(u);s((function(){var e=function(){try{var e=t.getState(),n=f.current(e);d.current(m.current,n)||(c.current=e,m.current=n,a())}catch(jt){v.current=!0,a()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);var h=_?e:m.current;return(0,r.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}((function(e,t){var n=new i.Vector3,o=new i.Vector3,a=new i.Vector3;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t().camera,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t().size,l=i.width,u=i.height,c=i.top,s=i.left,f=l/u;r.isVector3?a.copy(r):a.set.apply(a,H(r));var d=e.getWorldPosition(n).distanceTo(a);if(q(e))return{width:l/e.zoom,height:u/e.zoom,top:c,left:s,factor:1,distance:d,aspect:f};var v=e.fov*Math.PI/180,m=2*Math.tan(v/2)*d,_=m*(l/u);return{width:_,height:m,top:c,left:s,factor:l/_,distance:d,aspect:f}}var c=void 0,s=function(t){return e((function(e){return{performance:O(O({},e.performance),{},{current:t})}}))},d=new i.Vector2,v={set:e,get:t,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return u(t(),e)},advance:function(e,n){return f(e,n,t())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new i.Clock,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=t();c&&clearTimeout(c),e.performance.current!==e.performance.min&&s(e.performance.min),c=setTimeout((function(){return s(t().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(t){return e((function(e){return O(O({},e),{},{events:O(O({},e.events),t)})}))},setSize:function(n,r,i,a,u){var c=t().camera,s={width:n,height:r,top:a||0,left:u||0,updateStyle:i};e((function(e){return{size:s,viewport:O(O({},e.viewport),l(c,o,s))}}))},setDpr:function(t){return e((function(e){var n=le(t);return{viewport:O(O({},e.viewport),{},{dpr:n,initialDpr:e.viewport.initialDpr||n})}}))},setFrameloop:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",r=t().clock;r.stop(),r.elapsedTime=0,"never"!==n&&(r.start(),r.elapsedTime=0),e((function(){return{frameloop:n}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,n,r){var o=t().internal;return o.priority=o.priority+(n>0?1:0),o.subscribers.push({ref:e,priority:n,store:r}),o.subscribers=o.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var r=t().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(n>0?1:0),r.subscribers=r.subscribers.filter((function(t){return t.ref!==e})))}}}};return v})),v=d.getState(),m=v.size,_=v.viewport.dpr,p=v.camera,d.subscribe((function(){var e=d.getState(),t=e.camera,n=e.size,r=e.viewport,o=e.gl,i=e.set;if(n.width!==m.width||n.height!==m.height||r.dpr!==_){var a;m=n,_=r.dpr,xe(t,n),o.setPixelRatio(r.dpr);var l=null!=(a=n.updateStyle)?a:"undefined"!=typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(n.width,n.height,l)}t!==p&&(p=t,i((function(e){return{viewport:O(O({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),d.subscribe((function(e){return u(e)})),d),w=n||Qe.createContainer(g,a.ConcurrentRoot,null,!1,null,"",y,null);t||Ke.set(e,{fiber:w,store:g});var x,A=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,o=t.scene,a=t.events,l=t.onCreated,u=t.shadows,c=void 0!==u&&u,s=t.linear,f=void 0!==s&&s,d=t.flat,v=void 0!==d&&d,m=t.legacy,_=void 0!==m&&m,p=t.orthographic,h=void 0!==p&&p,y=t.frameloop,w=void 0===y?"always":y,E=t.dpr,S=void 0===E?[1,2]:E,N=t.performance,B=t.raycaster,M=t.camera,F=t.onPointerMissed,I=g.getState(),D=I.gl;I.gl||I.set({gl:D=Ze(n,e)});var T=I.raycaster;T||I.set({raycaster:T=new i.Raycaster});var P,z=B||{},k=z.params,R=V(z,C);if(se.equ(R,T,Ye)||Xe(T,O({},R)),se.equ(k,T.params,Ye)||Xe(T,{params:O(O({},T.params),k)}),!I.camera||I.camera===x&&!se.equ(x,M,Ye)){x=M;var j=M instanceof i.Camera,U=j?M:h?new i.OrthographicCamera(0,0,0,0,.1,1e3):new i.PerspectiveCamera(75,0,.1,1e3);j||(U.position.z=5,M&&(Xe(U,M),("aspect"in M||"left"in M||"right"in M||"bottom"in M||"top"in M)&&(U.manual=!0,U.updateProjectionMatrix())),I.camera||null!=M&&M.rotation||U.lookAt(0,0,0)),I.set({camera:U}),T.camera=U}I.scene||(null!=o&&o.isScene?P=o:(P=new i.Scene,o&&Xe(P,o)),I.set({scene:de(P)}));if(!I.xr){var L,H=function(e,t){var n=g.getState();"never"!==n.frameloop&&Je(e,!0,n,t)},G=function(){var e=g.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?H:null),e.gl.xr.isPresenting||Ve(e)},K={connect:function(){var e=g.getState().gl;e.xr.addEventListener("sessionstart",G),e.xr.addEventListener("sessionend",G)},disconnect:function(){var e=g.getState().gl;e.xr.removeEventListener("sessionstart",G),e.xr.removeEventListener("sessionend",G)}};"function"==typeof(null==(L=D.xr)?void 0:L.addEventListener)&&K.connect(),I.set({xr:K})}if(D.shadowMap){var W=D.shadowMap.enabled,J=D.shadowMap.type;if(D.shadowMap.enabled=!!c,se.boo(c))D.shadowMap.type=i.PCFSoftShadowMap;else if(se.str(c)){var $,Q={basic:i.BasicShadowMap,percentage:i.PCFShadowMap,soft:i.PCFSoftShadowMap,variance:i.VSMShadowMap};D.shadowMap.type=null!=($=Q[c])?$:i.PCFSoftShadowMap}else se.obj(c)&&Object.assign(D.shadowMap,c);W===D.shadowMap.enabled&&J===D.shadowMap.type||(D.shadowMap.needsUpdate=!0)}var X=Z();if(X&&("enabled"in X?X.enabled=!_:"legacyMode"in X&&(X.legacyMode=_)),!A){Xe(D,{outputEncoding:f?3e3:3001,toneMapping:v?i.NoToneMapping:i.ACESFilmicToneMapping})}I.legacy!==_&&I.set((function(){return{legacy:_}})),I.linear!==f&&I.set((function(){return{linear:f}})),I.flat!==v&&I.set((function(){return{flat:v}})),!n||se.fun(n)||Ne(n)||se.equ(n,D,Ye)||Xe(D,n),a&&!I.events.handlers&&I.set({events:a(g)});var Y=function(e,t){var n="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){var r=t.width,o=t.height,i=t.top,a=t.left,l=t.updateStyle;return{width:r,height:o,top:i,left:a,updateStyle:void 0===l?n:l}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var u=e.parentElement.getBoundingClientRect();return{width:u.width,height:u.height,top:u.top,left:u.left,updateStyle:n}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return se.equ(Y,I.size,Ye)||I.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),S&&I.viewport.dpr!==le(S)&&I.setDpr(S),I.frameloop!==w&&I.setFrameloop(w),I.onPointerMissed||I.set({onPointerMissed:F}),N&&!se.equ(N,I.performance,Ye)&&I.set((function(e){return{performance:O(O({},e.performance),N)}})),b=l,A=!0,this},render:function(t){return A||this.configure(),Qe.updateContainer((0,h.jsx)(et,{store:g,children:t,onCreated:b,rootElement:e}),w,null,(function(){})),g},unmount:function(){tt(e)}}}function et(e){var t=e.store,n=e.children,r=e.onCreated,o=e.rootElement;return ee((function(){var e=t.getState();e.set((function(e){return{internal:O(O({},e.internal),{},{active:!0})}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(o)}),[]),(0,h.jsx)(Be.Provider,{value:t,children:n})}function tt(e,t){var n=Ke.get(e),r=null==n?void 0:n.fiber;if(r){var o=null==n?void 0:n.store.getState();o&&(o.internal.active=!1),Qe.updateContainer(null,r,null,(function(){o&&setTimeout((function(){try{var n,r,i,a;null==o.events.disconnect||o.events.disconnect(),null==(n=o.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=o.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(a=o.gl)&&a.xr&&o.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(o),Ke.delete(e),t&&t(e)}catch(l){}}),500)}))}}Qe.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version});r.unstable_act;var nt={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function rt(e){var t=Se(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(nt).reduce((function(e,n){return O(O({},e),{},M({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,o=n.internal;null!=(t=o.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(o.lastEvent.current)},connect:function(t){var n,r=e.getState(),o=r.set,i=r.events;null==i.disconnect||i.disconnect(),o((function(e){return{events:O(O({},e.events),{},{connected:t})}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach((function(e){var n=z(e,2),r=n[0],o=n[1],i=z(nt[r],2),a=i[0],l=i[1];t.addEventListener(a,o,{passive:l})}))},disconnect:function(){var t,n=e.getState(),r=n.set,o=n.events;o.connected&&(Object.entries(null!=(t=o.handlers)?t:[]).forEach((function(e){var t=z(e,2),n=t[0],r=t[1];if(o&&o.connected instanceof HTMLElement){var i=z(nt[n],1)[0];o.connected.removeEventListener(i,r)}})),r((function(e){return{events:O(O({},e.events),{},{connected:void 0})}})))}}}function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){if(e){if("string"==typeof e)return ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ft(r.key),r)}}function st(e,t,n){return t&&ct(e.prototype,t),n&&ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ft(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}function dt(e,t){var n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout((function(){return e.apply(void 0,o)}),t)}}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1},t=e.debounce,n=e.scroll,o=e.polyfill,i=e.offsetSize,a=o||("undefined"==typeof window?st((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)})):window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var l=at((0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),u=l[0],c=l[1],s=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),f=t?"number"==typeof t?t:t.scroll:null,d=t?"number"==typeof t?t:t.resize:null,v=(0,r.useRef)(!1);(0,r.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));var m=(0,r.useMemo)((function(){var e=function(){if(s.current.element){var e=s.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};s.current.element instanceof HTMLElement&&i&&(t.height=s.current.element.offsetHeight,t.width=s.current.element.offsetWidth),Object.freeze(t),v.current&&!pt(s.current.lastBounds,t)&&c(s.current.lastBounds=t)}};return[e,d?dt(e,d):e,f?dt(e,f):e]}),[c,i,f,d]),_=at(m,3),p=_[0],h=_[1],b=_[2];function y(){s.current.scrollContainers&&(s.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",b,!0)})),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function g(){s.current.element&&(s.current.resizeObserver=new a(b),s.current.resizeObserver.observe(s.current.element),n&&s.current.scrollContainers&&s.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",b,{capture:!0,passive:!0})})),s.current.orientationHandler=function(){b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}return function(e,t){(0,r.useEffect)((function(){if(t){var n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",n,!0)}}}),[e,t])}(b,!!n),function(e){(0,r.useEffect)((function(){var t=e;return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}(h),(0,r.useEffect)((function(){y(),g()}),[n,b,h]),(0,r.useEffect)((function(){return y}),[]),[function(e){!e||e===s.current.element||(y(),s.current.element=e,s.current.scrollContainers=mt(e),g())},u,p]}function mt(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,it(mt(e.parentElement)))}var _t=["x","y","top","bottom","left","right","width","height"],pt=function(e,t){return _t.every((function(n){return e[n]===t[n]}))};function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||St(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gt(r.key),r)}}function gt(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ht(t)?t:t+""}function wt(e,t,n){return t=At(t),function(e,t){if(t&&("object"==ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xt()?Reflect.construct(t,n||[],At(e).constructor):t.apply(e,n))}function xt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xt=function(){return!!e})()}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function Et(e,t){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Et(e,t)}function St(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Nt,Bt,Ot=Object.defineProperty,Mt=Object.defineProperties,Ft=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,Pt=function(e,t,n){return t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},zt=function(e,t){for(var n in t||(t={}))Dt.call(t,n)&&Pt(e,n,t[n]);if(It){var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=St(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(It(t));try{for(o.s();!(r=o.n()).done;){n=r.value;Tt.call(t,n)&&Pt(e,n,t[n])}}catch(i){o.e(i)}finally{o.f()}}return e};"undefined"==typeof window||!(null==(Nt=window.document)?void 0:Nt.createElement)&&"ReactNative"!==(null==(Bt=window.navigator)?void 0:Bt.product)?r.useEffect:r.useLayoutEffect;function kt(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var o=kt(r,t,n);if(o)return o;r=t?null:r.sibling}}}function Rt(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var jt=console.error;console.error=function(){var e=Array.prototype.slice.call(arguments).join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return jt.apply(this,arguments);console.error=jt};var Ut=Rt(r.createContext(null)),Lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wt(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(t,e),function(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return r.createElement(Ut.Provider,{value:this._reactInternals},this.props.children)}}])}(r.Component);function Ht(){var e=r.useContext(Ut);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var t=r.useId();return r.useMemo((function(){for(var n=0,r=[e,null==e?void 0:e.alternate];n<r.length;n++){var o=r[n];if(o){var i=kt(o,!1,(function(e){for(var n=e.memoizedState;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(i)return i}}}),[e,t])}function Gt(){var e=function(){var e=Ht(),t=bt(r.useState((function(){return new Map})),1)[0];t.clear();for(var n=e;n;){if(n.type&&"object"===ht(n.type)){var o=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;o&&o!==Ut&&!t.has(o)&&t.set(o,r.useContext(Rt(o)))}n=n.return}return t}();return r.useMemo((function(){return Array.from(e.keys()).reduce((function(t,n){return function(o){return r.createElement(t,null,r.createElement(n.Provider,function(e,t){return Mt(e,Ft(t))}(zt({},o),{value:e.get(n)})))}}),(function(e){return r.createElement(Lt,zt({},e))}))}),[e])}function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}var Wt=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"];function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Yt=r.forwardRef((function(e,t){var n=e.children,o=e.fallback,a=e.resize,l=e.style,u=e.gl,c=e.events,s=void 0===c?rt:c,f=e.eventSource,d=e.eventPrefix,v=e.shadows,m=e.linear,_=e.flat,p=e.legacy,b=e.orthographic,y=e.frameloop,g=e.dpr,w=e.performance,x=e.raycaster,A=e.camera,E=e.scene,S=e.onPointerMissed,C=e.onCreated,N=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Wt);r.useMemo((function(){return X(i)}),[]);var B=Gt(),O=Qt(vt(Jt({scroll:!0,debounce:{scroll:50,resize:0}},a)),2),M=O[0],F=O[1],I=r.useRef(null),D=r.useRef(null);r.useImperativeHandle(t,(function(){return I.current}));var T=te(S),P=Qt(r.useState(!1),2),z=P[0],k=P[1],R=Qt(r.useState(!1),2),j=R[0],U=R[1];if(z)throw z;if(j)throw j;var L=r.useRef(null);ee((function(){var e=I.current;F.width>0&&F.height>0&&e&&(L.current||(L.current=qe(e)),L.current.configure({gl:u,events:s,shadows:v,linear:m,flat:_,legacy:p,orthographic:b,frameloop:y,dpr:g,performance:w,raycaster:x,camera:A,scene:E,size:F,onPointerMissed:function(){return null==T.current?void 0:T.current.apply(T,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(f?(t=f)&&t.hasOwnProperty("current")?f.current:f:D.current),d&&e.setEvents({compute:function(e,t){var n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==C||C(e)}}),L.current.render((0,h.jsx)(B,{children:(0,h.jsx)(re,{set:U,children:(0,h.jsx)(r.Suspense,{fallback:(0,h.jsx)(ne,{set:k}),children:null!=n?n:null})})})))})),r.useEffect((function(){var e=I.current;if(e)return function(){return tt(e)}}),[]);var H=f?"none":"auto";return(0,h.jsx)("div",Jt(Jt({ref:D,style:Jt({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H},l)},N),{},{children:(0,h.jsx)("div",{ref:M,style:{width:"100%",height:"100%"},children:(0,h.jsx)("canvas",{ref:I,style:{display:"block"},children:o})})}))})),Zt=r.forwardRef((function(e,t){return(0,h.jsx)(Lt,{children:(0,h.jsx)(Yt,Jt(Jt({},e),{},{ref:t}))})}));n(8152);function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return(t=ln(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ln(r.key),r)}}function ln(e){var t=function(e,t){if("object"!=qt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qt(t)?t:t+""}function un(e,t,n){return t=sn(t),function(e,t){if(t&&("object"==qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cn()?Reflect.construct(t,n||[],sn(e).constructor):t.apply(e,n))}function cn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cn=function(){return!!e})()}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}function fn(e,t){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fn(e,t)}function dn(e,t,n,r){var o=function(o){function a(){var o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var u=Object.entries(e);return(o=un(this,a,[{uniforms:u.reduce((function(e,t){var n=rn(t,2),r=n[0],o=n[1],a=i.UniformsUtils.clone(nn({},r,{value:o}));return tn(tn({},e),a)}),{}),vertexShader:t,fragmentShader:n}])).key="",u.forEach((function(e){var t=rn(e,1)[0];return Object.defineProperty(o,t,{get:function(){return o.uniforms[t].value},set:function(e){return o.uniforms[t].value=e}})})),Object.assign(o,l),r&&r(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fn(e,t)}(a,o),function(e,t,n){return t&&an(e.prototype,t),n&&an(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(a)}(i.ShaderMaterial);return o.key=i.MathUtils.generateUUID(),o}function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_n(r.key),r)}}function _n(e){var t=function(e,t){if("object"!=vn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vn(t)?t:t+""}function pn(e,t,n){return t=bn(t),function(e,t){if(t&&("object"==vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hn()?Reflect.construct(t,n||[],bn(e).constructor):t.apply(e,n))}function hn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hn=function(){return!!e})()}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}function yn(e,t){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yn(e,t)}var gn,wn=new WeakMap,xn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pn(this,t,[e])).decoderPath="",n.decoderConfig={},n.decoderBinary=null,n.decoderPending=null,n.workerLimit=4,n.workerPool=[],n.workerNextTaskID=1,n.workerSourceURL="",n.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},n.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(t,e),function(e,t,n){return t&&mn(e.prototype,t),n&&mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var o=this,a=new i.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n={attributeIDs:o.defaultAttributeIDs,attributeTypes:o.defaultAttributeTypes,useUniqueIDs:!1};o.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,o).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var o=t.attributeTypes[r];void 0!==o.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=o.name)}var i,a=JSON.stringify(t);if(wn.has(e)){var l=wn.get(e);if(l.key===a)return l.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,c=e.byteLength,s=this._getWorker(u,c).then((function(n){return i=n,new Promise((function(n,r){i._callbacks[u]={resolve:n,reject:r},i.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return s.catch((function(){return!0})).then((function(){i&&u&&n._releaseTask(i,u)})),wn.set(e,{key:a,promise:s}),s}},{key:"_createGeometry",value:function(e){var t=new i.BufferGeometry;e.index&&t.setIndex(new i.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],o=r.name,a=r.array,l=r.itemSize;t.setAttribute(o,new i.BufferAttribute(a,l))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new i.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==("undefined"==typeof WebAssembly?"undefined":vn(WebAssembly))||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var o=An.toString(),i=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var o=n.workerPool[n.workerPool.length-1];return o._taskCosts[e]=t,o._taskLoad+=t,o}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}])}(i.Loader);function An(){var e,t;function n(e,t,n,r,o,i){var a=i.num_components(),l=n.num_points()*a,u=l*o.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,o),s=e._malloc(u);t.GetAttributeDataArrayForAllPoints(n,i,c,u,s);var f=new o(e.HEAPF32.buffer,s,l).slice();return e._free(s),{name:r,array:f,itemSize:a}}onmessage=function(r){var o=r.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var i=o.buffer,a=o.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,l=new t.DecoderBuffer;l.Init(new Int8Array(i),i.byteLength);try{var u=function(e,t,r,o){var i,a,l=o.attributeIDs,u=o.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)i=new e.Mesh,a=t.DecodeBufferToMesh(r,i);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,a=t.DecodeBufferToPointCloud(r,i)}if(!a.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var s={index:null,attributes:[]};for(var f in l){var d=self[u[f]],v=void 0,m=void 0;if(o.useUniqueIDs)m=l[f],v=t.GetAttributeByUniqueId(i,m);else{if(-1===(m=t.GetAttributeId(i,e[l[f]])))continue;v=t.GetAttribute(i,m)}s.attributes.push(n(e,t,i,f,d,v))}c===e.TRIANGULAR_MESH&&(s.index=function(e,t,n){var r=n.num_faces(),o=3*r,i=4*o,a=e._malloc(i);t.GetTrianglesUInt32Array(n,i,a);var l=new Uint32Array(e.HEAPF32.buffer,a,o).slice();return e._free(a),{array:l,itemSize:1}}(e,t,i));return e.destroy(i),s}(t,r,l,a),c=u.attributes.map((function(e){return e.array.buffer}));u.index&&c.push(u.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:u},c)}catch(jt){console.error(jt),self.postMessage({type:"error",id:o.id,error:jt.message})}finally{t.destroy(l),t.destroy(r)}}))}}}function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}var Sn=function(){if(gn)return gn;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==("undefined"==typeof WebAssembly?"undefined":En(WebAssembly)))return{supported:!1};var n,r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(e)&&(r="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");var o=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;++r){var o=e.charCodeAt(r);n[r]=o>96?o-71:o>64?o-65:o>47?o+4:o>46?63:62}for(var i=0,a=0;a<e.length;++a)n[i++]=n[a]<60?t[n[a]]:64*(n[a]-60)+n[++a];return n.buffer.slice(0,i)}(r),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function i(e,t,r,o,i,a){var l=n.exports.sbrk,u=r+3&-4,c=l(u*o),s=l(i.length),f=new Uint8Array(n.exports.memory.buffer);f.set(i,s);var d=e(c,r,o,s,i.length);if(0===d&&a&&a(c,u,o),t.set(f.subarray(c,c+r*o)),l(c-l(0)),0!==d)throw new Error("Malformed buffer data: ".concat(d))}var a={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},l={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return gn={ready:o,supported:!0,decodeVertexBuffer:function(e,t,r,o,l){i(n.exports.meshopt_decodeVertexBuffer,e,t,r,o,n.exports[a[l]])},decodeIndexBuffer:function(e,t,r,o){i(n.exports.meshopt_decodeIndexBuffer,e,t,r,o)},decodeIndexSequence:function(e,t,r,o){i(n.exports.meshopt_decodeIndexSequence,e,t,r,o)},decodeGltfBuffer:function(e,t,r,o,u,c){i(n.exports[l[u]],e,t,r,o,n.exports[a[c]])}}};function Cn(e,t){if(t===i.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===i.TriangleFanDrawMode||t===i.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var r=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<o.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var l=n.count-2,u=[];if(n)if(t===i.TriangleFanDrawMode)for(var c=1;c<=l;c++)u.push(n.getX(0)),u.push(n.getX(c)),u.push(n.getX(c+1));else for(var s=0;s<l;s++)s%2==0?(u.push(n.getX(s)),u.push(n.getX(s+1)),u.push(n.getX(s+2))):(u.push(n.getX(s+2)),u.push(n.getX(s+1)),u.push(n.getX(s)));u.length/3!==l&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(u),f.clearGroups(),f}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}var Nn=function(){return parseInt(i.REVISION.replace(/\D+/g,""))}();function Bn(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(o){return t}}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||zn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return(t=Ln(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(){return Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Kn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Tn.apply(null,arguments)}function Pn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function zn(e,t){if(e){if("string"==typeof e)return kn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ln(r.key),r)}}function Un(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ln(e){var t=function(e,t){if("object"!=Mn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mn(t)?t:t+""}function Hn(e,t,n){return t=Kn(t),function(e,t){if(t&&("object"==Mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gn()?Reflect.construct(t,n||[],Kn(e).constructor):t.apply(e,n))}function Gn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gn=function(){return!!e})()}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}function Wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vn(e,t)}function Vn(e,t){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vn(e,t)}var Jn="srgb",$n="srgb-linear",Qn=function(e){function t(e){var n;return Rn(this,t),(n=Hn(this,t,[e])).dracoLoader=null,n.ktx2Loader=null,n.meshoptDecoder=null,n.pluginCallbacks=[],n.register((function(e){return new tr(e)})),n.register((function(e){return new nr(e)})),n.register((function(e){return new fr(e)})),n.register((function(e){return new dr(e)})),n.register((function(e){return new vr(e)})),n.register((function(e){return new or(e)})),n.register((function(e){return new ir(e)})),n.register((function(e){return new ar(e)})),n.register((function(e){return new lr(e)})),n.register((function(e){return new er(e)})),n.register((function(e){return new ur(e)})),n.register((function(e){return new rr(e)})),n.register((function(e){return new sr(e)})),n.register((function(e){return new cr(e)})),n.register((function(e){return new Zn(e)})),n.register((function(e){return new mr(e)})),n.register((function(e){return new _r(e)})),n}return Wn(t,e),Un(t,[{key:"load",value:function(e,t,n,r){var o,a=this;if(""!==this.resourcePath)o=this.resourcePath;else if(""!==this.path){var l=i.LoaderUtils.extractUrlBase(e);o=i.LoaderUtils.resolveURL(l,this.path)}else o=i.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);var u=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},c=new i.FileLoader(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,(function(n){try{a.parse(n,o,(function(n){t(n),a.manager.itemEnd(e)}),u)}catch(r){u(r)}}),n,u)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var o,i={},a={};if("string"==typeof e)o=JSON.parse(e);else if(e instanceof ArrayBuffer){if(Bn(new Uint8Array(e.slice(0,4)))===pr){try{i[Yn.KHR_BINARY_GLTF]=new yr(e)}catch(jt){return void(r&&r(jt))}o=JSON.parse(i[Yn.KHR_BINARY_GLTF].content)}else o=JSON.parse(Bn(new Uint8Array(e)))}else o=e;if(void 0===o.asset||o.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new Kr(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[c.name]=c,i[c.name]=!0}if(o.extensionsUsed)for(var s=0;s<o.extensionsUsed.length;++s){var f=o.extensionsUsed[s],d=o.extensionsRequired||[];switch(f){case Yn.KHR_MATERIALS_UNLIT:i[f]=new qn;break;case Yn.KHR_DRACO_MESH_COMPRESSION:i[f]=new gr(o,this.dracoLoader);break;case Yn.KHR_TEXTURE_TRANSFORM:i[f]=new wr;break;case Yn.KHR_MESH_QUANTIZATION:i[f]=new xr;break;default:d.indexOf(f)>=0&&void 0===a[f]&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(i),l.setPlugins(a),l.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,o){n.parse(e,t,r,o)}))}}])}(i.Loader);function Xn(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var Yn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},Zn=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}),[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var o=t[n];o.extensions&&o.extensions[this.name]&&void 0!==o.extensions[this.name].light&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var o,a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],u=new i.Color(16777215);void 0!==l.color&&u.setRGB(l.color[0],l.color[1],l.color[2],$n);var c=void 0!==l.range?l.range:0;switch(l.type){case"directional":(o=new i.DirectionalLight(u)).target.position.set(0,0,-1),o.add(o.target);break;case"point":(o=new i.PointLight(u)).distance=c;break;case"spot":(o=new i.SpotLight(u)).distance=c,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,o.angle=l.spot.outerConeAngle,o.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return o.position.set(0,0,0),o.decay=2,Rr(o,l),void 0!==l.intensity&&(o.intensity=l.intensity),o.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(o),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],o=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then((function(e){return n._getNodeRef(t.cache,o,e)}))}}])}(),qn=function(){return Un((function e(){Rn(this,e),this.name=Yn.KHR_MATERIALS_UNLIT}),[{key:"getMaterialType",value:function(){return i.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new i.Color(1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var a=o.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],$n),e.opacity=a[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(e,"map",o.baseColorTexture,Jn))}return Promise.all(r)}}])}(),er=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_EMISSIVE_STRENGTH}),[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}])}(),tr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_CLEARCOAT}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.Vector2(l,l)}return Promise.all(o)}}])}(),nr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_DISPERSION}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.dispersion=void 0!==r.dispersion?r.dispersion:0,Promise.resolve()}}])}(),rr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_IRIDESCENCE}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],i=r.extensions[this.name];return void 0!==i.iridescenceFactor&&(t.iridescence=i.iridescenceFactor),void 0!==i.iridescenceTexture&&o.push(n.assignTexture(t,"iridescenceMap",i.iridescenceTexture)),void 0!==i.iridescenceIor&&(t.iridescenceIOR=i.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==i.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),void 0!==i.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),void 0!==i.iridescenceThicknessTexture&&o.push(n.assignTexture(t,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(o)}}])}(),or=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_SHEEN}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[];t.sheenColor=new i.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];if(void 0!==a.sheenColorFactor){var l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],$n)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&o.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Jn)),void 0!==a.sheenRoughnessTexture&&o.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}])}(),ir=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_TRANSMISSION}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&o.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(o)}}])}(),ar=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_VOLUME}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&o.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var l=a.attenuationColor||[1,1,1];return t.attenuationColor=(new i.Color).setRGB(l[0],l[1],l[2],$n),Promise.all(o)}}])}(),lr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_IOR}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}])}(),ur=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_SPECULAR}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&o.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var l=a.specularColorFactor||[1,1,1];return t.specularColor=(new i.Color).setRGB(l[0],l[1],l[2],$n),void 0!==a.specularColorTexture&&o.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,Jn)),Promise.all(o)}}])}(),cr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.EXT_MATERIALS_BUMP}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],i=r.extensions[this.name];return t.bumpScale=void 0!==i.bumpFactor?i.bumpFactor:1,void 0!==i.bumpTexture&&o.push(n.assignTexture(t,"bumpMap",i.bumpTexture)),Promise.all(o)}}])}(),sr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_MATERIALS_ANISOTROPY}),[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var o=[],i=r.extensions[this.name];return void 0!==i.anisotropyStrength&&(t.anisotropy=i.anisotropyStrength),void 0!==i.anisotropyRotation&&(t.anisotropyRotation=i.anisotropyRotation),void 0!==i.anisotropyTexture&&o.push(n.assignTexture(t,"anisotropyMap",i.anisotropyTexture)),Promise.all(o)}}])}(),fr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.KHR_TEXTURE_BASISU}),[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var o=r.extensions[this.name],i=t.options.ktx2Loader;if(!i){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,i)}}])}(),dr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.EXT_TEXTURE_WEBP,this.isSupported=null}),[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;var i=o.extensions[t],a=r.images[i.source],l=n.textureLoader;if(a.uri){var u=n.options.manager.getHandler(a.uri);null!==u&&(l=u)}return this.detectSupport().then((function(o){if(o)return n.loadTextureImage(e,i.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}])}(),vr=function(){return Un((function e(t){Rn(this,e),this.parser=t,this.name=Yn.EXT_TEXTURE_AVIF,this.isSupported=null}),[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;var i=o.extensions[t],a=r.images[i.source],l=n.textureLoader;if(a.uri){var u=n.options.manager.getHandler(a.uri);null!==u&&(l=u)}return this.detectSupport().then((function(o){if(o)return n.loadTextureImage(e,i.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}])}(),mr=function(){return Un((function e(t){Rn(this,e),this.name=Yn.EXT_MESHOPT_COMPRESSION,this.parser=t}),[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],o=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,o=r.count,a=r.byteStride,l=new Uint8Array(e,t,n);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,a,l,r.mode,r.filter).then((function(e){return e.buffer})):i.ready.then((function(){var e=new ArrayBuffer(o*a);return i.decodeGltfBuffer(new Uint8Array(e),o,a,l,r.mode,r.filter),e}))}))}return null}}])}(),_r=function(){return Un((function e(t){Rn(this,e),this.name=Yn.EXT_MESH_GPU_INSTANCING,this.parser=t}),[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var o,a=Pn(n.meshes[r.mesh].primitives);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.mode!==Cr.TRIANGLES&&l.mode!==Cr.TRIANGLE_STRIP&&l.mode!==Cr.TRIANGLE_FAN&&void 0!==l.mode)return null}}catch(v){a.e(v)}finally{a.f()}var u=r.extensions[this.name].attributes,c=[],s={},f=function(e){c.push(t.parser.getDependency("accessor",u[e]).then((function(t){return s[e]=t,s[e]})))};for(var d in u)f(d);return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then((function(e){var n,r=e.pop(),o=r.isGroup?r.children:[r],a=e[0].count,l=[],u=Pn(o);try{for(u.s();!(n=u.n()).done;){for(var c=n.value,f=new i.Matrix4,d=new i.Vector3,m=new i.Quaternion,_=new i.Vector3(1,1,1),p=new i.InstancedMesh(c.geometry,c.material,a),h=0;h<a;h++)s.TRANSLATION&&d.fromBufferAttribute(s.TRANSLATION,h),s.ROTATION&&m.fromBufferAttribute(s.ROTATION,h),s.SCALE&&_.fromBufferAttribute(s.SCALE,h),p.setMatrixAt(h,f.compose(d,m,_));for(var b in s)if("_COLOR_0"===b){var y=s[b];p.instanceColor=new i.InstancedBufferAttribute(y.array,y.itemSize,y.normalized)}else"TRANSLATION"!==b&&"ROTATION"!==b&&"SCALE"!==b&&c.geometry.setAttribute(b,s[b]);i.Object3D.prototype.copy.call(p,c),t.parser.assignFinalMaterial(p),l.push(p)}}catch(v){u.e(v)}finally{u.f()}return r.isGroup?(r.clear(),r.add.apply(r,l),r):l[0]})))}}])}(),pr="glTF",hr=1313821514,br=5130562,yr=Un((function e(t){Rn(this,e),this.name=Yn.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:Bn(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==pr)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,o=new DataView(t,12),i=0;i<r;){var a=o.getUint32(i,!0);i+=4;var l=o.getUint32(i,!0);if(i+=4,l===hr){var u=new Uint8Array(t,12+i,a);this.content=Bn(u)}else if(l===br){var c=12+i;this.body=t.slice(c,c+a)}i+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),gr=function(){return Un((function e(t,n){if(Rn(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Yn.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}),[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,a={},l={},u={};for(var c in i){var s=Fr[c]||c.toLowerCase();a[s]=i[c]}for(var f in e.attributes){var d=Fr[f]||f.toLowerCase();if(void 0!==i[f]){var v=n.accessors[e.attributes[f]],m=Nr[v.componentType];u[d]=m.name,l[d]=!0===v.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],o=l[n];void 0!==o&&(r.normalized=o)}t(e)}),a,u,$n,n)}))}))}}])}(),wr=function(){return Un((function e(){Rn(this,e),this.name=Yn.KHR_TEXTURE_TRANSFORM}),[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}])}(),xr=Un((function e(){Rn(this,e),this.name=Yn.KHR_MESH_QUANTIZATION})),Ar=function(e){function t(e,n,r,o){return Rn(this,t),Hn(this,t,[e,n,r,o])}return Wn(t,e),Un(t,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r*3+r,i=0;i!==r;i++)t[i]=n[o+i];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,l=2*a,u=3*a,c=r-t,s=(n-t)/c,f=s*s,d=f*s,v=e*u,m=v-u,_=-2*d+3*f,p=d-f,h=1-_,b=p-f+s,y=0;y!==a;y++){var g=i[m+y+a],w=i[m+y+l]*c,x=i[v+y+a],A=i[v+y]*c;o[y]=h*g+b*w+_*x+p*A}return o}}])}(i.Interpolant),Er=new i.Quaternion,Sr=function(e){function t(){return Rn(this,t),Hn(this,t,arguments)}return Wn(t,e),Un(t,[{key:"interpolate_",value:function(e,n,r,o){var i=function(e,t,n,r){var o=Tn(Kn(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}(t,"interpolate_",this,3)([e,n,r,o]);return Er.fromArray(i).normalize().toArray(i),i}}])}(Ar),Cr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Nr={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Br={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},Or={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},Mr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Fr=In(In({POSITION:"position",NORMAL:"normal",TANGENT:"tangent"},Nn>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"}),{},{COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"}),Ir={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Dr={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},Tr="OPAQUE",Pr="MASK",zr="BLEND";function kr(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Rr(e,t){void 0!==t.extras&&("object"===Mn(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function jr(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var o=t.extras.targetNames;if(e.morphTargetInfluences.length===o.length){e.morphTargetDictionary={};for(var i=0,a=o.length;i<a;i++)e.morphTargetDictionary[o[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ur(e){var t,n=e.extensions&&e.extensions[Yn.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+Lr(n.attributes):e.indices+":"+Lr(e.attributes)+":"+e.mode,void 0!==e.targets)for(var r=0,o=e.targets.length;r<o;r++)t+=":"+Lr(e.targets[r]);return t}function Lr(e){for(var t="",n=Object.keys(e).sort(),r=0,o=n.length;r<o;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Hr(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Gr=new i.Matrix4,Kr=function(){return Un((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rn(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new Xn,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,o=!1,a=-1;"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=(o=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||r||o&&a<98?this.textureLoader=new i.TextureLoader(this.options.manager):this.textureLoader=new i.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}),[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return kr(o,i,r),Rr(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){var t,n=Pn(i.scenes);try{for(n.s();!(t=n.n()).done;){t.value.updateMatrixWorld()}}catch(r){n.e(r)}finally{n.f()}e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,o=t.length;r<o;r++)for(var i=t[r].joints,a=0,l=i.length;a<l;a++)e[i[a]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var s=e[u];void 0!==s.mesh&&(this._addNodeRef(this.meshCache,s.mesh),void 0!==s.skin&&(n[s.mesh].isSkinnedMesh=!0)),void 0!==s.camera&&this._addNodeRef(this.cameraCache,s.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var o=n.clone(),i=function(e,t){var n=r.associations.get(e);null!=n&&r.associations.set(t,n);var o,a=Pn(e.children.entries());try{for(a.s();!(o=a.n()).done;){var l=On(o.value,2),u=l[0],c=l[1];i(c,t.children[u])}}catch(s){a.e(s)}finally{a.f()}};return i(n,o),o.name+="_instance_"+e.uses[t]++,o}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var o=e(t[r]);o&&n.push(o)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Yn.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,o){n.load(i.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var o=Mr[r.type],a=Nr[r.componentType],l=!0===r.normalized,u=new a(r.count*o);return Promise.resolve(new i.BufferAttribute(u,o,l))}var c=[];return void 0!==r.bufferView?c.push(this.getDependency("bufferView",r.bufferView)):c.push(null),void 0!==r.sparse&&(c.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),c.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(c).then((function(e){var o,a,l=e[0],u=Mr[r.type],c=Nr[r.componentType],s=c.BYTES_PER_ELEMENT,f=s*u,d=r.byteOffset||0,v=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,m=!0===r.normalized;if(v&&v!==f){var _=Math.floor(d/v),p="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count,h=t.cache.get(p);h||(o=new c(l,_*v,r.count*v/s),h=new i.InterleavedBuffer(o,v/s),t.cache.add(p,h)),a=new i.InterleavedBufferAttribute(h,u,d%v/s,m)}else o=null===l?new c(r.count*u):new c(l,d,r.count*u),a=new i.BufferAttribute(o,u,m);if(void 0!==r.sparse){var b=Mr.SCALAR,y=Nr[r.sparse.indices.componentType],g=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,x=new y(e[1],g,r.sparse.count*b),A=new c(e[2],w,r.sparse.count*u);null!==l&&(a=new i.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var E=0,S=x.length;E<S;E++){var C=x[E];if(a.setX(C,A[E*u]),u>=2&&a.setY(C,A[E*u+1]),u>=3&&a.setZ(C,A[E*u+2]),u>=4&&a.setW(C,A[E*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,o=t.images[r],i=this.textureLoader;if(o.uri){var a=n.manager.getHandler(o.uri);null!==a&&(i=a)}return this.loadTextureImage(e,r,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,o=this.json,a=o.textures[e],l=o.images[t],u=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];var c=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||l.name||"",""===t.name&&"string"==typeof l.uri&&!1===l.uri.startsWith("data:image/")&&(t.name=l.uri);var n=(o.samplers||{})[a.sampler]||{};return t.magFilter=Br[n.magFilter]||i.LinearFilter,t.minFilter=Br[n.minFilter]||i.LinearMipmapLinearFilter,t.wrapS=Or[n.wrapS]||i.RepeatWrapping,t.wrapT=Or[n.wrapT]||i.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[u]=c,c}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var o=n.images[e],a=self.URL||self.webkitURL,l=o.uri||"",u=!1;if(void 0!==o.bufferView)l=this.getDependency("bufferView",o.bufferView).then((function(e){u=!0;var t=new Blob([e],{type:o.mimeType});return l=a.createObjectURL(t)}));else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var c=Promise.resolve(l).then((function(e){return new Promise((function(n,o){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new i.Texture(e);t.needsUpdate=!0,n(t)}),t.load(i.LoaderUtils.resolveURL(e,r.path),a,void 0,o)}))})).then((function(e){var t;return!0===u&&a.revokeObjectURL(l),Rr(e,o),e.userData.mimeType=o.mimeType||((t=o.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),e}));return this.sourceCache[e]=c,c}},{key:"assignTexture",value:function(e,t,n,r){var o=this;return this.getDependency("texture",n.index).then((function(i){if(!i)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((i=i.clone()).channel=n.texCoord),o.extensions[Yn.KHR_TEXTURE_TRANSFORM]){var a=void 0!==n.extensions?n.extensions[Yn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var l=o.associations.get(i);i=o.extensions[Yn.KHR_TEXTURE_TRANSFORM].extendTexture(i,a),o.associations.set(i,l)}}return void 0!==r&&("number"==typeof r&&(r=3001===r?Jn:$n),"colorSpace"in i?i.colorSpace=r:i.encoding=r===Jn?3001:3e3),e[t]=i,i}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,o=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var l="PointsMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new i.PointsMaterial,i.Material.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(l,u)),n=u}else if(e.isLine){var c="LineBasicMaterial:"+n.uuid,s=this.cache.get(c);s||(s=new i.LineBasicMaterial,i.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,this.cache.add(c,s)),n=s}if(r||o||a){var f="ClonedMaterial:"+n.uuid+":";r&&(f+="derivative-tangents:"),o&&(f+="vertex-colors:"),a&&(f+="flat-shading:");var d=this.cache.get(f);d||(d=n.clone(),o&&(d.vertexColors=!0),a&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(f,d),this.associations.set(d,this.associations.get(n))),n=d}e.material=n}},{key:"getMaterialType",value:function(){return i.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,o=this.extensions,a=r.materials[e],l={},u=[];if((a.extensions||{})[Yn.KHR_MATERIALS_UNLIT]){var c=o[Yn.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),u.push(c.extendParams(l,a,n))}else{var s=a.pbrMetallicRoughness||{};if(l.color=new i.Color(1,1,1),l.opacity=1,Array.isArray(s.baseColorFactor)){var f=s.baseColorFactor;l.color.setRGB(f[0],f[1],f[2],$n),l.opacity=f[3]}void 0!==s.baseColorTexture&&u.push(n.assignTexture(l,"map",s.baseColorTexture,Jn)),l.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,l.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture&&(u.push(n.assignTexture(l,"metalnessMap",s.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",s.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)}))))}!0===a.doubleSided&&(l.side=i.DoubleSide);var d=a.alphaMode||Tr;if(d===zr?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,d===Pr&&(l.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==i.MeshBasicMaterial&&(u.push(n.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new i.Vector2(1,1),void 0!==a.normalTexture.scale)){var v=a.normalTexture.scale;l.normalScale.set(v,v)}if(void 0!==a.occlusionTexture&&t!==i.MeshBasicMaterial&&(u.push(n.assignTexture(l,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(l.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==i.MeshBasicMaterial){var m=a.emissiveFactor;l.emissive=(new i.Color).setRGB(m[0],m[1],m[2],$n)}return void 0!==a.emissiveTexture&&t!==i.MeshBasicMaterial&&u.push(n.assignTexture(l,"emissiveMap",a.emissiveTexture,Jn)),Promise.all(u).then((function(){var r=new t(l);return a.name&&(r.name=a.name),Rr(r,a),n.associations.set(r,{materials:e}),a.extensions&&kr(o,r,a),r}))}},{key:"createUniqueName",value:function(e){var t=i.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function o(e){return n[Yn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Wr(n,e,t)}))}for(var a=[],l=0,u=e.length;l<u;l++){var c=e[l],s=Ur(c),f=r[s];if(f)a.push(f.promise);else{var d=void 0;d=c.extensions&&c.extensions[Yn.KHR_DRACO_MESH_COMPRESSION]?o(c):Wr(new i.BufferGeometry,c,t),r[s]={primitive:c,promise:d},a.push(d)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,o=this.extensions,a=r.meshes[e],l=a.primitives,u=[],c=0,s=l.length;c<s;c++){var f=void 0===l[c].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),t.DefaultMaterial):this.getDependency("material",l[c].material);u.push(f)}return u.push(n.loadGeometries(l)),Promise.all(u).then((function(t){for(var r=t.slice(0,t.length-1),u=t[t.length-1],c=[],s=0,f=u.length;s<f;s++){var d=u[s],v=l[s],m=void 0,_=r[s];if(v.mode===Cr.TRIANGLES||v.mode===Cr.TRIANGLE_STRIP||v.mode===Cr.TRIANGLE_FAN||void 0===v.mode)!0===(m=!0===a.isSkinnedMesh?new i.SkinnedMesh(d,_):new i.Mesh(d,_)).isSkinnedMesh&&m.normalizeSkinWeights(),v.mode===Cr.TRIANGLE_STRIP?m.geometry=Cn(m.geometry,i.TriangleStripDrawMode):v.mode===Cr.TRIANGLE_FAN&&(m.geometry=Cn(m.geometry,i.TriangleFanDrawMode));else if(v.mode===Cr.LINES)m=new i.LineSegments(d,_);else if(v.mode===Cr.LINE_STRIP)m=new i.Line(d,_);else if(v.mode===Cr.LINE_LOOP)m=new i.LineLoop(d,_);else{if(v.mode!==Cr.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);m=new i.Points(d,_)}Object.keys(m.geometry.morphAttributes).length>0&&jr(m,a),m.name=n.createUniqueName(a.name||"mesh_"+e),Rr(m,a),v.extensions&&kr(o,m,v),n.assignFinalMaterial(m),c.push(m)}for(var p=0,h=c.length;p<h;p++)n.associations.set(c[p],{meshes:e,primitives:p});if(1===c.length)return a.extensions&&kr(o,c[0],a),c[0];var b=new i.Group;a.extensions&&kr(o,b,a),n.associations.set(b,{meshes:e});for(var y=0,g=c.length;y<g;y++)b.add(c[y]);return b}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Rr(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,o=t.joints.length;r<o;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,o=[],a=[],l=0,u=r.length;l<u;l++){var c=r[l];if(c){o.push(c);var s=new i.Matrix4;null!==n&&s.fromArray(n.array,16*l),a.push(s)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[l])}return new i.Skeleton(o,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json,n=this,r=t.animations[e],o=r.name?r.name:"animation_"+e,a=[],l=[],u=[],c=[],s=[],f=0,d=r.channels.length;f<d;f++){var v=r.channels[f],m=r.samplers[v.sampler],_=v.target,p=_.node,h=void 0!==r.parameters?r.parameters[m.input]:m.input,b=void 0!==r.parameters?r.parameters[m.output]:m.output;void 0!==_.node&&(a.push(this.getDependency("node",p)),l.push(this.getDependency("accessor",h)),u.push(this.getDependency("accessor",b)),c.push(m),s.push(_))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(c),Promise.all(s)]).then((function(e){for(var t=e[0],r=e[1],a=e[2],l=e[3],u=e[4],c=[],s=0,f=t.length;s<f;s++){var d=t[s],v=r[s],m=a[s],_=l[s],p=u[s];if(void 0!==d){d.updateMatrix&&d.updateMatrix();var h=n._createAnimationTracks(d,v,m,_,p);if(h)for(var b=0;b<h.length;b++)c.push(h[b])}}return new i.AnimationClip(o,void 0,c)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){for(var t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),o=[],i=n.children||[],a=0,l=i.length;a<l;a++)o.push(t.getDependency("node",i[a]));var u=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(o),u]).then((function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,Gr)}));for(var o=0,i=n.length;o<i;o++)t.add(n[o]);return t}))}},{key:"_loadNodeShallow",value:function(e){var t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var o=t.nodes[e],a=o.name?r.createUniqueName(o.name):"",l=[],u=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return u&&l.push(u),void 0!==o.camera&&l.push(r.getDependency("camera",o.camera).then((function(e){return r._getNodeRef(r.cameraCache,o.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){l.push(e)})),this.nodeCache[e]=Promise.all(l).then((function(t){var l;if((l=!0===o.isBone?new i.Bone:t.length>1?new i.Group:1===t.length?t[0]:new i.Object3D)!==t[0])for(var u=0,c=t.length;u<c;u++)l.add(t[u]);if(o.name&&(l.userData.name=o.name,l.name=a),Rr(l,o),o.extensions&&kr(n,l,o),void 0!==o.matrix){var s=new i.Matrix4;s.fromArray(o.matrix),l.applyMatrix4(s)}else void 0!==o.translation&&l.position.fromArray(o.translation),void 0!==o.rotation&&l.quaternion.fromArray(o.rotation),void 0!==o.scale&&l.scale.fromArray(o.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,o=new i.Group;n.name&&(o.name=r.createUniqueName(n.name)),Rr(o,n),n.extensions&&kr(t,o,n);for(var a=n.nodes||[],l=[],u=0,c=a.length;u<c;u++)l.push(r.getDependency("node",a[u]));return Promise.all(l).then((function(e){for(var t=0,n=e.length;t<n;t++)o.add(e[t]);return r.associations=function(e){var t,n=new Map,o=Pn(r.associations);try{for(o.s();!(t=o.n()).done;){var a=On(t.value,2),l=a[0],u=a[1];(l instanceof i.Material||l instanceof i.Texture)&&n.set(l,u)}}catch(c){o.e(c)}finally{o.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(o),o}))}},{key:"_createAnimationTracks",value:function(e,t,n,r,o){var a,l=[],u=e.name?e.name:e.uuid,c=[];switch(Ir[o.path]===Ir.weights?e.traverse((function(e){e.morphTargetInfluences&&c.push(e.name?e.name:e.uuid)})):c.push(u),Ir[o.path]){case Ir.weights:a=i.NumberKeyframeTrack;break;case Ir.rotation:a=i.QuaternionKeyframeTrack;break;case Ir.position:case Ir.scale:a=i.VectorKeyframeTrack;break;default:if(1===n.itemSize)a=i.NumberKeyframeTrack;else a=i.VectorKeyframeTrack}for(var s=void 0!==r.interpolation?Dr[r.interpolation]:i.InterpolateLinear,f=this._getArrayFromAccessor(n),d=0,v=c.length;d<v;d++){var m=new a(c[d]+"."+Ir[o.path],t.array,f,s);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(m),l.push(m)}return l}},{key:"_getArrayFromAccessor",value:function(e){var t=e.array;if(e.normalized){for(var n=Hr(t.constructor),r=new Float32Array(t.length),o=0,i=t.length;o<i;o++)r[o]=t[o]*n;t=r}return t}},{key:"_createCubicSplineTrackInterpolant",value:function(e){e.createInterpolant=function(e){return new(this instanceof i.QuaternionKeyframeTrack?Sr:Ar)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}])}();function Wr(e,t,n){var r=t.attributes,o=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var l in r){var u=Fr[l]||l.toLowerCase();u in e.attributes||o.push(a(r[l],u))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(c)}return Rr(e,t),function(e,t,n){var r=t.attributes,o=new i.Box3;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(void 0!==l&&void 0!==u){if(o.set(new i.Vector3(l[0],l[1],l[2]),new i.Vector3(u[0],u[1],u[2])),a.normalized){var c=Hr(Nr[a.componentType]);o.min.multiplyScalar(c),o.max.multiplyScalar(c)}var s=t.targets;if(void 0!==s){for(var f=new i.Vector3,d=new i.Vector3,v=0,m=s.length;v<m;v++){var _=s[v];if(void 0!==_.POSITION){var p=n.json.accessors[_.POSITION],h=p.min,b=p.max;if(void 0!==h&&void 0!==b){if(d.setX(Math.max(Math.abs(h[0]),Math.abs(b[0]))),d.setY(Math.max(Math.abs(h[1]),Math.abs(b[1]))),d.setZ(Math.max(Math.abs(h[2]),Math.abs(b[2]))),p.normalized){var y=Hr(Nr[p.componentType]);d.multiplyScalar(y)}f.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(f)}e.boundingBox=o;var g=new i.Sphere;o.getCenter(g.center),g.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=g}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,o=!1,i=!1,a=0,l=t.length;a<l;a++){var u=t[a];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(o=!0),void 0!==u.COLOR_0&&(i=!0),r&&o&&i)break}if(!r&&!o&&!i)return Promise.resolve(e);for(var c=[],s=[],f=[],d=0,v=t.length;d<v;d++){var m=t[d];if(r){var _=void 0!==m.POSITION?n.getDependency("accessor",m.POSITION):e.attributes.position;c.push(_)}if(o){var p=void 0!==m.NORMAL?n.getDependency("accessor",m.NORMAL):e.attributes.normal;s.push(p)}if(i){var h=void 0!==m.COLOR_0?n.getDependency("accessor",m.COLOR_0):e.attributes.color;f.push(h)}}return Promise.all([Promise.all(c),Promise.all(s),Promise.all(f)]).then((function(t){var n=t[0],a=t[1],l=t[2];return r&&(e.morphAttributes.position=n),o&&(e.morphAttributes.normal=a),i&&(e.morphAttributes.color=l),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}var Vr=null,Jr="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function $r(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(r){n&&n(r),e&&(Vr||(Vr=new xn),Vr.setDecoderPath("string"==typeof e?e:Jr),r.setDRACOLoader(Vr)),t&&r.setMeshoptDecoder(Sn())}}var Qr=function(e,t,n,r){return Ge(Qn,e,$r(t,n,r))};Qr.preload=function(e,t,n,r){return Ge.preload(Qn,e,$r(t,n,r))},Qr.clear=function(e){return Ge.clear(Qn,e)},Qr.setDecoderPath=function(e){Jr=e};const Xr=dn({thickness:2},"\n  attribute vec3 center;\n  varying vec3 vCenter;\n\n  #include <skinning_pars_vertex>\n\n  void main() {\n    vCenter = center;\n\n    #include <skinbase_vertex>\n    #include <begin_vertex>\n    #include <skinning_vertex>\n    #include <project_vertex>\n  }\n  ","\n  uniform float thickness;\n  varying vec3 vCenter;\n\n  void main() {\n\n    vec3 afwidth = fwidth( vCenter.xyz );\n    vec3 edge3 = smoothstep( ( thickness - 1.0 ) * afwidth, thickness * afwidth, vCenter.xyz );\n    float edge = 1.0 - min( min( edge3.x, edge3.y ), edge3.z );\n\n    gl_FragColor.rgb = gl_FrontFacing ? vec3( 0.5, 0.5, 1.0 ) : vec3( 0.4, 0.4, 0.5 );\n    gl_FragColor.a = edge;\n  }\n  ");function Yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new i.Vector3,o=new i.Quaternion,a=new i.Vector3,l=new i.Matrix4,u=new i.Matrix4,c=new i.Matrix4;n.preserveMatrix=void 0===n.preserveMatrix||n.preserveMatrix,n.preservePosition=void 0===n.preservePosition||n.preservePosition,n.preserveHipPosition=void 0!==n.preserveHipPosition&&n.preserveHipPosition,n.useTargetMatrix=void 0!==n.useTargetMatrix&&n.useTargetMatrix,n.hip=void 0!==n.hip?n.hip:"hip",n.names=n.names||{};var s,f,d,v,m,_=t.isObject3D?t.skeleton.bones:qr(t),p=e.isObject3D?e.skeleton.bones:qr(e);if(e.isObject3D?e.skeleton.pose():(n.useTargetMatrix=!0,n.preserveMatrix=!1),n.preservePosition){m=[];for(var h=0;h<p.length;h++)m.push(p[h].position.clone())}if(n.preserveMatrix){e.updateMatrixWorld(),e.matrixWorld.identity();for(var b=0;b<e.children.length;++b)e.children[b].updateMatrixWorld(!0)}if(n.offsets){s=[];for(var y=0;y<p.length;++y)f=p[y],d=n.names[f.name]||f.name,n.offsets[d]&&(f.matrix.multiply(n.offsets[d]),f.matrix.decompose(f.position,f.quaternion,f.scale),f.updateMatrixWorld()),s.push(f.matrixWorld.clone())}for(var g=0;g<p.length;++g){if(f=p[g],v=Zr(d=n.names[f.name]||f.name,_),c.copy(f.matrixWorld),v){if(v.updateMatrixWorld(),n.useTargetMatrix?u.copy(v.matrixWorld):(u.copy(e.matrixWorld).invert(),u.multiply(v.matrixWorld)),a.setFromMatrixScale(u),u.scale(a.set(1/a.x,1/a.y,1/a.z)),c.makeRotationFromQuaternion(o.setFromRotationMatrix(u)),e.isObject3D){var w=p.indexOf(f),x=s?s[w]:l.copy(e.skeleton.boneInverses[w]).invert();c.multiply(x)}c.copyPosition(u)}f.parent&&f.parent.isBone?(f.matrix.copy(f.parent.matrixWorld).invert(),f.matrix.multiply(c)):f.matrix.copy(c),n.preserveHipPosition&&d===n.hip&&f.matrix.setPosition(r.set(0,f.position.y,0)),f.matrix.decompose(f.position,f.quaternion,f.scale),f.updateMatrixWorld()}if(n.preservePosition)for(var A=0;A<p.length;++A)f=p[A],(d=n.names[f.name]||f.name)!==n.hip&&f.position.copy(m[A]);n.preserveMatrix&&e.updateMatrixWorld(!0)}function Zr(e,t){for(var n=0,r=qr(t);n<r.length;n++)if(e===r[n].name)return r[n]}function qr(e){return Array.isArray(e)?e:e.bones}function eo(e,t,n){n(e,t);for(var r=0;r<e.children.length;r++)eo(e.children[r],t.children[r],n)}X({CustomWireframeMaterial:Xr}),Qr.preload("/Ty_animated_1-transformed.glb"),Qr.preload("/Ty_animated-transformed.glb");var to={retarget:Yr,retargetClip:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.useFirstFramePosition=void 0!==r.useFirstFramePosition&&r.useFirstFramePosition,r.fps=void 0!==r.fps?r.fps:30,r.names=r.names||[],t.isObject3D||(t=function(e){var t=new i.SkeletonHelper(e.bones[0]);return t.skeleton=e,t}(t));var o,a,l,u,c=Math.round(n.duration*(r.fps/1e3)*1e3),s=1/r.fps,f=[],d=new i.AnimationMixer(t),v=qr(e.skeleton),m=[];d.clipAction(n).play(),d.update(0),t.updateMatrixWorld();for(var _=0;_<c;++_){var p=_*s;Yr(e,t,r);for(var h=0;h<v.length;++h)Zr(u=r.names[v[h].name]||v[h].name,t.skeleton)&&(a=v[h],l=m[h]=m[h]||{bone:a},r.hip===u&&(l.pos||(l.pos={times:new Float32Array(c),values:new Float32Array(3*c)}),r.useFirstFramePosition&&(0===_&&(o=a.position.clone()),a.position.sub(o)),l.pos.times[_]=p,a.position.toArray(l.pos.values,3*_)),l.quat||(l.quat={times:new Float32Array(c),values:new Float32Array(4*c)}),l.quat.times[_]=p,a.quaternion.toArray(l.quat.values,4*_));d.update(s),t.updateMatrixWorld()}for(var b=0;b<m.length;++b)(l=m[b])&&(l.pos&&f.push(new i.VectorKeyframeTrack(".bones["+l.bone.name+"].position",l.pos.times,l.pos.values)),f.push(new i.QuaternionKeyframeTrack(".bones["+l.bone.name+"].quaternion",l.quat.times,l.quat.values)));return d.uncacheAction(n),new i.AnimationClip(n.name,-1,f)},clone:function(e){var t=new Map,n=new Map,r=e.clone();return eo(e,r,(function(e,r){t.set(r,e),n.set(e,r)})),r.traverse((function(e){if(e.isSkinnedMesh){var r=e,o=t.get(e),i=o.skeleton.bones;r.skeleton=o.skeleton.clone(),r.bindMatrix.copy(o.bindMatrix),r.skeleton.bones=i.map((function(e){return n.get(e)})),r.bind(r.skeleton,r.bindMatrix)}})),r}};var no=n(3741);function ro(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var o=e[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=o.clone():Array.isArray(o)?t[n][r]=o.slice():t[n][r]=o}return t}function oo(e){for(var t={},n=0;n<e.length;n++){var r=ro(e[n]);for(var o in r)t[o]=r[o]}return t}const io={constant_buffer_0:{cb0_21w:{value:0},cb0_126y:{value:0},cb0_130x:{value:1},cb0_21y:{value:5},cb0_144w:{value:15},cb0_129x:{value:1.25},cb0_59z:{value:3e-4},cb0_60z:{value:.30009},near_value:{value:.3},far_value:{value:1e3},cb0_162y:{value:1},cb0_126x:{value:0},cb0_16xyz:{value:new i.Vector3(.286179,1.272233,3.5616)},cb0_65xyz:{value:new i.Vector3(-.99177,0,.12807)},cb0_66xyz:{value:new i.Vector3(-.00254,.9998,-.01967)},cb0_67:{value:new i.Vector4(.12805,.01984,.99157,0)}},constant_buffer_1:{cb1_9w:{value:1},cb1_186y:{value:0},cb1_186z:{value:1}},constant_buffer_2:{cb2_148x:{value:1},cb2_147w:{value:1},cb2_153x:{value:1},cb2_150w:{value:1},cb2_170x:{value:0},cb2_170y:{value:3},cb2_170z:{value:100},cb2_188w:{value:2},cb2_142z:{value:0},cb2_138y:{value:.04},cb2_185x:{value:0},cb2_184w:{value:0},cb2_187x:{value:1},cb2_188x:{value:0},cb2_188y:{value:1},cb2_186w:{value:1},cb2_7x:{value:0},cb2_6w:{value:1},cb2_4w:{value:1},cb2_3w:{value:1},cb2_9x:{value:.5},cb2_0x:{value:1},cb2_186y:{value:0},cb2_190x:{value:0},cb2_194w:{value:1},cb2_173yz:{value:new i.Vector2(1,0)},cb2_187yzw:{value:new i.Vector3(-.01578,1.34417,-43e-5)},cb2_183xyz:{value:new i.Vector3(.16652,-.00164,.98604)},cb2_8:{value:new i.Vector4(0,0,1,0)},cb2_141zw:{value:new i.Vector2(1,1)},cb2_142xy:{value:new i.Vector2(1,1)},cb2_151xyzw:{value:new i.Vector4(0,0,1,0)}}},ao=String("\nuniform float cb2_0x;\nuniform float cb2_186y;\nuniform float cb2_190x;\nuniform float cb2_194w;\nuniform vec2 cb2_141zw;\nuniform vec2 cb2_142xy;\nuniform float cb0_162y;\nuniform float cb0_126x;\nuniform float cb0_21w; // is perspective camera (=0) or orthographic camera (=1)\n\nuniform int cb1_9w; // cross(normal, tangent)'s direction\nuniform float cb2_148x;\nuniform float cb2_147w;\nuniform float cb2_153x;\nuniform float cb0_129x;\nuniform vec4 cb2_151xyzw;\nuniform float cb2_150w;\nuniform float cb2_170x;\nuniform vec2 cb2_173yz;\nuniform float cb2_170y;\nuniform float cb2_170z;\nuniform float cb2_188w;\nuniform float cb0_144w; // constraint scaling factor\nuniform float cb0_21y;\nuniform float cb0_130x; // positionVS_Z control factor to force it to 60.0\nuniform float cb2_142z; // Offset vertex position in view space\nuniform vec3 cb0_66xyz;\nuniform vec3 cb0_65xyz;\nuniform vec3 cb0_16xyz;\nuniform vec3 cb2_187yzw;\nuniform float cb0_126y;\nuniform float cb2_138y;\nuniform float cb2_185x;\nuniform vec3 cb2_183xyz;\nuniform float cb2_184w;\nuniform float near_value; // cb0_17y\nuniform float far_value; // cb0_17z\nuniform float cb0_59z;\nuniform float cb0_60z;\nuniform float cb2_187x;\nuniform float cb2_188x;\nuniform float cb2_188y;\nuniform float cb2_186w;\nuniform vec4 cb0_67;\nuniform float cb2_7x;\nuniform float cb2_6w;\nuniform vec4 cb2_8;\nuniform float cb2_4w;\nuniform float cb2_3w;\nuniform float cb2_9x;\nuniform float cb1_186y;\nuniform float cb1_186z;\n");const lo=dn(function(e){const t={};for(const n in e)t[n]=e[n].value;return t}(oo([i.UniformsLib.common,io.constant_buffer_0,io.constant_buffer_1,io.constant_buffer_2,{opacity:{value:1},vertexTangents:{value:!0},vertexUv1s:{value:!0},vertexUv2s:{value:!0},vertexUv3s:{value:!0},vertexAlphas:{value:!0},diffMap:{value:null},baseTexture:{value:null}}])),ao+"\n    #define NORMAL\n\n    //in vec3 position; // The commented input attribute is defined and don't need to define here\n    //in vec3 normal;\n    #ifndef USE_TANGENT\n    in vec4 tangent;\n    #endif\n    in vec4 color;\n\n    //in vec2 uv;\n    in vec2 uv1;\n    in vec2 uv2;\n    in vec2 uv3;\n\n    // It actually correspond to v7 (NormalTS)\n    in vec2 texcoord_4;\n    in vec2 texcoord_5;\n\n    out vec3 outputVertexToCameraDirection;\n    out vec4 vNormal;\n    out vec4 vPosition;\n    out vec4 vColor; // corresponding to o7\n    out vec4 vColor1; // corresponding to o4\n\n    out vec4 vUV01;\n    out vec4 vUV23;\n  \n    // #include <skinning_pars_vertex>\n\n    // ----- CUSTOM ------\n    // --------------------\n    \n    void main() {\n      if (cb2_0x == 0.0 || cb2_186y == 1.0 || cb2_190x == 1.0 || cb2_194w == 0.0) {\n        // Set all output attribute to zero\n        return;\n      }\n\n      vec4 sRGBColor = vec4(pow(color.r, 0.4545), pow(color.g, 0.4545), pow(color.b, 0.4545), 1.0);\n\n      vec4 uv_scale_offset = vec4(1.0, 1.0, 0.0, 0.0); // cb2_1\n      vec2 output_uv_0 = uv * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_1 = uv1 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_2 = uv2 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_3 = uv3 * uv_scale_offset.xy + uv_scale_offset.zw;\n\n      // position: vec3\n      // modelMatrix presented at WebGLRenderer.js? modelMatrix: mat4\n      // modelMatrix = cb1_0123\n      vec3 transformed_position = vec3(modelMatrix * vec4(position, 1.0));\n\n      // normalMatrix = transposed_modelMatrix = transpose(cb1_012)\n      // normal defined in WebGLProgram\n      // vec3 transformedNormal = normalMatrix * normal;\n      mat3 fakeNormalMatrix = mat3(modelMatrix); // FIXME, others should also change, normalMatrix somehow doesn't go with my expectation\n      vec3 transformedNormal = fakeNormalMatrix * normal;\n      transformedNormal = normalize( transformedNormal );\n      // vUV23.xyz = vec3(transformedNormal); // FIXME Debug purpose, not appear in the original code\n\n      bool some_value = false;\n      if (cb2_141zw.y != 0.0) {\n        some_value = (cb2_141zw.x != 0.0);\n      }\n\n      bool some_value_2 = (cb2_142xy.x != 0.0);\n\n      // NOTE: when input uv, THREE.js will automatically invert y axis = =\n      vec3 normalTS = vec3(texcoord_4.x, 1.0 - texcoord_4.y, texcoord_5.x);\n      if (normalTS.z == 0.0) {\n        some_value_2 = false;\n      }\n      if (some_value_2) {\n      } else {\n        some_value = false;\n      }\n      if (bool(cb2_142xy.y)) {\n      } else {\n        some_value = false;\n      }\n\n      if (bool(cb0_162y)) {\n      } else {\n        some_value = false;\n      }\n\n      // TODO x != 0 is equal to != 0.0?\n      if (some_value != false) {\n        // TODO 1_vs defined UNKNOWN_CONDITION_1, 2_vs not define UNKNOWN_CONDITION_1 \n        #ifdef UNKNOWN_CONDITION_1\n        if (cb0_126x != 0.0) {\n          // TODO Setup output\n          return;\n        }\n        #endif\n\n        // viewMatrix presented in WebGLRenderer, viewMatrix is cb0[61~64]\n        float positionVS_Z = (viewMatrix * vec4(transformed_position, 1.0)).z;\n\n        float some_value_3;\n        if (cb1_9w >= 0) {\n          some_value_3 = 1.0;\n        } else {\n          some_value_3 = -1.0;\n        }\n        // if you want to define tangent, just add vertexTangents into parameter and WebGLProgram will do it for you \n\n        some_value_3 = tangent.w * some_value_3;\n        vec3 transformedTangent = mat3(modelMatrix) * vec3(tangent);\n        transformedTangent = normalize(transformedTangent);\n\n        //(a.y*b.z-a.z*b.y, a.z*b.x-a.x*b.z, a.x*b.y-a.y*b.x)\n        vec3 transformedBitangent = cross(transformedNormal, transformedTangent);\n        transformedBitangent = some_value_3 * transformedBitangent;\n\n        float some_value_4 = cb2_148x * cb2_147w * cb2_153x * cb0_129x;\n\n        if (cb2_150w != 0.0) {\n          // TODO should convert color from linear space to sRGB space\n          some_value_4 *= dot(sRGBColor, cb2_151xyzw);\n        }\n        if (cb2_170x != 0.0 && cb2_173yz.x != 0.0 && cb2_173yz.y != 0.0) {\n          some_value_4 = min(cb2_170z, cb2_170y + some_value_4);\n        } \n\n        // TODO 1_vs not define it, 2_vs define it\n        #ifdef UNKNOWN_CONDITION_2\n        if (cb0_126x != 0.0) {\n          if (cb2_188w == 0.0) {\n            some_value_4 = 0.0;\n          }\n        }\n        #endif\n\n        // constraint positionVS_Z to be not farther than 60.0\n        positionVS_Z = min(60.0 / cb0_144w, abs(positionVS_Z));\n        positionVS_Z *= cb0_144w;\n\n        if (cb0_21w == 0.0) {\n        } else {\n          positionVS_Z = 50.0 * min(2.0, abs(cb0_21y));\n        }\n        float saturated_cb0_130x = clamp(cb0_130x, 0.0, 1.0);\n        positionVS_Z = (1.0 - saturated_cb0_130x) * 60.0 + saturated_cb0_130x * positionVS_Z;\n\n        positionVS_Z *= some_value_4;\n        positionVS_Z *= 0.00005;\n\n        vec3 normalWS = normalTS.z * transformedNormal + normalTS.x * transformedTangent + normalTS.y * transformedBitangent;\n        // vUV23.xyz = vec3(normalTS); // FIXME Debug purpose, not appear in the original code\n        // If normalTS wrong, better reexport model\n        if (cb2_142z != 0.0) {\n          vec2 normalVS_xy = (mat3(viewMatrix) * normalWS).xy;\n          normalVS_xy = normalize(normalVS_xy);\n          normalWS = cb0_65xyz * normalVS_xy.x + cb0_66xyz * normalVS_xy.y;\n        }\n        transformed_position += normalWS * positionVS_Z;\n      }\n\n      // outputVertexToCameraDirection = o6\n      if (cb0_21w == 0.0) {\n        // Perspective camera: camera to vertex position direction\n        outputVertexToCameraDirection = cb0_16xyz - transformed_position;\n      } else {\n        // Orthographic camera: Eye look into direction (View matrix's Z direction)\n        outputVertexToCameraDirection = vec3(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z); // get viewMatrix's z direction vector\n      }\n\n      // in original shader, viewProjectionMatrix is together, but in three.js, it's separate, viewProjectionMatrix = cb0_73_to_76\n      // vec4 positionCS = projectionMatrix * viewMatrix * vec4(transformed_position, 1.0);\n      // TODO use fake projeciton matrix currently, positionCS.z might need change?\n      mat4 fakeProjectionMatrix = mat4(4.27263696558, 0.0, 0.0, 0.0, // zoom in factor\n      0.0, -7.59577978336, 0.0, 0.0, // zoom in factor * aspect ratio\n      0.0, 0.0, -0.0003, -1.0, // use mine, it will become -1.0006...\n      0.0, 0.0, -0.30009, 0.0); // use mine, it will become -0.6002...\n      vec4 positionCS = fakeProjectionMatrix * viewMatrix * vec4(transformed_position, 1.0);\n\n      vec3 some_vector_3 = transformed_position - cb2_187yzw;\n\n      // 1_vs defined it, 2_vs not defined it\n      #ifdef UNKNOWN_CONDITION_3\n      vec3 adjustedNormal = (1.0 - cb2_185x) * cb2_183xyz + cb2_185x * some_vector_3;\n\n      adjustedNormal = cb2_184w * adjustedNormal + (1.0 - cb2_184w) * transformedNormal;\n      // although vNormal is in <normal_pars_vertex> and <normal_pars_fragment>, I want to manually provide it here\n      vNormal.xyz = normalize(adjustedNormal);\n\n      float some_value_6 = positionCS.z + ((-cb2_138y) / (far_value - near_value));\n\n      float some_denominator = max(5.96046448e-008 + near_value, cb2_138y + abs(positionCS.w));\n      float some_value_7 = ((cb0_60z - some_denominator * cb0_59z) * positionCS.w) / (some_denominator);\n    \n      // modified_position will be new vertex output \n      vec4 modified_position;\n      modified_position.xyw = positionCS.xyw;\n      if (cb0_21w != 0.0) {\n        modified_position.z = some_value_6;\n      } else {\n        // See face vertex idx 1356\n        modified_position.z = -some_value_7; // NOTE: the negative sign didn't appear at the original setup, we add it here just for left-handed coordinate system to right-handed coordinate system\n      }\n\n      if (cb0_126x != 0.0) {\n        modified_position.z = positionCS.z;\n      }\n\n      if (-cb2_138y != 0.0) {\n      } else {\n        modified_position.z = positionCS.z;\n      }\n      #else\n      vNormal.xyz = transformedNormal;\n      vec4 modified_position = positionCS;\n      #endif\n\n      float some_value_8 = sqrt(dot(some_vector_3, some_vector_3));\n      some_value_8 = clamp(cb2_187x - some_value_8 / cb2_187x, 0.0, 1.0);\n\n      float some_value_9 = clamp((transformed_position.y - cb2_188x) / (cb2_188y - cb2_188x), 0.0, 1.0);\n      some_value_8 *= cb2_186w * some_value_9;\n\n      float some_value_10 = dot(vec4(cb2_187yzw, 1.0), vec4(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z, viewMatrix[3].z));\n      vec2 some_vector_7 = modified_position.xy * abs(modified_position.w);\n      some_value_10 = 1.0 / abs(some_value_10);\n\n      vec2 some_vector_8 = some_value_8 * (some_vector_7 * some_value_10) + (1.0-some_value_8) * (modified_position.xy);\n      gl_Position = modified_position;\n      if (cb0_21w == 1.0 || cb0_126y != 0.0) {\n        // is orthogonal camera or something?\n      } else {\n        gl_Position.xy = some_vector_8;\n      }\n\n      vUV01 = vec4(output_uv_0, output_uv_1);\n      // vUV23 = vec4(output_uv_2, output_uv_3); // FIXME debug purpose, temparary disable this output\n\n      // although vPosition defined in <common>, I still defined it \n      vPosition = vec4(transformed_position.xyz, -cb2_138y);\n\n      vColor1 = vec4(0.0);\n\n      vNormal.w = 0.0;\n\n      vColor = sRGBColor;\n\n      // #include <skinbase_vertex>\n      // #include <skinnormal_vertex>    \n    }\n    ",ao+"\n    #define NORMAL\n\n    // #define USE_BASE_MAP // body use 2_fs\n  \n    in vec3 outputVertexToCameraDirection;\n    in vec4 vNormal;\n    in vec4 vPosition;\n    in vec4 vColor; // corresponding to o7\n    in vec4 vColor1; // corresponding to o4\n\n    in vec4 vUV01;\n    in vec4 vUV23;\n\n\n    uniform float opacity;\n\n    vec3 packNormalToRGB( const in vec3 normal ) {\n      return normalize( normal ) * 0.5 + 0.5;\n    }\n            \n    // ---------CUSTOM --------\n    #ifdef USE_BASE_MAP\n    uniform sampler2D baseTexture;\n    uniform sampler2D diffMap;\n    #endif\n    // -------------------------\n\n    // [R | t][A] -> [I]\n    // [A] <- [R^T | -R^T t]\n    \n    void main() {    \n      // ------- CUSTOM --------\n      // TODO 1_fs not defined it, 2_fs defined USE_BASE_MAP\n      #ifdef UNKNOWN_NM_DEFINE_2\n      // mat4 cb1_4567 = mat4(vec4(0.8105, -0.19902, 0.55089, 0.00), vec4(0.17636, 0.97978, 0.09449, 0.00), vec4(-0.55856, 0.02057, 0.82921, 0.00), vec4(-0.16085, -0.86985, -0.0878, 1.00));\n      mat4 modelMatrix1 = mat4(0.1000, 0, 0, 0, 0, 0.0000, 0.1000, 0, 0, -0.1000, 0.0000, 0, 0.0011, 0.1778, 0.0002, 1);\n      mat3 transposedModelMatrix = transpose(mat3(modelMatrix1));\n      mat4 cb1_4567 = mat4(transposedModelMatrix);\n      vec3 inverseTranslation = -transposedModelMatrix * vec3(modelMatrix1[0].w, modelMatrix1[1].w, modelMatrix1[2].w);\n      cb1_4567[0].w = inverseTranslation.x;\n      cb1_4567[1].w = inverseTranslation.y;\n      cb1_4567[2].w = inverseTranslation.z;\n      cb1_4567[3].w = 1.0;      \n      // mat3 cb1_012 = mat3(vec3(0.8105, 0.17636, -0.55856), vec3(-0.19902, 0.97978, 0.02057), vec3(0.55089, 0.09449, 0.82921));\n      mat3 cb1_012 = mat3(modelMatrix1);\n      vec3 some_vec4 = (cb1_4567 * cb0_67).xyz;\n      some_vec4 = cb1_012 * some_vec4;\n\n      float some_float = clamp(dot(cb2_183xyz, some_vec4), 0.0, 1.0);\n      some_float = pow(some_float, 4.0) + -1.0;\n\n      some_float = cb2_6w * (some_float * cb2_7x + 1.0);\n      if (cb2_7x <= 0.0) {\n        some_float = cb2_6w;\n      }\n      vec4 diff_value = texture(diffMap, vUV01.xy);\n      vec4 base_value = texture(baseTexture, vUV01.xy);\n\n      float is_specific_part = dot(base_value, cb2_8);\n\n      float some_float_2 = some_float * is_specific_part + (1.0 - some_float) * diff_value.a;\n\n      // TODO: provide both maps to shader\n      if (some_float_2 * (cb2_4w * cb2_3w) - cb2_9x < 0.0) {\n        discard;\n      }\n\n      float some_value_3 = some_float * is_specific_part + (1.0 - some_float) * diff_value.a;\n      if (some_value_3 * (cb2_4w * cb2_3w) - cb2_9x < 0.0) {\n        discard;\n      }\n      #endif\n\n      float normalMagnitude = dot(abs(vNormal.xyz), vec3(1.0, 1.0, 1.0));\n      normalMagnitude = 1.0 / normalMagnitude;\n      vec3 calculatedNewNormal = vec3(vNormal) * normalMagnitude;\n\n      // FIXME interpret this\n      // r0.w = -r0.x * 0.5 + 0.5;\n      // r0.w = saturate(r0.y * 0.5 + r0.w);    \n      float unknownSaturate = clamp((calculatedNewNormal.y - calculatedNewNormal.x) * 0.5 + 0.5, 0.0, 1.0);\n\n      // r1.x = cmp(r0.z >= 0) ? r0.w : -r0.w; // Screen Space NormalDifference\n      // r1.y = r0.x + r0.y; // Screen Space \n      // r1.zw = float2(0,0);\n      // r0.x = saturate(-cb1[186].y * cb1[186].z + 1);\n      // o0.xyzw = r1.xyzw * r0.xxxx;    \n      if (calculatedNewNormal.z >= 0.0) {\n        calculatedNewNormal = vec3(unknownSaturate, calculatedNewNormal.x + calculatedNewNormal.y, 0.0);\n      } else {\n        calculatedNewNormal = vec3(-unknownSaturate, calculatedNewNormal.x + calculatedNewNormal.y, 0.0);\n      }\n\n      // FIXME interpret these two constants\n      float unknownScaling = clamp(-cb1_186y * cb1_186z + 1.0, 0.0, 1.0);\n      calculatedNewNormal *= unknownScaling;\n\n      // ------- CUSTOM END --------\n      // TODO Somehow baseTexture not used in the define region? + texture(baseTexture, vUV01.xy).rgb\n      gl_FragColor = vec4( packNormalToRGB( calculatedNewNormal ), 1.0 );\n    \n      #ifdef OPAQUE\n    \n        gl_FragColor.a = 1.0;\n    \n      #endif\n      gl_FragColor.rgb = vUV23.xyz;\n    \n    }\n    "),uo={constant_buffer_0:{cb0_16xyz:{value:new i.Vector3(.286179,1.272233,3.5616)},cb0_21w:{value:0},cb0_138yz:{value:new i.Vector2(1,1)},cb0_137x:{value:12e-5},cb0_139xyz:{value:new i.Vector3(.11008,.51657,.84914)},cb0_67:{value:new i.Vector4(.10962,.51708,.84889,0)}},constant_buffer_1:{cb1_9w:{value:1}},constant_buffer_2:{cb2_0x:{value:1},cb2_186y:{value:0},cb2_190x:{value:0},cb2_194w:{value:1},cb2_139xy:{value:new i.Vector2(0,0)},cb2_142x:{value:1},cb2_183:{value:new i.Vector3(.16652,-.00164,.98604)},cb2_7x:{value:0},cb2_6w:{value:1},cb2_8:{value:new i.Vector4(0,0,1,0)},cb2_4w:{value:1},cb2_3w:{value:1},cb2_9x:{value:.5}}},co=String("\nuniform float cb2_0x;\nuniform float cb2_186y;\nuniform float cb2_190x;\nuniform float cb2_194w;\nuniform float cb1_9w; // cross(normal, tangent)'s direction\nuniform vec3 cb0_16xyz;\nuniform float cb0_21w; // is perspective camera (=0) or orthographic camera (=1)\nuniform vec2 cb2_139xy;\nuniform vec2 cb0_138yz;\nuniform float cb0_137x;\nuniform float cb2_142x;\nuniform vec3 cb0_139xyz;\nuniform vec4 cb0_67;\nuniform vec3 cb2_183;\nuniform float cb2_7x;\nuniform float cb2_6w;\nuniform vec4 cb2_8;\nuniform float cb2_4w;\nuniform float cb2_3w;\nuniform float cb2_9x;\n");const so=dn(function(e){const t={};for(const n in e)t[n]=e[n].value;return t}(oo([i.UniformsLib.common,i.UniformsLib.bumpmap,i.UniformsLib.normalmap,i.UniformsLib.displacementmap,{opacity:{value:1},vertexTangents:{value:!0},vertexUv1s:{value:!0},vertexUv2s:{value:!0},vertexUv3s:{value:!0},vertexAlphas:{value:!0},diffMap:{value:null},baseTexture:{value:null}},uo.constant_buffer_0,uo.constant_buffer_1,uo.constant_buffer_2])),co+"\n    #define NORMAL\n  \n    //in vec3 position; // The commented input attribute is defined and don't need to define here\n    //in vec3 normal;\n    #ifndef USE_TANGENT\n    in vec4 tangent;\n    #endif\n    in vec4 color;\n\n    //in vec2 uv;\n    in vec2 uv1;\n    in vec2 uv2;\n    in vec2 uv3;\n\n    // It actually correspond to v7 (NormalTS)\n    in vec2 texcoord_4;\n    in vec2 texcoord_5;\n\n\n    out vec3 outputVertexToCameraDirection;\n    out vec4 vNormal;\n    out vec4 vPosition;\n    out vec4 vColor; // corresponding to o7\n    out vec4 vColor1; // corresponding to o4\n\n    out vec4 vUV01;\n    out vec4 vUV23;\n  \n    // #include <skinning_pars_vertex>\n\n    // ----- CUSTOM ------\n    // --------------------\n    \n    void main() {\n      if (cb2_0x == 0.0 || cb2_186y == 1.0 || cb2_190x == 1.0 || cb2_194w == 0.0) {\n        // Set all output attribute to zero\n        return;\n      }\n\n      vec4 uv_scale_offset = vec4(1.0, 1.0, 0.0, 0.0); // cb2_1\n      vec2 output_uv_0 = uv * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_1 = uv1 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_2 = uv2 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_3 = uv3 * uv_scale_offset.xy + uv_scale_offset.zw;\n\n      // position: vec3\n      // modelMatrix presented at WebGLRenderer.js? modelMatrix: mat4\n      // modelMatrix = cb1_0123\n      vec3 transformed_position = vec3(modelMatrix * vec4(position, 1.0));\n\n      // normalMatrix = transposed_modelMatrix = transpose(cb1_012)\n      // normal defined in WebGLProgram\n      vec3 transformedNormal = normalMatrix * normal;\n      transformedNormal = normalize( transformedNormal );\n\n      float some_value_3;\n      if (cb1_9w >= 0.0) {\n        some_value_3 = 1.0;\n      } else {\n        some_value_3 = -1.0;\n      }\n        // if you want to define tangent, just add vertexTangents into parameter and WebGLProgram will do it for you \n\n      some_value_3 = tangent.w * some_value_3;\n      vec3 transformedTangent = mat3(modelMatrix) * vec3(tangent);\n      transformedTangent = normalize(transformedTangent);\n\n      //(a.y*b.z-a.z*b.y, a.z*b.x-a.x*b.z, a.x*b.y-a.y*b.x)\n      vec3 transformedBitangent = cross(transformedNormal, transformedTangent);\n      transformedBitangent = some_value_3 * transformedBitangent;\n\n      // outputVertexToCameraDirection = o6\n      if (cb0_21w == 0.0) {\n        // Perspective camera: camera to vertex position direction\n        outputVertexToCameraDirection = cb0_16xyz - transformed_position;\n      } else {\n        // Orthographic camera: Eye look into direction (View matrix's Z direction)\n        outputVertexToCameraDirection = vec3(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z); // get viewMatrix's z direction vector\n      }\n      \n      // added start --- added end\n      vec2 some_vector_10 = vec2(3.5, -3.5) * cb0_137x * (cb2_139xy + cb0_138yz);\n\n      vec4 normalTS = vec4(texcoord_4, texcoord_5);\n      vec3 normalWS = normalTS.z * transformedNormal + normalTS.x * transformedTangent + normalTS.y * transformedBitangent;\n      if (cb2_142x != 0.0) {\n        if (normalTS.z != 0.0) {\n        } else {\n          normalWS = transformedNormal;\n        }\n      } else {\n        normalWS = transformedNormal;\n      }\n\n      float some_value_11 = 1.0 - clamp(dot(-cb0_139xyz, normalWS), 0.0, 1.0);\n      some_value_11 *= some_vector_10.y;\n\n      vec3 some_vector_12 = transformed_position - some_vector_10.x * cb0_139xyz + some_value_11 * normalWS;\n      // in original shader, viewProjectionMatrix is together, but in three.js, it's separate, viewProjectionMatrix = cb0_73_to_76\n      // TODO the projectionMatrix should change to orthogonal matrix\n      // TODO use fake projeciton matrix currently\n      mat4 fakeProjectionMatrix = mat4(4.27263696558, 0.0, 0.0, 0.0, // zoom in factor\n      0.0, -7.59577978336, 0.0, 0.0, // zoom in factor * aspect ratio\n      0.0, 0.0, -0.0003, -1.0, // use mine, it will become -1.0006...\n      0.0, 0.0, -0.30009, 0.0); // use mine, it will become -0.6002...\n      gl_Position = fakeProjectionMatrix * viewMatrix * vec4(some_vector_12, 1.0);\n\n      // gl_Position = projectionMatrix * viewMatrix * vec4(some_vector_12, 1.0);\n      gl_Position.z = min(gl_Position.z, gl_Position.w);\n\n      vPosition = vec4(transformed_position, 0.0);\n\n      vColor1 = vec4(0.0);\n\n      vNormal = vec4(transformedNormal, 0.0);\n\n      vColor = color;\n\n\n\n      // #include <skinbase_vertex>\n      // #include <skinnormal_vertex>\n    }\n    ",co+"\n    #define NORMAL\n  \n    // #define USE_BASE_MAP // body use 2_fs\n  \n    in vec3 outputVertexToCameraDirection;\n    in vec4 vNormal;\n    in vec4 vPosition;\n    in vec4 vColor; // corresponding to o7\n    in vec4 vColor1; // corresponding to o4\n\n    in vec4 vUV01;\n    in vec4 vUV23;\n\n\n    uniform float opacity;    \n    \n    // ---------CUSTOM --------\n    #ifdef USE_BASE_MAP\n    uniform sampler2D baseTexture;\n    uniform sampler2D diffMap;\n\n    #endif\n    // -------------------------\n\n    void main() {\n      // ------- CUSTOM --------\n      // TODO 1_fs not defined it, 2_fs defined USE_BASE_MAP, it's corresponding to the first color pass\n      #ifdef USE_BASE_MAP\n      // mat4 cb1_4567 = mat4(vec4(0.8105, -0.19902, 0.55089, 0.00), vec4(0.17636, 0.97978, 0.09449, 0.00), vec4(-0.55856, 0.02057, 0.82921, 0.00), vec4(-0.16085, -0.86985, -0.0878, 1.00));\n      mat4 modelMatrix1 = mat4(0.1000, 0, 0, 0, 0, 0.0000, 0.1000, 0, 0, -0.1000, 0.0000, 0, 0.0011, 0.1778, 0.0002, 1);\n      mat3 transposedModelMatrix = transpose(mat3(modelMatrix1));\n      mat4 cb1_4567 = mat4(transposedModelMatrix);\n      vec3 inverseTranslation = -transposedModelMatrix * vec3(modelMatrix1[0].w, modelMatrix1[1].w, modelMatrix1[2].w);\n      cb1_4567[0].w = inverseTranslation.x;\n      cb1_4567[1].w = inverseTranslation.y;\n      cb1_4567[2].w = inverseTranslation.z;\n      cb1_4567[3].w = 1.0;      \n      // mat3 cb1_012 = mat3(vec3(0.8105, 0.17636, -0.55856), vec3(-0.19902, 0.97978, 0.02057), vec3(0.55089, 0.09449, 0.82921));\n      mat3 cb1_012 = mat3(modelMatrix1);\n      vec3 some_vec4 = (cb1_4567 * cb0_67).xyz;\n      some_vec4 = cb1_012 * some_vec4;\n\n      float some_float = clamp(dot(cb2_183.xyz, some_vec4), 0.0, 1.0);\n      some_float = pow(some_float, 4.0) + -1.0;\n\n      some_float = cb2_6w * (some_float * cb2_7x + 1.0);\n      if (cb2_7x <= 0.0) {\n        some_float = cb2_6w;\n      }\n      vec4 diff_value = texture(diffMap, vUV01.xy);\n      vec4 base_value = texture(baseTexture, vUV01.xy);\n\n      float is_specific_part = dot(base_value, cb2_8);\n\n      float some_float_2 = some_float * is_specific_part + (1.0 - some_float) * diff_value.a;\n\n      // TODO: provide both maps to shader\n      if (some_float_2 * (cb2_4w * cb2_3w) - cb2_9x < 0.0) {\n        discard;\n      }\n\n      float some_value_3 = some_float * is_specific_part + (1.0 - some_float) * diff_value.a;\n      if (some_value_3 * (cb2_4w * cb2_3w) - cb2_9x < 0.0) {\n        discard;\n      }\n      #endif\n      // End here\n      gl_FragColor = vec4( 1.0 );\n      // ------- CUSTOM END --------\n    \n    }\n    "),fo={constant_buffer_0:{cb0_6xyz:{value:new i.Vector3(1,1,1)},cb0_10x:{value:0},cb0_16xyz:{value:new i.Vector3(.286179,1.272233,3.5616)},near_value:{value:.3},far_value:{value:1e3},cb0_20zw:{value:new i.Vector2(3.33233,.001)},cb0_21y:{value:5},cb0_21w:{value:0},cb0_59z:{value:3e-4},cb0_60z:{value:.30009},cb0_65xyz:{value:new i.Vector3(-.99177,0,.12807)},cb0_66xyz:{value:new i.Vector3(-.00254,.9998,-.01967)},cb0_67:{value:new i.Vector4(.12805,.01984,.99157,0)},cb0_125zw:{value:new i.Vector2(3840,2160)},cb0_126x:{value:0},cb0_126y:{value:0},cb0_129x:{value:1.25},cb0_129yzw:{value:new i.Vector3(1,1,1)},cb0_130x:{value:1},cb0_133_136:{value:new i.Matrix4(-.663,.0641,.05196,0,0,-.8285,.24511,0,.08562,.49639,.40239,0,-.32784,.76774,.30746,1)},cb0_137x:{value:12e-5},cb0_138x:{value:200},cb0_138yz:{value:new i.Vector2(1,1)},cb0_139xyz:{value:new i.Vector3(.10962,.51708,.84914)},cb0_139w:{value:1},cb0_140y:{value:1},cb0_140z:{value:1},cb0_141xyz:{value:new i.Vector3(.01,.01,.01)},cb0_141w:{value:1.25},cb0_142x:{value:0},cb0_142yz:{value:new i.Vector2(1e3,2e3)},cb0_143xy:{value:new i.Vector2(-.24531,.77795)},cb0_144xyz:{value:new i.Vector3(.31539,.78927,.52686)},cb0_144w:{value:15},cb0_145xy:{value:new i.Vector2(.5625,1)},cb0_145z:{value:.06667},cb0_146xyz:{value:new i.Vector3(.36621,.37855,.52536)},cb0_147xyz:{value:new i.Vector3(1,1,1)},cb0_147w:{value:0},cb0_148xyz:{value:new i.Vector3(2.39783,3.35939,3.6175)},cb0_149xyz:{value:new i.Vector3(0,0,0)},cb0_150xyz:{value:new i.Vector3(1,1,1)},cb0_151xyz:{value:new i.Vector3(1,1,1)},cb0_152xyz:{value:new i.Vector3(1.2,1.2,1.2)},cb0_153yzw:{value:new i.Vector3(1,1,1)},cb0_154xyz:{value:new i.Vector3(1,1,1)},cb0_155xyz:{value:new i.Vector3(1,1,1)},cb0_156xyz:{value:new i.Vector3(1,1,1)},cb0_156w:{value:0},cb0_157x:{value:1},cb0_157y:{value:.5},cb0_158xyz:{value:new i.Vector3(1,1,1)},cb0_159xyz:{value:new i.Vector3(1,1,1)},cb0_159w:{value:1},cb0_162x:{value:0},cb0_153x:{value:0},cb0_152w:{value:.25}},constant_buffer_1:{cb1_9w:{value:1},cb1_25xyzw:{value:new i.Vector4(.00733,-.0057,.01225,.16976)},cb1_26xyzw:{value:new i.Vector4(.01153,.04141,.01926,.21119)},cb1_27xyzw:{value:new i.Vector4(.01989,.12794,.03323,.2896)},cb1_28xyzw:{value:new i.Vector4(.00577,.00963,.02987,.0097)},cb1_29xyzw:{value:new i.Vector4(.00922,.0154,.04152,.01415)},cb1_30xyzw:{value:new i.Vector4(.01658,.02769,.05084,.02056)},cb1_31xyz:{value:new i.Vector3(.02473,.03401,.03987)}},constant_buffer_2:{cb2_0x:{value:1},cb2_186y:{value:0},cb2_190x:{value:0},cb2_194y:{value:1},cb2_141zw:{value:new i.Vector2(1,1)},cb2_148x:{value:1},cb2_147w:{value:1},cb2_153x:{value:1},cb2_151xyzw:{value:new i.Vector4(0,1,0,0)},cb2_150w:{value:0},cb2_188w:{value:2},cb2_142x:{value:1},cb2_139xy:{value:new i.Vector2(0,0)},cb2_142z:{value:0},cb2_187yzw:{value:new i.Vector3(-.01578,1.34417,-43e-5)},cb2_138y:{value:.04},cb2_185x:{value:0},cb2_183xyz:{value:new i.Vector3(.16652,-.00164,.98604)},cb2_184w:{value:0},cb2_148y:{value:.02},cb2_148z:{value:.02},cb2_149:{value:new i.Vector4(0,1,0,0)},cb2_150x:{value:1},cb2_150yz:{value:new i.Vector2(0,1)},cb2_9w:{value:0},cb2_10x:{value:0},cb2_123y:{value:1},cb2_138z:{value:1},cb2_140w:{value:1},cb2_187x:{value:1},cb2_188x:{value:0},cb2_188y:{value:1},cb2_186w:{value:1},cb2_4567:{value:new i.Matrix4(.8105,-.19902,.55089,0,.17636,.97978,.0945,0,-.55856,.02056,.82921,0,.64965,-1.06887,.46308,1)},cb2_012:{value:new i.Matrix3(.8105,.17636,-.55856,-.19902,.97978,.02056,.55089,.0945,.82921)},cb2_11z:{value:1},cb2_11y:{value:1},uv_scale_offset:{value:new i.Vector4(1,1,0,0)},cb2_10y:{value:1}},constant_buffer_3:{cb3_2x:{value:0},cb3_4:{value:new i.Vector4(1,1,1,1)},cb3_3:{value:new i.Vector4(1,1,1,1)},cb3_5xyz:{value:new i.Vector3(1,1,1)},cb3_183xyz:{value:new i.Vector3(.16652,-.00164,.98604)},cb3_7x:{value:0},cb3_6w:{value:1},cb3_8:{value:new i.Vector4(0,0,1,0)},cb3_9x:{value:.5},cb3_75x:{value:0},cb3_75y:{value:0},cb3_74:{value:new i.Vector4(1,0,0,0)},cb3_75zw:{value:new i.Vector2(.19829,.2407)},cb3_73z:{value:1},cb3_57:{value:new i.Vector4(1,1,0,0)},cb3_59y:{value:0},cb3_60:{value:new i.Vector4(0,1,0,0)},cb3_58x:{value:1},cb3_58yzw:{value:new i.Vector3(0,0,0)},cb3_59x:{value:0},cb3_88z:{value:0},cb3_89:{value:new i.Vector4(0,0,1,0)},cb3_90xy:{value:new i.Vector2(0,1)},cb3_95x:{value:0},cb3_91xyz:{value:new i.Vector3(1,1,1)},cb3_90w:{value:1},cb3_92x:{value:0},cb3_179:{value:new i.Vector4(0,1,0,0)},cb3_180x:{value:0},cb3_180y:{value:0},cb3_180z:{value:1},cb3_178y:{value:1},cb3_73w:{value:.5},cb3_147xyz:{value:new i.Vector3(1,1,1)},cb3_146w:{value:0},cb3_122zw:{value:new i.Vector2(0,.05)},cb3_123x:{value:0},cb3_125xy:{value:new i.Vector2(-.3,.15)},cb3_125z:{value:.5},cb3_124w:{value:1},cb3_128w:{value:1},cb3_129x:{value:1},cb3_194w:{value:1},cb3_186y:{value:0},cb3_129y:{value:1},cb3_130:{value:new i.Vector4(0,1,0,0)},cb3_134z:{value:.1},cb3_138y:{value:.04},cb3_134x:{value:0},cb3_134y:{value:1},cb3_137w:{value:0},cb3_138x:{value:1},cb3_138w:{value:1},cb3_141y:{value:1},cb3_110w:{value:1},cb3_111xyz:{value:new i.Vector3(.01,1,1)},cb3_108w:{value:0},cb3_109x:{value:.5},cb3_109y:{value:1},cb3_113xyz:{value:new i.Vector3(.6,1,.94902)},cb3_113w:{value:1},cb3_110xyz:{value:new i.Vector3(.76431,.45,1)},cb3_112xyz:{value:new i.Vector3(1,1,1)},cb3_114x:{value:1},cb3_114yzw:{value:new i.Vector3(1,.60383,.60383)},cb3_115yzw:{value:new i.Vector3(1,.60383,.60383)},cb3_115x:{value:1},cb3_137xyz:{value:new i.Vector3(1,.85,.85)},cb3_135y:{value:1},cb3_117w:{value:1},cb3_118x:{value:0},cb3_116x:{value:1},cb3_129z:{value:0},cb3_117xyz:{value:new i.Vector3(1,1,1)},cb3_136xyz:{value:new i.Vector3(1,1,1)},cb3_135x:{value:.85},cb3_140xyz:{value:new i.Vector3(1,1,1)},cb3_92y:{value:1},cb3_85w:{value:.5},cb3_94yz:{value:new i.Vector2(.1,.05)},cb3_94x:{value:0},cb3_94w:{value:0},cb3_91w:{value:0},cb3_133xyz:{value:new i.Vector3(1,1,1)},cb3_188z:{value:1},cb3_186w:{value:1},cb3_132x:{value:1},cb3_132y:{value:1},cb3_123z:{value:0},cb3_123w:{value:.05},cb3_126x:{value:0},cb3_126y:{value:.15},cb3_139w:{value:0},cb3_126z:{value:.2},cb3_125w:{value:1},cb3_124z:{value:2},cb3_124x:{value:.2},cb3_124y:{value:.2},cb3_6xyz:{value:new i.Vector3(1,1,1)},cb3_178x:{value:0},cb3_174xyz:{value:new i.Vector3(1,1,1)},cb3_175xyz:{value:new i.Vector3(0,0,0)},cb3_176xyz:{value:new i.Vector3(1,1,0)},cb3_176w:{value:0},cb3_134w:{value:1},cb3_9z:{value:0},cb3_9y:{value:1},cb3_133w:{value:0},cb3_189x:{value:1},cb3_189y:{value:0},cb3_144w:{value:1},cb3_144xyz:{value:new i.Vector3(.623,.238,.289)},cb3_143xyz:{value:new i.Vector3(.25,.25,.25)},cb3_153yzw:{value:new i.Vector3(1,1,1)},cb3_145w:{value:0},cb3_146xyz:{value:new i.Vector3(1,1,1)},cb3_154w:{value:0},cb3_154xyz:{value:new i.Vector3(1,1,1)},cb3_145xyz:{value:new i.Vector3(1,1,1)},cb3_177:{value:new i.Vector4(0,0,0,4)},cb3_90z:{value:0}}},vo=String("\nuniform float cb2_0x;\nuniform float cb2_186y;\nuniform float cb2_190x;\nuniform vec2 cb2_141zw;\nuniform float cb0_126x;\nuniform float cb2_194y;\nuniform float cb0_21w; // is perspective camera (=0) or orthographic camera (=1)\nuniform float cb2_148x;\nuniform float cb2_153x;\nuniform float cb0_129x;\nuniform float cb2_147w;\nuniform vec4 cb2_151xyzw;\nuniform float cb2_150w;\nuniform float cb0_144w; // constraint scaling factor\nuniform float cb0_21y;\nuniform float cb0_130x; // positionVS_Z control factor to force it to 60.0\nuniform float cb2_188w;\nuniform float cb2_142x;\nuniform vec2 cb2_139xy;\nuniform vec2 cb0_138yz;\nuniform float cb0_137x;\nuniform vec3 cb0_139xyz;\nuniform float cb2_142z; // Offset vertex position in view space\nuniform vec3 cb0_16xyz;\nuniform vec3 cb2_187yzw;\nuniform float cb0_126y;\nuniform float cb2_138y;\nuniform float cb2_185x;\nuniform vec3 cb2_183xyz;\nuniform float cb2_184w;\nuniform float cb2_148y;\nuniform float cb2_148z;\nuniform vec4 cb2_149;\nuniform float cb2_150x;\nuniform vec2 cb2_150yz;\nuniform float cb2_9w;\nuniform float cb2_10x;\nuniform float cb2_123y;\nuniform vec4 cb1_25xyzw;\nuniform vec4 cb1_26xyzw;\nuniform vec4 cb1_27xyzw;\nuniform vec4 cb1_28xyzw;\nuniform vec4 cb1_29xyzw;\nuniform vec4 cb1_30xyzw;\nuniform vec3 cb1_31xyz;\nuniform float cb0_140z;\nuniform float cb2_138z;\nuniform float cb2_140w;\nuniform float near_value; // cb0_17y\nuniform float far_value; // cb0_17z\nuniform float cb0_59z;\nuniform float cb0_60z;\nuniform float cb2_187x;\nuniform float cb2_188x;\nuniform float cb2_188y;\nuniform float cb2_186w;\nuniform int cb3_2x;\nuniform vec4 cb3_4;\nuniform vec4 cb3_3;\nuniform vec3 cb3_5xyz;\nuniform vec3 cb0_158xyz;\nuniform mat4 cb2_4567;      \n\nuniform vec4 cb0_67;\nuniform mat3 cb2_012;\n\nuniform vec3 cb3_183xyz;\nuniform float cb3_7x;\nuniform float cb3_6w;\nuniform vec4 cb3_8;\nuniform float cb3_9x;\nuniform int cb3_75x;\nuniform float cb3_75y;\nuniform vec4 cb3_74;\nuniform vec2 cb3_75zw;\nuniform float cb3_73z;\nuniform float cb0_140y;\nuniform vec4 cb3_57;\nuniform float cb3_59y;\nuniform vec4 cb3_60;\nuniform float cb3_58x;\nuniform vec3 cb3_58yzw;\nuniform float cb3_59x;\nuniform uint cb3_88z; // which UV\nuniform vec4 cb3_89;\nuniform vec2 cb3_90xy;\nuniform float cb3_95x;\nuniform vec3 cb3_91xyz;\nuniform float cb3_90w;\nuniform float cb3_92x;\nuniform vec4 cb3_179;\nuniform float cb3_180x;\nuniform float cb3_180y;\nuniform float cb3_180z;\nuniform float cb3_178y;\nuniform vec2 cb0_20zw;\nuniform float cb3_73w;\nuniform float cb2_11z;\nuniform vec3 cb0_6xyz;\nuniform float cb3_186w;\nuniform vec3 cb0_141xyz;\nuniform vec3 cb3_147xyz;\nuniform float cb3_146w;\nuniform vec3 cb0_144xyz;\nuniform vec2 cb3_122zw;\nuniform float cb3_123x;\nuniform vec2 cb3_125xy;\nuniform float cb3_125z;\nuniform float cb3_124w;\nuniform float cb3_128w;\nuniform float cb3_129x;\nuniform float cb3_194w;\nuniform float cb0_162x;\nuniform float cb3_186y;\nuniform float cb3_129y;\nuniform float cb0_141w;\nuniform vec4 cb3_130;\nuniform float cb0_145z;\nuniform vec2 cb0_145xy;\nuniform vec2 cb0_143xy;\nuniform vec2 cb0_125zw;\nuniform float cb3_134z;\nuniform float cb3_138y;\nuniform float cb0_142x;\nuniform float cb3_134x;\nuniform float cb3_134y;\nuniform float cb3_137w;\nuniform float cb3_138x;\nuniform vec2 cb0_142yz;\nuniform float cb3_138w;\nuniform mat4 cb0_133_136;\nuniform float cb0_138x;\nuniform float cb0_139w;\nuniform float cb3_141y;\nuniform float cb0_159w;\nuniform float cb3_110w;\nuniform vec3 cb3_111xyz;\nuniform float cb3_108w;\nuniform float cb3_109x;\nuniform float cb3_109y;\nuniform vec3 cb3_113xyz;\nuniform float cb3_113w;\nuniform vec3 cb3_110xyz;\nuniform vec3 cb3_112xyz;\nuniform float cb3_114x;\nuniform vec3 cb3_114yzw;\nuniform vec3 cb3_115yzw;\nuniform float cb3_115x;\nuniform vec3 cb3_137xyz;\nuniform float cb3_135y;\nuniform float cb3_117w;\nuniform float cb3_118x;\nuniform float cb3_116x;\nuniform vec3 cb3_117xyz;\nuniform vec3 cb3_136xyz;\nuniform float cb3_135x;\nuniform vec3 cb3_140xyz;\nuniform vec3 cb0_159xyz;\nuniform float cb3_92y;\nuniform float cb3_85w;\nuniform vec2 cb3_94yz;\nuniform float cb3_94x;\nuniform vec3 cb0_152xyz;\nuniform float cb3_94w;\nuniform float cb3_91w;\nuniform vec3 cb0_150xyz;\nuniform vec3 cb3_133xyz;\nuniform float cb3_188z;\nuniform float cb3_132x;\nuniform float cb3_132y;\nuniform vec3 cb0_148xyz;\nuniform vec3 cb0_149xyz;\nuniform vec3 cb0_153yzw;\nuniform uint cb2_11y;\nuniform uint cb0_10x;\nuniform float cb3_139w;\nuniform float cb3_123z;\nuniform float cb3_123w;\nuniform float cb3_126x;\nuniform float cb3_126y;\nuniform float cb3_126z;\nuniform float cb3_125w;\nuniform float cb3_124z;\nuniform float cb3_124x;\nuniform vec3 cb0_151xyz;\nuniform float cb0_157x;\nuniform float cb0_157y;\nuniform float cb0_156w;\nuniform vec3 cb0_154xyz;\nuniform vec3 cb0_155xyz;\nuniform float cb3_124y;\nuniform vec3 cb3_6xyz;\nuniform float cb3_129z;\nuniform float cb3_178x;\nuniform vec3 cb3_174xyz;\nuniform vec3 cb3_175xyz;\nuniform vec3 cb3_176xyz;\nuniform float cb3_133w;\nuniform float cb3_176w;\nuniform float cb3_134w;\nuniform vec3 cb0_146xyz;\nuniform vec3 cb0_147xyz;\nuniform float cb0_147w;\nuniform float cb3_9z;\nuniform float cb3_9y;\nuniform float cb3_189x;\nuniform float cb3_189y;\nuniform vec3 cb0_156xyz;\nuniform float cb3_144w;\nuniform vec3 cb3_144xyz;\nuniform vec3 cb3_143xyz;\nuniform vec3 cb3_153yzw;\nuniform vec3 cb0_129yzw;\nuniform float cb3_145w;\nuniform vec3 cb3_146xyz;\nuniform float cb3_154w;\nuniform vec3 cb3_154xyz;\nuniform vec3 cb3_145xyz;\nuniform vec4 cb3_177;\nuniform float cb3_90z;\nuniform float cb0_153x;\nuniform float cb0_152w;\nuniform float cb1_9w;\nuniform vec4 uv_scale_offset;\nuniform float cb2_10y;\nuniform vec3 cb0_65xyz;\nuniform vec3 cb0_66xyz;\n");const mo=dn(function(e){const t={};for(const n in e)t[n]=e[n].value;return t}(oo([i.UniformsLib.common,fo.constant_buffer_0,fo.constant_buffer_1,fo.constant_buffer_2,fo.constant_buffer_3,{opacity:{value:2},vertexTangents:{value:!0},vertexUv1s:{value:!0},vertexUv2s:{value:!0},vertexUv3s:{value:!0},vertexAlphas:{value:!0},diffMap:{value:null},diffMap_1:{value:null},baseTexture:{value:null},segMap:{value:null},segMap_1:{value:null},segMap_2:{value:null},segMap_3:{value:null},depthMap:{value:null},shadowMap:{value:null}}])),vo+"\n\n    //in vec3 position; // The commented input attribute is defined and don't need to define here\n    //in vec3 normal;\n    #ifndef USE_TANGENT\n    in vec4 tangent;\n    #endif\n    in vec4 color;\n\n    //in vec2 uv;\n    in vec2 uv1;\n    in vec2 uv2;\n    in vec2 uv3;\n\n    // It actually correspond to v7 (NormalTS)\n    in vec2 texcoord_4;\n    in vec2 texcoord_5;\n\n\n    out vec3 outputVertexToCameraDirection;\n    out vec4 vNormal;\n    out vec4 vPosition;\n    out vec4 vColor; // corresponding to o7\n    out vec4 vColor1; // corresponding to o4\n\n    out vec4 vUV01;\n    out vec4 vUV23;\n  \n    uniform sampler2D outlineZOffsetIntensityMap; // TODO\n    uniform sampler2D unknownMap; // TODO, this need to be decipher from the fs's usage\n\n    // #include <skinning_pars_vertex>\n\n    // ----- CUSTOM ------\n    // --------------------\n    \n    void main() {\n      if (cb2_0x == 0.0 || cb2_186y == 1.0 || cb2_190x == 1.0) {\n        // Set all output attribute to zero\n        return;\n      }\n      vec4 sRGBColor = vec4(pow(color.r, 0.4545), pow(color.g, 0.4545), pow(color.b, 0.4545), 1.0);\n\n      #ifdef UNKNOWN_DEFINE_1 // 1_vs defined this\n      if (cb2_194y == 0.0) {\n        // Set all output attribute to zero\n        return;\n      }\n      #endif\n\n      vec2 output_uv_0 = uv * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_1 = uv1 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_2 = uv2 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_3 = uv3 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vUV01 = vec4(output_uv_0, output_uv_1);\n      vUV23 = vec4(output_uv_2, output_uv_3);\n\n      // position: vec3\n      // modelMatrix presented at WebGLRenderer.js? modelMatrix: mat4\n      // modelMatrix = cb1_0123\n      // NOTE: modelMatrix is correct currently\n      vec4 transformed_position = modelMatrix * vec4(position, 1.0);\n\n      // normalMatrix = transposed_modelMatrix = transpose(cb1_012)\n      // normal defined in WebGLProgram\n      // vec3 transformedNormal = normalMatrix * normal;\n      mat3 fakeNormalMatrix = mat3(modelMatrix); // FIXME, others should also change, normalMatrix somehow doesn't go with my expectation\n      vec3 transformedNormal = fakeNormalMatrix * normal;\n      transformedNormal = normalize( transformedNormal );\n\n      #if defined(UNKNOWN_DEFINE_1)\n      // if you want to define tangent, just add vertexTangents into parameter and WebGLProgram will do it for you \n      vec3 transformedTangent = mat3(modelMatrix) * vec3(tangent);\n      transformedTangent = normalize(transformedTangent);\n\n      //(a.y*b.z-a.z*b.y, a.z*b.x-a.x*b.z, a.x*b.y-a.y*b.x)\n      vec3 transformedBitangent = cross(transformedNormal, transformedTangent);\n      if (cb1_9w >= 0.0) {\n        transformedBitangent = tangent.w * transformedBitangent;\n      } else {\n        transformedBitangent = -tangent.w * transformedBitangent;\n      }\n      #endif\n\n      // Confidence: Max, Until this point, the transformed_position variable won't be change further\n      transformed_position.w = 0.0;\n      \n      vec3 normalTS = vec3(texcoord_4.x, 1.0 - texcoord_4.y, texcoord_5.x);\n\n      #if defined(UNKNOWN_DEFINE_1)\n      vec3 normalWS = normalTS.z * transformedNormal + normalTS.x * transformedTangent + normalTS.y * transformedBitangent;\n      if (normalTS.z != 0.0 && cb2_142x != 0.0) {\n      } else {\n        normalWS = transformedNormal;\n      }\n      #endif\n\n      mat4 fakeProjectionMatrix = mat4(4.27263696558, 0.0, 0.0, 0.0, // zoom in factor\n      0.0, -7.59577978336, 0.0, 0.0, // zoom in factor * aspect ratio\n      0.0, 0.0, -0.0003, -1.0, // use mine, it will become -1.0006...\n      0.0, 0.0, -0.30009, 0.0); // use mine, it will become -0.6002...\n\n      vec4 positionCS;\n      #ifdef UNKNOWN_DEFINE_1 // 1_vs defined this\n      vec2 some_vector_10 = vec2(3.5, -3.5) * cb0_137x * (cb2_139xy + cb0_138yz);\n\n      float some_value_11 = 1.0 - clamp(dot(-cb0_139xyz, normalWS), 0.0, 1.0);\n      some_value_11 *= some_vector_10.y;\n\n      vec3 changed_position = transformed_position.xyz - some_vector_10.x * cb0_139xyz + some_value_11 * normalWS;\n\n      // in original shader, viewProjectionMatrix is together, but in three.js, it's separate, viewProjectionMatrix = cb0_73_to_76\n      positionCS = fakeProjectionMatrix * viewMatrix * vec4(changed_position, 1.0);\n      positionCS.z = min(positionCS.z, positionCS.w);\n\n      vColor1 = vec4(0.0);\n      #endif\n\n      // outputVertexToCameraDirection = o6\n      if (cb0_21w == 0.0) {\n        // Perspective camera: camera to vertex position direction\n        outputVertexToCameraDirection = cb0_16xyz - transformed_position.xyz;\n      } else {\n        // Orthographic camera: Eye look into direction (View matrix's Z direction)\n        outputVertexToCameraDirection = vec3(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z); // get viewMatrix's z direction vector\n      }\n\n      vec3 some_vector_3 = transformed_position.xyz - cb2_187yzw;\n      #if defined(UNKNOWN_DEFINE_2)\n      vec3 adjustedNormal = (1.0 - cb2_185x) * cb2_183xyz + cb2_185x * some_vector_3;\n\n      transformedNormal = cb2_184w * adjustedNormal + (1.0 - cb2_184w) * transformedNormal;\n      // although vNormal is in <normal_pars_vertex> and <normal_pars_fragment>, I want to manually provide it here\n      #endif\n      transformedNormal = normalize(transformedNormal);\n      vNormal.xyz = transformedNormal;\n\n      #if defined(UNKNOWN_DEFINE_2) || defined(UNKNOWN_DEFINE_3)\n      // Maybe ultimately for override Z? Because it used on eyebrow\n      if (cb2_9w != 0.0) {\n        transformed_position.w = -cb2_10x;\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_2) || defined(UNKNOWN_DEFINE_3) // appeared at every vertex shader except 1_vs\n      vec4 some_vector_21 = vec4(transformedNormal * (1.0 - cb2_123y), 1.0);\n      vec3 some_vector_22 = vec3(dot(cb1_25xyzw, some_vector_21), dot(cb1_26xyzw, some_vector_21), dot(cb1_27xyzw, some_vector_21));\n\n      vec4 some_vector_23 = some_vector_21.xyzz * some_vector_21.yzzx;\n      vec3 some_vector_24 = vec3(dot(cb1_28xyzw, some_vector_23), dot(cb1_29xyzw, some_vector_23), dot(cb1_30xyzw, some_vector_23));\n      float some_value_22 = some_vector_21.x * some_vector_21.x - some_vector_21.y * some_vector_21.y;\n\n      vColor1.xyz = cb0_140z * max(vec3(0.0), some_vector_22 + cb1_31xyz * some_value_22 + some_vector_24);\n\n      // FIXME unknownMap is a red line\n      // vNormal.w = cb2_140w * (texture(unknownMap, vec2(cb2_138z, 0.0)).x - 1.0) + 1.0;\n      vNormal.w = cb2_140w * (1.0 - 1.0) + 1.0; // FIXME currently use this, when I get red line texture, I will fix this line\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_2) || defined(UNKNOWN_DEFINE_3)\n      // projectionMatrix * viewMatrix have large w error\n      positionCS = fakeProjectionMatrix * viewMatrix * vec4(transformed_position.xyz, 1.0);\n\n      float near_value = 0.3; // cb0_17y\n      float far_value = 1000.0; // cb0_17z\n      float some_value_6 = positionCS.z + (transformed_position.w / (far_value - near_value));\n\n      float some_denominator = max(5.96046448e-008 + near_value, abs(positionCS.w) - transformed_position.w); // maybe is viewZ?, select later case\n      // 1.0 / ((1.0 / near_value) - (1.0 / far_value)) - some_denominator * (near_value / far_value)\n      // (near_value * far_value) / (far_value - near_value) - some_denominator * (near_value / far_value)\n      // maybe viewZ to perspective depth (linear)\n      float some_value_7 = ((cb0_60z - some_denominator * cb0_59z) * positionCS.w) / (some_denominator);\n\n      // modified_position will be new vertex output \n      vec4 modified_position;\n      modified_position.xyw = positionCS.xyw;\n      if (cb0_21w != 0.0) {\n        modified_position.z = some_value_6;\n      } else {\n        modified_position.z = -some_value_7;\n      }\n\n      if (cb0_126x != 0.0) {\n        modified_position.z = positionCS.z;\n      }\n\n      if (transformed_position.w != 0.0) {\n      } else {\n        modified_position.z = positionCS.z;\n      }\n\n      float some_value_8 = sqrt(dot(some_vector_3, some_vector_3));\n      some_value_8 = clamp(cb2_187x - some_value_8 / cb2_187x, 0.0, 1.0);\n\n      float some_value_9 = clamp((transformed_position.y - cb2_188x) / (cb2_188y - cb2_188x), 0.0, 1.0);\n      some_value_8 *= cb2_186w * some_value_9;\n\n      float some_value_10 = dot(vec4(cb2_187yzw, 1.0), vec4(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z, viewMatrix[3].z));\n      vec2 some_vector_7 = modified_position.xy * abs(modified_position.w);\n      some_value_10 = 1.0 / abs(some_value_10);\n\n      vec2 some_vector_8 = some_value_8 * (some_vector_7 * some_value_10) + (1.0-some_value_8) * (modified_position.xy);\n      positionCS = modified_position;\n      if (cb0_21w == 1.0 || cb0_126y != 0.0) {\n        // is orthogonal camera or something?\n      } else {\n        positionCS.xy = some_vector_8;\n      }\n      vColor1.w = 0.0;\n      #endif\n\n      // Confidence: Max\n      // TODO transformed_position vs vPosition need to revisit their relationships\n      vPosition = transformed_position;\n      gl_Position = positionCS;\n      // vUV23.xyz = normalWS; // FIXME should remove\n\n      // mat4 fakeViewProjectionMatrix = mat4(-4.23743,  0.0193,   0.00004,     -0.12805,\n      //   0.00,      -7.59426 ,5.95238E-06 ,-0.01984,\n      //   0.5472,    0.14944 , 0.0003      ,-0.99157,\n      //   -0.73626,  9.12388,  0.29901     ,3.5935);\n      // NOTE: blender save calibrate = ctrl + a, apply transformation, save FBX with Z foward (not -Z forward), no other options in transform panel while exporting\n      // mat4 fakeProjectionMatrix = mat4(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, -1.0003, -1.0, 0.0, 0.0, -0.300090027, 0.0);\n      // mat4 fakeProjectionMatrix = mat4(4.27263696558, 0.0, 0.0, 0.0,\n      //                                     0.0, -7.59577978336, 0.0, 0.0,\n      //                                     0.0, 0.0, 0.00030271063, -1.0, // use mine, it will become -1.0006...\n      //                                     0.0, 0.0, 0.30009751145, 0.0); // use mine, it will become -0.6002...\n      // NOTE: Since Three.js used right-handed Y-up coordinate, the z compare should add negative sign\n      mat4 changeOfBasisMatrix = mat4(1.0, 0.0, 0.0, 0.0,\n                                      0.0, 1.0, 0.0, 0.0,\n                                      0.0, 0.0, -1.0, 0.0,\n                                      0.0, 0.0, 0.0, 1.0);\n      // gl_Position = fakeProjectionMatrix * viewMatrix * vec4((modelMatrix * vec4(position, 1.0)).xyz, 1.0); // FIXME debug\n      // gl_Position = projectionMatrix * viewMatrix * vec4((modelMatrix * vec4(position, 1.0)).xyz, 1.0); // FIXME \n      // vPosition = vec4(position, 1.0);\n      // gl_Position.w = 1.0;\n      // gl_Position.z = 1.0;\n      vColor = sRGBColor;\n    }\n    ",vo+"\n    // #define USE_BASE_MAP\n  \n    in vec3 outputVertexToCameraDirection;\n    in vec4 vNormal;\n    in vec4 vPosition;\n    in vec4 vColor; // corresponding to o7\n    in vec4 vColor1; // corresponding to o4\n\n    in vec4 vUV01;\n    in vec4 vUV23;\n\n    uniform mat4 modelMatrix;\n    uniform float opacity;\n\n    #include <packing>\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n      return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n  \n    }  \n\n            \n    // ---------CUSTOM --------\n    #ifdef USE_BASE_MAP\n    uniform sampler2D baseTexture;\n    uniform sampler2D diffMap;\n    uniform sampler2D diffMap_1;\n    uniform sampler2D segMap;\n    uniform sampler2D segMap_1;\n    uniform sampler2D segMap_2;\n    uniform sampler2D segMap_3;\n    // https://gist.github.com/Popov72/7f1388c0b35fef351014a1946b40dabd\n    uniform sampler2D depthMap; \n    // uniform sampler2DShadow shadowMap;// FIXME according to softShadows.js, we should use sampler2D\n    uniform sampler2D shadowMap;\n\n    #endif\n    // -------------------------\n\n    // [R | t][A] -> [I]\n    // [A] <- [R^T | -R^T t]\n    // >= 8 \n    \n    void main() {    \n      vec3 debug_vector; \n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_4) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      vec3 faceCalibratedNormalWS = vNormal.xyz;\n      if (!gl_FrontFacing) {\n        faceCalibratedNormalWS *= -1.0;\n      }\n      #else \n      // FIXME temparary\n      vec3 faceCalibratedNormalWS = vNormal.xyz;\n      #endif\n\n      vec4 raw_diffuse = texture(diffMap, vec2(vUV01.xy));\n      raw_diffuse.rgb = raw_diffuse.rgb * cb3_4.rgb * cb3_3.rgb;\n      vec3 tint_on_diffuse = cb3_5xyz * cb0_158xyz; // tint = color tone\n      vec3 diffuse = tint_on_diffuse * raw_diffuse.rgb;\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_4)\n      raw_diffuse.a = raw_diffuse.a * cb3_4.a * cb3_3.a;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      // model matrix: [R | t]\n      // fullTransposedModelMatrix = cb2_4567 = [R^T | -R^T t]\n      mat3 transposedModelMatrix = transpose(mat3(modelMatrix));\n      mat4 fullTransposedModelMatrix = mat4(vec4(transposedModelMatrix[0], 0.0),\n                                            vec4(transposedModelMatrix[1], 0.0),\n                                            vec4(transposedModelMatrix[2], 0.0),\n                                            vec4(-transposedModelMatrix * modelMatrix[3].xyz, 1.0));\n\n      vec3 some_vector_30 = (fullTransposedModelMatrix * cb0_67).xyz;\n      // some_vector_30 = cb2_012 * some_vector_30;\n      some_vector_30 = mat3(modelMatrix) * some_vector_30;\n      float some_value_81 = clamp(dot(cb3_183xyz, some_vector_30), 0.0, 1.0);\n      some_value_81 = some_value_81 * some_value_81;\n      some_value_81 = some_value_81 * some_value_81 - 1.0;\n      some_value_81 = (1.0 - cb3_7x) * 1.0 + cb3_7x * some_value_81 * some_value_81;\n      some_value_81 = cb3_6w * some_value_81;\n      float some_value_82;\n      if (cb3_7x > 0.0) {\n        some_value_82 = some_value_81;\n      } else {\n        some_value_82 = cb3_6w;\n      }\n\n      vec4 segm_result_3 = texture(segMap_3, vec2(vUV01.xy)); // override visibility\n      raw_diffuse.a = (1.0 - some_value_82) * raw_diffuse.a + some_value_82 * dot(segm_result_3, cb3_8);\n      raw_diffuse.a = raw_diffuse.a * cb3_4.a * cb3_3.a;\n      // another component(rgb) is raw_diffuse computation\n      if (raw_diffuse.a - cb3_9x < 0.0) {\n        discard;\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      vec4 segm_result = texture(segMap, vec2(vUV01.xy));\n      float isShadow = dot(segm_result, cb3_74); // 0 represent fake shadow\n\n      if (cb3_75y != 0.0) {\n        // invert mask\n        isShadow = 1.0 - isShadow;\n      }\n      isShadow = clamp((isShadow - cb3_75zw.x) / (cb3_75zw.y - cb3_75zw.x), 0.0, 1.0);\n      float notSkin = cb3_73z * cb0_140y * (isShadow - 1.0);\n      isShadow = cb3_73z * cb0_140y * (isShadow - 1.0) + 1.0;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_2)\n      vec4 segm_result = texture(segMap, vec2(vUV01.xy) * cb3_57.xy + cb3_57.zw); // eye highlight color\n      if (cb3_59y != 0.0) {\n        segm_result.rgb = vec3(dot(segm_result, cb3_60));\n      }\n      vec3 some_vector_23 = cb3_58yzw * cb3_58x * segm_result.rgb;\n      vec3 some_vector_24 = (1.0 - cb3_59x) * vec3(1.0) + cb3_59x * diffuse;\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5)\n      vec4 segm_result_1 = texture(segMap_1, vec2(vUV01.xy));\n      float isHairHighlight = dot(segm_result_1, cb3_89);\n      isHairHighlight = clamp((isHairHighlight - cb3_90xy.x) / (cb3_90xy.y - cb3_90xy.x), 0.0, 1.0);\n      float some_value_58;\n      if (gl_FrontFacing && cb3_95x == 1.0) {\n        some_value_58 = 0.0;\n      } else {\n        some_value_58 = isHairHighlight;\n      }\n      if (cb3_95x == 2.0) {\n        if (!gl_FrontFacing) {\n          some_value_58 = 0.0;\n        }\n      }\n      if (cb3_95x != 0.0) {\n        isHairHighlight = some_value_58;\n      }\n      vec3 some_vector_25 = cb3_91xyz * cb3_90w * ((1.0 - cb3_92x) * vec3(1.0) + cb3_92x * diffuse);\n      #endif\n\n      vec3 normalizedOutputVertexToCameraDirection = normalize(outputVertexToCameraDirection);\n      faceCalibratedNormalWS = normalize(faceCalibratedNormalWS);\n\n      #if defined(UNKNOWN_DEFINE_FS_6)\n      vec4 segm_result_2 = texture(segMap_2, vec2(vUV01.xy));\n      float isUseConstShadowColor = dot(segm_result_2, cb3_179); // 1 means override shadow color\n      if (cb3_180x != 0.0) {\n        isUseConstShadowColor = 1.0 - isUseConstShadowColor;\n      }\n      isUseConstShadowColor = cb3_178y * clamp((isUseConstShadowColor - cb3_180y) / (cb3_180z - cb3_180y), 0.0, 1.0);\n      #endif\n\n      float some_value_1;\n      if (cb0_21w != 0.0) {\n        // Orthogonal camera\n        some_value_1 = (1.0 - gl_FragCoord.z) * far_value + (gl_FragCoord.z) * near_value;\n      } else {\n        // Perspective camera\n        // gl_FragCoord.z is calculated from \n        // float some_denominator = max(5.96046448e-008 + near_value, abs(positionCS.w) - transformed_position.w);\n        // float cb0_59z = 0.0003;\n        // float cb0_60z = 0.30009;\n        // float some_value_7 = ((cb0_60z - some_denominator * cb0_59z) * positionCS.w) / (some_denominator);  \n        // float fragCoordZ = (gl_FragCoord.z * 2.0 - 1.0) * gl_FragCoord.w;\n        // some_value_1 = 1.0 / (cb0_20zw.x * fragCoordZ + cb0_20zw.y);\n        // 3.33233, 0.001\n        // NOTE: When going from vertex shader to fragment shader, gl_FragCoord.w inverted\n        float fragCoordZ = -(gl_FragCoord.z * 2.0 - 1.0); // Nilo's v0.z is already scaled by W homogeneous component\n        some_value_1 = 1.0 / (cb0_20zw.x * fragCoordZ + cb0_20zw.y); // original is this\n        // debug_vector = vec3((some_value_1-3.3) * 10.0);\n        // some_value_1 = 1.0 / ((1.0/near_value - 1.0/far_value) * (1.0/gl_FragCoord.z) + 1.0/far_value)\n        // some_value_1 = 1.0 / (((far_value-near_value)(1.0/gl_FragCoord.z) + near_value)/(near_value*far_value))\n        // float viewZ = perspectiveDepthToViewZ(gl_FragCoord.z, near_value, far_value); // TODO currently use this\n        // some_value_1 = viewZToOrthographicDepth(viewZ, near_value, far_value);  // TODO need urgent fix, the original's v0.z range is 3.33 and beyond\n        // debug_vector = vec3(fragCoordZ-3.4);\n      }\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      float toCameraAndToNormalAngle = clamp(dot(normalizedOutputVertexToCameraDirection, faceCalibratedNormalWS), 0.0, 1.0);\n      float some_value_3 = cb3_73w * notSkin + 1.0;\n      vec3 nonSkinDiffuseColor = some_value_3 * max(cb0_141xyz, vColor1.rgb) * diffuse;\n      vec3 some_vector_1 = cb2_11z * cb0_6xyz;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      float toCameraAndToNormalAngle = clamp(dot(normalizedOutputVertexToCameraDirection, faceCalibratedNormalWS), 0.0, 1.0);\n      vec3 nonSkinDiffuseColor = max(cb0_141xyz, vColor1.rgb) * diffuse;\n      vec3 some_vector_1 = cb2_11z * cb0_6xyz;\n      #endif\n\n      float some_value_14;\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      float some_value_4 = dot(faceCalibratedNormalWS, cb0_144xyz); // some angle\n      float some_value_5 = cb3_122zw.x - cb3_122zw.y; // min range\n      float some_value_6 = cb3_122zw.x + cb3_122zw.y; // max range\n      some_value_5 = clamp((some_value_4 - some_value_5) / (some_value_6 - some_value_5), 0.0, 1.0); // constrain this angle to be in certain range\n      float some_value_7 = 3.0 - 2.0 * some_value_5;\n      some_value_5 = some_value_5 * some_value_5;\n      float some_value_8 = some_value_7 * some_value_5;\n      some_value_5 = 1.0 - some_value_7 * some_value_5;\n      some_value_5 = cb3_123x * some_value_5 + some_value_8;\n      // same but different parameter\n      float some_value_9 = cb3_125xy.x - cb3_125xy.y;\n      float some_value_10 = cb3_125xy.x + cb3_125xy.y;\n      float some_value_11 = clamp((some_value_4 - some_value_9) / (some_value_10 - some_value_9), 0.0, 1.0);\n      float some_value_13 = (3.0 - 2.0 * some_value_11) * some_value_11 * some_value_11;\n      some_value_14 = 1.0 - some_value_13;\n      some_value_14 = (1.0 - cb3_124w) * some_value_5 + cb3_124w * (cb3_125z * some_value_14 + some_value_13);\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_1)\n      some_value_14 = some_value_14 * isShadow;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5)\n      vec3 some_vector_26 = normalizedOutputVertexToCameraDirection + cb0_144xyz;\n      some_vector_26 = normalize(some_vector_26);\n      float some_value_4 = dot(faceCalibratedNormalWS, cb0_144xyz); // some angle\n      float some_value_59 = clamp(some_value_4, 0.0, 1.0);\n      float some_value_60 = clamp(dot(faceCalibratedNormalWS, some_vector_26), 0.0, 1.0);\n      float some_value_5 = cb3_122zw.x - cb3_122zw.y; // min range\n      float some_value_6 = cb3_122zw.x + cb3_122zw.y; // max range\n      some_value_5 = clamp((some_value_4 - some_value_5) / (some_value_6 - some_value_5), 0.0, 1.0); // constrain this angle to be in certain range\n      float some_value_7 = 3.0 - 2.0 * some_value_5;\n      some_value_5 = some_value_5 * some_value_5;\n      float some_value_8 = some_value_7 * some_value_5;\n      some_value_5 = 1.0 - some_value_7 * some_value_5;\n      some_value_5 = cb3_123x * some_value_5 + some_value_8;      \n      some_value_14 = some_value_5 * isShadow; // TODO need revise\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_6)\n      float some_value_4 = dot(faceCalibratedNormalWS, cb0_144xyz); // some angle\n      float some_value_59 = clamp(some_value_4, 0.0, 1.0);\n      float some_value_5 = cb3_122zw.x - cb3_122zw.y; // min range\n      float some_value_6 = cb3_122zw.x + cb3_122zw.y; // max range\n      some_value_5 = clamp((some_value_4 - some_value_5) / (some_value_6 - some_value_5), 0.0, 1.0); // constrain this angle to be in certain range\n      float some_value_7 = 3.0 - 2.0 * some_value_5;\n      some_value_5 = some_value_5 * some_value_5;\n      float some_value_8 = some_value_7 * some_value_5;\n      some_value_5 = 1.0 - some_value_7 * some_value_5;\n      some_value_5 = cb3_123x * some_value_5 + some_value_8;\n      some_value_14 = some_value_5 * isShadow;\n      #endif\n\n      float toClosestDepth;\n      float min_dist;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        float some_value_15 = 1.0 / (1.0 + some_value_1);\n        if (cb0_21w != 0.0) {\n          // Orthogonal camera\n          some_value_15 = 0.7;\n        }\n        float some_value_16 = dot(vColor, cb3_130);\n        if (cb3_129z != 0.0) {\n        } else {\n          some_value_16 = 1.0;\n        }\n        vec2 some_vector_2 = cb0_145xy * cb0_145z * cb3_129y * cb0_141w * some_value_16 * some_value_15;\n        #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n        some_vector_2 = 0.666660011 * some_vector_2;\n        #endif\n        vec2 some_vector_3 = cb0_143xy * some_vector_2;\n        some_vector_3 = vec2(some_vector_3.x, -some_vector_3.y); // NOTE: This line doesn't exist in the original code, just add it to complement the Unity to WebGL transformation\n        vec2 depthTextureSize = vec2(textureSize(depthMap, int(0)));\n        // vec2 some_vector_4 = some_vector_3 * cb0_125zw + gl_FragCoord.xy;\n        vec2 some_vector_4 = some_vector_3 * depthTextureSize + gl_FragCoord.xy; // This is used to determine highlight with depthMap offset\n\n        ivec2 i_some_vector_4 = max(ivec2(0), ivec2(some_vector_4));\n        // ivec2 i_some_vector_min_bound = ivec2(vec2(-1.0, -1.0) + cb0_125zw);\n        ivec2 i_some_vector_min_bound = ivec2(vec2(-1.0, -1.0) + depthTextureSize);\n        i_some_vector_4 = min(i_some_vector_4, i_some_vector_min_bound);\n        float depthMapValue = texelFetch(depthMap, i_some_vector_4, 0).r;\n        float some_value_17 = 1.0 - depthMapValue;\n        float real_depth = some_value_17 * (far_value - near_value) + near_value; // FIXME causing dark light effect\n        if (cb0_21w != 0.0) {\n        } else {\n          // TODO depthMapValue should mapping like this\n          // 3.33233, 0.001 apply to depth_value=0.08, 0.04, TODO it use TV as background and as depth value\n          real_depth = 1.0 / (cb0_20zw.x * -(2.0 * depthMapValue - 1.0) + cb0_20zw.y);\n          // float viewZ = perspectiveDepthToViewZ(depthMapValue, near_value, far_value); // TODO currently use this\n          // real_depth = viewZToOrthographicDepth(viewZ, near_value, far_value);  \n        }\n\n        #ifdef UNKNOWN_DEFINE_FS_1\n        some_vector_2 = cb3_134z * some_vector_2;\n        vec4 some_vector_5 = vec4(some_vector_2.xy, some_vector_2.xy) * vec4(-1.0, 0.0, 1.0, 0.0) + vec4(some_vector_3, some_vector_3);\n        // some_vector_5 = some_vector_5 * vec4(cb0_125zw, cb0_125zw) + vec4(gl_FragCoord.xy, gl_FragCoord.xy);\n        some_vector_5 = some_vector_5 * vec4(depthTextureSize, depthTextureSize) + vec4(gl_FragCoord.xy, gl_FragCoord.xy);\n        ivec4 i_some_vector_5 = max(ivec4(0), ivec4(some_vector_5));\n        i_some_vector_5 = min(i_some_vector_5, ivec4(i_some_vector_min_bound, i_some_vector_min_bound));\n        float rightDepthMapValue = texelFetch(depthMap, i_some_vector_5.zw, 0).r;\n        float some_value_18 = 1.0 - rightDepthMapValue;\n        float right_real_depth = some_value_18 * (far_value - near_value) + near_value;\n        if (cb0_21w != 0.0) {\n        } else {\n          right_real_depth = 1.0 / (cb0_20zw.x * -(2.0 * rightDepthMapValue - 1.0) + cb0_20zw.y);\n        }\n\n        float leftDepthMapValue = texelFetch(depthMap, i_some_vector_5.xy, 0).r;\n        float some_value_19 = 1.0 - leftDepthMapValue;\n        float left_real_depth = some_value_19 * (far_value - near_value) + near_value;\n        if (cb0_21w != 0.0) {\n        } else {\n          left_real_depth = 1.0 / (cb0_20zw.x * -(2.0 * leftDepthMapValue - 1.0) + cb0_20zw.y);\n        }\n\n        some_vector_2 = some_vector_2 * vec2(0.0, 1.0) + some_vector_3;\n        // some_vector_2 = some_vector_2 * cb0_125zw + gl_FragCoord.xy;\n        some_vector_2 = some_vector_2 * depthTextureSize + gl_FragCoord.xy;\n        ivec2 i_some_vector_2 = max(ivec2(0), ivec2(some_vector_2));\n        i_some_vector_2 = min(i_some_vector_2, ivec2(i_some_vector_min_bound));\n        float downDepthMapValue = texelFetch(depthMap, i_some_vector_2.xy, 0).r;\n        float some_value_20 = 1.0 - downDepthMapValue;\n        float down_real_depth = some_value_20 * (far_value - near_value) + near_value;\n        if (cb0_21w != 0.0) {\n        } else {\n          down_real_depth = 1.0 / (cb0_20zw.x * -(2.0 * downDepthMapValue - 1.0) + cb0_20zw.y);\n        }\n        #endif\n\n        #ifdef UNKNOWN_DEFINE_FS_1\n        float some_value_21 = vPosition.w + some_value_1;\n        some_value_21 = some_value_21 + cb3_138y + clamp(cb0_142x + 0.05 + cb3_134x, 0.0, 1.0);\n        float some_value_22 = clamp(10.0 * (real_depth - some_value_21) / cb3_134y, 0.0, 1.0);\n        float some_value_23 = clamp(10.0 * (right_real_depth - some_value_21) / cb3_134y, 0.0, 1.0);\n        float some_value_24 = clamp(10.0 * (left_real_depth - some_value_21) / cb3_134y, 0.0, 1.0);\n        float some_value_25 = clamp(10.0 * (down_real_depth - some_value_21) / cb3_134y, 0.0, 1.0);\n        min_dist = min(some_value_22, some_value_23);\n        min_dist = min(min_dist, some_value_24);\n        min_dist = min(min_dist, some_value_25);\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n        float some_value_21 = vPosition.w + some_value_1; // FIXME some_value_1 wrong\n        some_value_21 = some_value_21 + cb3_138y + clamp(cb0_142x + 0.05 + cb3_134x, 0.0, 1.0);\n        float some_value_22 = clamp(10.0 * (real_depth - some_value_21) / cb3_134y, 0.0, 1.0);\n        min_dist = some_value_22;\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n        float some_value_21 = vPosition.w + some_value_1;\n        some_value_21 = real_depth - (some_value_21 + clamp(cb0_142x + 0.05 + cb3_134x, 0.0, 1.0)); // FIXME problem\n        float some_value_22 = clamp(10.0 * some_value_21 / cb3_134y, 0.0, 1.0);\n        min_dist = some_value_22;\n        #endif\n\n        #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n        // debug_vector = vec3((-(2.0 * depthMapValue - 1.0) * 10.0 - 0.84) * 100.0); // FIXME depthMapValue is a bit off\n        // debug_vector = vec3(real_depth-3.3); // FIXME\n        // FIXME For face, real_depth is still wrong (NormalMaterial is still buggy when outputing depth)\n        toClosestDepth = real_depth - (some_value_1 - (0.01 + cb3_137w));\n        debug_vector = vec3(real_depth - 3.3);\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n        toClosestDepth = real_depth - (some_value_1 - (0.03 + cb3_137w));\n        // discard;\n        #endif\n        toClosestDepth = clamp(50.0 * toClosestDepth / cb3_138x, 0.0, 1.0);\n        toClosestDepth = cb3_134w * toClosestDepth + (1.0 - cb3_134w) * 1.0;\n      } else {\n        #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n        toClosestDepth = 1.0;\n        min_dist = 0.0;\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n        float some_value_61 = (1.0 - cb3_186w) * cb0_21w + cb3_186w * 1.0;\n        float some_value_62 = clamp(dot(faceCalibratedNormalWS, cb0_67.xyz), 0.0, 1.0);\n        some_value_61 = (1.0 - some_value_61) * toCameraAndToNormalAngle + some_value_61 * some_value_62;\n        some_value_61 = (1.0 - some_value_61) * (some_value_59 * 0.25 + 0.75);\n        if (some_value_4 > 0.0) {\n          some_value_4 = 1.0;\n        } else {\n          some_value_4 = 0.0;\n        }\n        float some_value_98 = min(1.0, 50.0 * fwidth(some_value_61 * some_value_4)); // fwidth(p) = abs(dFdx(p)) + abs(dFdy(p))\n        some_value_4 = clamp(25.0 * (some_value_61 * some_value_4 - 0.68), 0.0, 1.0);\n        min_dist = some_value_98 * (3.0 - 2.0 * some_value_4) * some_value_4 * some_value_4;\n        toClosestDepth = 1.0;\n        #endif\n      }\n\n      float some_value_26 = clamp((some_value_1 - cb0_142yz.y) / (cb0_142yz.x - cb0_142yz.y), 0.0, 1.0);\n      min_dist = (3.0 - 2.0 * some_value_26) * some_value_26 * some_value_26 * min_dist;\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_4) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      vec3 some_vector_6;\n      vec3 some_vector_7;\n      if (cb3_138w != 0.0) {\n        some_vector_6 = (cb0_133_136 * vec4(vPosition.xyz, 1.0)).xyz; // TODO cb0_133_136\n        some_vector_7.xy = some_vector_6.xy * vec2(0.5) + vec2(0.5);\n        some_vector_7.z = 1.0 - some_vector_7.y;\n        // https://www.khronos.org/opengl/wiki/Sampler_(GLSL)#Shadow_samplers\n        // Need to define texture's compareFunction attribute\n        // FIXME\n        // float shadowFactor = texture(shadowMap, vec3(some_vector_7.xz, some_vector_6.z));\n        float shadowFactor = texture2DCompare(shadowMap, some_vector_7.xz + vec2(0.0, 0.0), some_vector_6.z);\n        // float shadowFactor = 0.0;\n\n        some_value_1 = clamp(0.5 * (abs(some_value_1) - (cb0_138x - 2.0)), 0.0, 1.0);\n        some_value_1 = some_value_1 * 1.0 + (1.0 - some_value_1) * shadowFactor;\n        float some_value_28 = clamp(10.0 * (clamp(dot(faceCalibratedNormalWS, cb0_139xyz), 0.0, 1.0) - 0.1), 0.0, 1.0);\n        float some_value_29 = 1.0;\n        if (cb0_139w != 0.0) {\n          some_value_29 = (3.0 - 2.0 * some_value_28) * some_value_28 * some_value_28;\n        } \n        float some_value_30 = cb3_141y * cb3_139w;\n        some_value_1 = (1.0 - some_value_30) + some_value_30 * some_value_29 * some_value_1;\n      } else {\n        some_value_1 = 1.0;\n      }\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_4) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      some_value_14 = toClosestDepth * some_value_14 * some_value_1 - 1.0; // FIXME toClosestDepth\n      #endif\n      some_value_14 = clamp(cb0_159w * some_value_14 + 1.0, 0.0, 1.0);\n      float some_value_31 = clamp(cb3_110w * (1.0 - 2.0 * abs(some_value_14 - 0.5)), 0.0, 1.0); // Get shadow boundary\n      float some_value_32 = (cb3_111xyz.x * some_value_31) + cb3_108w;\n      float some_value_33 = (cb3_111xyz.y * some_value_31) + cb3_109x;\n      float some_value_34 = (1.0 - some_value_31) + some_value_31 * cb3_111xyz.z;\n      some_value_34 = cb3_109y * some_value_34;\n\n      vec4 modified_diffuse = vec4(diffuse.bg, -1.0, 2.0 / 3.0);\n      vec4 modified_diffuse_another = vec4(diffuse.gb - modified_diffuse.rg, 1.0, -1.0);\n      if (diffuse.g >= diffuse.b) {\n        modified_diffuse = modified_diffuse + modified_diffuse_another; // becomes vec4(diffuse.gb, 0.0, -1.0 / 3.0)\n      }\n      vec4 some_vector_8 = vec4(modified_diffuse.rga, diffuse.r);\n      if (diffuse.r >= modified_diffuse.r) {\n        modified_diffuse.rga = some_vector_8.agr; // becomes diffuse.r, modified_diffuse.g, modified_diffuse.r\n      } else {\n        modified_diffuse = some_vector_8;\n      }\n      float some_value_35 = modified_diffuse.r - min(modified_diffuse.a, modified_diffuse.g);\n      float some_value_36 = modified_diffuse.a - modified_diffuse.g;\n      float some_value_37 = some_value_36 / (6.0 * some_value_35 + 1.00000001e-010);\n      some_value_37 = modified_diffuse.b + some_value_37;\n      some_value_35 = some_value_35 / (modified_diffuse.r + 1.00000001e-010);\n      some_value_32 = abs(some_value_37) + some_value_32; // FIXME some_value_32, some_value_37: eyebrow not correct, not sure if this is ok\n      some_value_33 = exp2(log2(abs(some_value_35)) / (3.0 * some_value_33 + 1.0));\n      vec2 some_vector_9 = clamp(vec2(4.0, 5.0) * some_value_35, 0.0, 1.0);\n      float some_value_38 = some_vector_9.x * some_vector_9.x * (3.0 - 2.0 * some_vector_9.x);\n      some_value_33 = some_value_35 * (1.0 - some_value_38) + some_value_33 * some_value_38;\n      some_value_34 = modified_diffuse.r * some_value_34;\n\n      vec3 some_vector_99 = fract(vec3(1.0, 2.0/3.0, 1.0/3.0) + vec3(some_value_32)) * vec3(6.0) + vec3(-3.0);\n      some_vector_99 = clamp(vec3(-1.0) + abs(some_vector_99), 0.0, 1.0) + vec3(-1.0);\n      vec3 some_vector_10 = some_value_33 * some_vector_99 + vec3(1.0); // FIXME some_value_33, some_vector_99 added eye fallacy\n      float some_value_39 = (1.0 - cb3_113w) + cb3_113w * some_vector_9.y;\n      vec3 some_vector_12 = (1.0 - some_value_39) * cb3_113xyz * diffuse + some_value_39 * some_value_34 * some_vector_10; // FIXME some_value_34\n      some_vector_12 = (some_value_31 * (cb3_112xyz - vec3(1.0)) + vec3(1.0)) * cb3_110xyz * some_vector_12; // FIXME some_value_31\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      float some_value_40 = cb3_178y * cb3_114x;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      some_vector_13 = cb3_115x * (diffuse * cb3_115yzw) + (1.0 - cb3_115x) * some_vector_13;\n      some_vector_13 = some_value_14 * diffuse + (1.0 - some_value_14) * some_vector_13; // FIXME some_value_14\n      vec3 some_vector_14 = cb3_137xyz * cb3_135y;\n      vec3 some_vector_15 = toClosestDepth * (vec3(1.0) - some_vector_14) + some_vector_14;\n      some_vector_15 = some_vector_15 * some_vector_13;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_15;\n      }\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_3)\n      float some_value_40 = cb3_178y * cb3_114x;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      some_vector_13 = (1.0 - some_value_14) * some_vector_13 + some_value_14 * diffuse;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_13 * (toClosestDepth * vec3(1.0) + (1.0 - toClosestDepth) * cb3_136xyz * cb3_135x);\n      }\n      #endif\n      #ifdef UNKNOWN_DEFINE_FS_5\n      float some_value_40 = cb3_178y * cb3_114x;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      vec4 raw_diffuse_1 = texture(diffMap_1, vec2(vUV01.xy));\n      float some_value_83 = cb3_117w * raw_diffuse_1.a;\n      some_value_83 = cb3_118x * 1.0 + (1.0 - cb3_118x) * some_value_83;\n      some_value_83 = cb3_116x * some_value_83;\n      raw_diffuse_1.rgb = (1.0 - some_value_83) * some_vector_13 + some_value_83 * raw_diffuse_1.rgb * cb3_117xyz;\n      vec3 some_vector_31 = raw_diffuse_1.rgb * cb0_158xyz * cb3_5xyz * cb3_4.xyz * cb3_3.xyz;\n      some_vector_13 = (1.0 - some_value_14) * some_vector_31 + some_value_14 * diffuse * cb3_5xyz * cb0_158xyz;\n      some_vector_31 = toClosestDepth * vec3(1.0) + (1.0 - toClosestDepth) * cb3_136xyz * cb3_135x;\n      some_vector_31 = some_vector_31 * some_vector_13;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_31;\n      }\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_6)\n      float some_value_40 = cb3_114x * isUseConstShadowColor;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      some_vector_13 = (1.0 - some_value_14) * some_vector_13 + some_value_14 * diffuse;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_13 * (toClosestDepth * vec3(1.0) + (1.0 - toClosestDepth) * cb3_136xyz * cb3_135x);\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      vec3 some_vector_16 = (1.0 - some_value_1) * cb3_140xyz + some_value_1 * vec3(1.0);\n      some_vector_13 = some_vector_16 * some_vector_13;\n      vec3 some_vector_17 = (1.0 - some_value_14) * cb0_159xyz + some_value_14 * vec3(1.0);\n      some_vector_13 = some_vector_17 * some_vector_13;\n      float some_value_41 = (1.0 - 0.25) * vNormal.w + 0.25 * 1.0;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      vec3 some_vector_16 = (1.0 - some_value_1) * cb3_140xyz + some_value_1 * vec3(1.0); // in UNKNOWN_DEFINE_FS_6, some_vector_16 is vec3(1.0)\n      some_vector_13 = some_vector_16 * some_vector_13;\n      vec3 some_vector_17 = (1.0 - some_value_14) * cb0_159xyz + some_value_14 * vec3(1.0);\n      some_vector_13 = some_vector_17 * some_vector_13;\n      float some_value_41 = (1.0 - 0.25) * vNormal.w + 0.25 * 1.0;\n      #endif\n\n\n      #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5)\n      some_vector_25 = some_vector_25 * isHairHighlight;\n      float some_value_63;\n      if (cb3_90z != 0.0) {\n        some_value_63 = clamp(dot(cb0_144xyz, some_vector_26), 0.0, 1.0);\n        float some_value_64 = min(1.0, dot(normalizedOutputVertexToCameraDirection, normalizedOutputVertexToCameraDirection));\n        float some_value_65 = 1.0 - clamp(cb3_92y * cb3_85w, 0.0, 1.0);\n        some_value_65 = some_value_65 * some_value_65;\n        float some_value_66 = some_value_65 * some_value_65;\n        float some_value_67 = some_value_60 * some_value_60;\n        float some_value_68 = some_value_65 * some_value_65 - 1.0;\n        some_value_67 = some_value_67 * some_value_68 + 1.0;\n        some_value_67 = some_value_66 / (3.14159012 * some_value_67 * some_value_67);\n\n        some_value_63 = 1.0 - some_value_63;\n        float some_value_91 = some_value_63 * some_value_63;\n        some_value_91 = some_value_91 * some_value_91;\n        some_value_63 = some_value_91 * some_value_63 * 0.96 + 0.04;\n        float some_value_69 = 0.5 * some_value_65;\n        some_value_65 = 1.0 - 0.5 * some_value_65;\n        float some_value_70 = 1.0 / (some_value_59 * some_value_65 + some_value_69);\n        float some_value_71 = 1.0 / (toCameraAndToNormalAngle * some_value_65 + some_value_69);\n        some_value_63 = some_value_67 * some_value_59 * some_value_63 * (some_value_70 * some_value_71);\n        \n        float some_value_72 = toCameraAndToNormalAngle * toCameraAndToNormalAngle * some_value_68+ 1.0;\n        some_value_72 = some_value_66 / (3.14159012 * some_value_72 * some_value_72);\n        float some_value_73 = 1.0 - some_value_64;\n        float some_value_74 = some_value_73 * some_value_73;\n        some_value_74 = some_value_74 * some_value_74;\n        some_value_73 = some_value_74 * some_value_73 * 0.96 + 0.04;\n        some_value_71 = some_value_71 * some_value_71;\n        some_value_72 = toCameraAndToNormalAngle * some_value_72 * some_value_73 * some_value_71;\n        if (cb0_153x != 0.0) {\n        } else {\n          some_value_63 = some_value_72;\n        }\n      } else {\n        if (cb0_153x != 0.0) {\n          some_value_63 = some_value_60;\n        } else {\n          some_value_63 = toCameraAndToNormalAngle;\n        }\n      }\n      float some_value_75 = max(0.0, cb3_94yz.x - cb3_94yz.y);\n      float some_value_76 = min(1.0, cb3_94yz.x + cb3_94yz.y);\n      some_value_76 = some_value_76 - some_value_75;\n      some_value_75 = some_value_63 - some_value_75;\n      some_value_75 = clamp(some_value_75 / some_value_76, 0.0, 1.0);\n      float some_value_77 = 3.0 - 2.0 * some_value_75;\n      some_value_75 = some_value_77 * some_value_75 * some_value_75;\n      some_value_63 = (1.0 - cb3_94x) * some_value_63 + cb3_94x * some_value_75;\n      some_vector_25 = some_vector_25 * some_value_63;\n      some_vector_25 = cb0_152xyz * clamp(some_vector_1, 0.25, 1.0) * some_vector_25;\n      some_vector_25 = some_vector_25 * ((1.0 - vNormal.w) * cb0_152w + vNormal.w * 1.0);\n      some_value_63 = some_value_63 * isHairHighlight;\n      float some_value_78 = (1.0 - cb3_94w) * some_value_14 + cb3_94w * 1.0;\n      some_value_63 = clamp(some_value_78 * some_value_63, 0.0, 1.0);\n      vec3 some_vector_27 = (cb3_91xyz * cb3_90w) * ((1.0 - cb3_92x) * vec3(1.0) + cb3_92x * diffuse);\n      if (cb3_91w != 0.0) {\n        some_vector_13 = (1.0 - some_value_63) * some_vector_13 + some_value_63 * some_vector_27;\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4) || defined(UNKNOWN_DEFINE_FS_6)\n      some_vector_13 = min(cb0_150xyz, vNormal.w * some_vector_1) * some_vector_13;\n      some_vector_1 = cb3_133xyz * min(vec3(2.0), some_vector_1);\n      vec3 some_vector_32 = cb3_133w * diffuse + (1.0 - cb3_133w) * vec3(1.0);\n      some_vector_32 = some_vector_1 * some_vector_32 * vec3(1.0 / 6.0) + vec3(1.0 / 20.0);\n      some_vector_32 = cb0_148xyz * cb3_132y * cb3_188z * cb3_132x * some_vector_32;\n      // min_dist, FIXME min_dist lack strong to weak intensity transition\n      // FIXME some_vector_13 still has little difference\n      some_vector_13 = some_vector_13 * cb0_153yzw + some_value_41 * min_dist * some_vector_32; // FIXME some_value_41 * min_dist * some_vector_32 should be empty, min_dist seems wrong\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5)\n      some_vector_13 = min(cb0_150xyz, vNormal.w * some_vector_1) * some_vector_13;\n      some_vector_13 = some_vector_13 * cb0_153yzw;\n      vec3 some_vector_28;\n      if (cb3_91w != 0.0) {\n        some_vector_28 = vec3(0.0);\n      } else {\n        some_vector_28 = some_vector_25 * some_value_78;\n        some_vector_13 = some_vector_13 + some_vector_28;\n      }\n      float some_value_79 = dot(some_vector_28, vec3(0.212672904,0.715152204,0.0721750036));\n      float some_value_80 = clamp(raw_diffuse.a * cb3_4.a * cb3_3.a + some_value_79, 0.0, 1.0);\n      vec3 some_vector_29 = cb3_133xyz * min(vec3(2.0), some_vector_1);\n      some_vector_29 = (cb3_133w * diffuse + (1.0 - cb3_133w) * vec3(1.0)) * some_vector_29;\n      some_vector_29 = some_vector_29 * vec3(1.0/6.0) + vec3(1.0/20.0);\n      some_vector_29 = cb0_148xyz * cb3_132y * cb3_188z * cb3_132x * some_vector_29;\n      some_vector_13 = min_dist * some_value_41 * some_vector_29 + some_vector_13;\n      #endif\n\n      uint some_value_42 = min(cb2_11y, cb0_10x);\n      float some_value_43 = 1.0 / ((cb3_123z + cb3_123w) - (cb3_123z - cb3_123w));\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      float some_value_44 = 1.0 / ((cb3_126x + cb3_126y) - (cb3_126x - cb3_126y));\n      #endif\n      uint some_counter = uint(0);\n      vec4 some_constant_1[10];\n      vec4 some_constant_2[4] = vec4[4](vec4(1.0, 0.0, 0.0, 0.0),\n                                        vec4(0.0, 1.0, 0.0, 0.0),\n                                        vec4(0.0, 0.0, 1.0, 0.0),\n                                        vec4(0.0, 0.0, 0.0, 1.0));\n      vec4 cb1_constant[10];\n      vec4 cb1_constant_1[10];\n      vec3 accumulated_radiance = vec3(0.0);\n      // TODO we still can't verify this part of code because it's current not effective\n      while (true) {\n        if (some_counter >= some_value_42) {\n          break;\n        }\n        uint some_idx_1 = some_counter >> uint(2);\n        uint some_idx_2 = some_counter & uint(3);\n        // FIXME\n        uint some_type = uint(dot(some_constant_1[some_idx_1+uint(12)], some_constant_2[some_idx_2]));\n        vec3 some_vector_18 = cb1_constant[some_type].xyz - cb1_constant[some_type].w * vPosition.xyz; \n        float some_value_45 = max(6.10351563e-005, dot(some_vector_18, some_vector_18));\n        some_vector_18 = normalize(some_vector_18);\n        float some_value_46 = 1.0 / some_value_45;\n        float some_value_47 = cb1_constant_1[some_type+uint(512)].x * some_value_46; // FIXME\n        some_value_47 = max(0.0, 1.0 - some_value_47 * some_value_47);\n        some_value_47 = some_value_46 * some_value_47 * some_value_47;\n        float some_value_48 = dot(cb1_constant[some_type+uint(768)].xyz, some_vector_18);\n        some_value_48 = clamp(some_value_48 * cb1_constant_1[some_type+uint(512)].z + cb1_constant_1[some_type+uint(512)].w, 0.0, 1.0);\n        some_value_47 = some_value_47 * some_value_48 * some_value_48;\n        float some_value_49 = dot(faceCalibratedNormalWS, some_vector_18);\n        float some_value_50 = clamp((some_value_49 - (cb3_123z - cb3_123w)) * some_value_43, 0.0, 1.0);\n        float some_value_51 = 3.0 - 2.0 * some_value_50;\n        some_value_50 = some_value_50 * some_value_50;\n        float some_value_52 = some_value_51 * some_value_50;\n        some_value_50 = 1.0 - some_value_51 * some_value_50;\n        some_value_50 = cb3_124x * some_value_50 + some_value_52;\n\n        #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n        some_value_49 = clamp((some_value_49 - (cb3_126x - cb3_126y)) * some_value_44, 0.0, 1.0);\n        float some_value_53 = 3.0 - 2.0 * some_value_49;\n        some_value_49 = some_value_49 * some_value_49;\n        float some_value_54 = some_value_53 * some_value_49;\n        some_value_49 = 1.0 - some_value_53 * some_value_49;\n        some_value_49 = cb3_126z * some_value_49 + some_value_52;\n        some_value_49 = (1.0 - cb3_125w) * some_value_50 + cb3_125w * some_value_49;\n\n        some_value_49 = some_value_49 * min(cb3_124z, some_value_47);\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n        some_value_49 = some_value_50 * min(cb3_124z, some_value_47);\n        #endif\n\n        accumulated_radiance = cb1_constant[some_type+uint(256)].rgb * some_value_49 + accumulated_radiance; // FIXME\n        some_counter += uint(1);\n      }\n\n      vec3 some_vector_19 = min(cb0_151xyz, accumulated_radiance);\n      float some_value_55 = exp2(cb0_157x * log2(1.0 - toCameraAndToNormalAngle));\n      float some_value_56 = 0.5 - cb0_157y;\n      some_value_55 = some_value_55 - some_value_56;\n      some_value_56 = 1.0 / (2.0 * cb0_157y);\n      some_value_55 = clamp(some_value_55 * some_value_56, 0.0, 1.0);\n      some_value_55 = (3.0 - 2.0 * some_value_55) * some_value_55 * some_value_55 - 1.0;\n      some_value_55 = cb0_156w * some_value_55 + 1.0;\n      some_vector_19 = cb0_154xyz * some_value_55 * some_vector_19;\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      some_vector_19 = cb0_155xyz * some_vector_19;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      isShadow = (1.0 - cb3_124y) * isShadow + cb3_124y * 1.0;\n      some_vector_19 = isShadow * some_vector_19 * diffuse + some_vector_13; // some_vector_13 is the main contributor\n      debug_vector = some_vector_13;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_4)\n      some_vector_19 = some_vector_19 * diffuse + some_vector_13;\n      #endif\n      some_vector_19 = max(nonSkinDiffuseColor, some_vector_19); // nonSkinDiffuseColor is a very dark color\n      #if defined(UNKNOWN_DEFINE_FS_2)\n      some_vector_19 = some_vector_23 * some_vector_24 + some_vector_19;\n      #endif\n\n      vec3 some_vector_20;\n      if (gl_FrontFacing) {\n        some_vector_20 = vec3(1.0);\n      } else {\n        some_vector_20 = cb3_6xyz;\n      }\n      vec3 some_vector_21 = some_vector_20 * some_vector_19;\n      float some_value_57 = dot(some_vector_21, vec3(0.212672904,0.715152204,0.0721750036));\n      some_vector_19 = some_value_57 - some_vector_19 * some_vector_20;\n      some_vector_19 = cb3_178x * some_vector_19 + some_vector_21;\n      some_vector_19 = some_vector_19 * cb3_174xyz + cb3_175xyz;\n      some_vector_19 = (1.0 - cb3_176w) * some_vector_19 + cb3_176w * cb3_176xyz;\n      #if defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      some_vector_19 = exp2(cb3_177.a * log2(1.0 - toCameraAndToNormalAngle)) * cb3_177.rgb + some_vector_19;\n      #endif\n      vec3 some_vector_22 = cb0_146xyz * some_vector_19;\n      gl_FragColor.rgb = (1.0 - cb0_147w) * some_vector_22 + cb0_147w * cb0_147xyz;\n      // FIXME -- delete this after debug\n      // gl_FragColor.rgb = vUV23.xyz;\n      // gl_FragColor.rgb = debug_vector;\n      // FIXME -- delete this after debug\n\n      #if defined(UNKNOWN_DEFINE_FS_1) || defined(UNKNOWN_DEFINE_FS_2) || defined(UNKNOWN_DEFINE_FS_3) || defined(UNKNOWN_DEFINE_FS_4) || defined(UNKNOWN_DEFINE_FS_5) || defined(UNKNOWN_DEFINE_FS_6)\n      float alpha_value;\n      if (cb3_9z != 0.0 && cb3_9y != 0.0) {\n        alpha_value = 1.0;\n      } else {\n        alpha_value = raw_diffuse.a;\n      }\n      if (cb3_189x == 1.0 && cb3_189y == 0.0) {\n        gl_FragColor.a = 1.0;\n      } else {\n        gl_FragColor.a = alpha_value;\n      }\n      #endif      \n    }\n    "),_o={constant_buffer_0:{cb0_6xyz:{value:new i.Vector3(1,1,1)},cb0_10x:{value:0},cb0_16xyz:{value:new i.Vector3(.286179,1.272233,3.5616)},near_value:{value:.3},far_value:{value:1e3},cb0_20zw:{value:new i.Vector2(3.33233,.001)},cb0_21y:{value:5},cb0_21w:{value:0},cb0_59z:{value:3e-4},cb0_60z:{value:.30009},cb0_65xyz:{value:new i.Vector3(-.99177,0,.12807)},cb0_66xyz:{value:new i.Vector3(-.00254,.9998,-.01967)},cb0_67:{value:new i.Vector4(.12805,.01984,.99157,0)},cb0_125zw:{value:new i.Vector2(3840,2160)},cb0_126x:{value:0},cb0_126y:{value:0},cb0_129x:{value:1.25},cb0_129yzw:{value:new i.Vector3(1,1,1)},cb0_130x:{value:1},cb0_133_136:{value:new i.Matrix4(-.663,.0641,.05196,0,0,-.8285,.24511,0,.08562,.49639,.40239,0,-.32784,.76774,.30746,1)},cb0_137x:{value:12e-5},cb0_138x:{value:200},cb0_138yz:{value:new i.Vector2(1,1)},cb0_139xyz:{value:new i.Vector3(.10962,.51708,.84914)},cb0_139w:{value:1},cb0_140y:{value:1},cb0_140z:{value:1},cb0_141xyz:{value:new i.Vector3(.01,.01,.01)},cb0_141w:{value:1.25},cb0_142x:{value:0},cb0_142yz:{value:new i.Vector2(1e3,2e3)},cb0_143xy:{value:new i.Vector2(-.24531,.77795)},cb0_144xyz:{value:new i.Vector3(.31539,.78927,.52686)},cb0_144w:{value:15},cb0_145xy:{value:new i.Vector2(.5625,1)},cb0_145z:{value:.06667},cb0_146xyz:{value:new i.Vector3(.36621,.37855,.52536)},cb0_147xyz:{value:new i.Vector3(1,1,1)},cb0_147w:{value:0},cb0_148xyz:{value:new i.Vector3(2.39783,3.35939,3.6175)},cb0_149xyz:{value:new i.Vector3(0,0,0)},cb0_150xyz:{value:new i.Vector3(1,1,1)},cb0_151xyz:{value:new i.Vector3(1,1,1)},cb0_152xyz:{value:new i.Vector3(1.2,1.2,1.2)},cb0_153yzw:{value:new i.Vector3(1,1,1)},cb0_154xyz:{value:new i.Vector3(1,1,1)},cb0_155xyz:{value:new i.Vector3(1,1,1)},cb0_156xyz:{value:new i.Vector3(1,1,1)},cb0_156w:{value:0},cb0_157x:{value:1},cb0_157y:{value:.5},cb0_158xyz:{value:new i.Vector3(1,1,1)},cb0_159xyz:{value:new i.Vector3(1,1,1)},cb0_159w:{value:1},cb0_162x:{value:0},cb0_153x:{value:0},cb0_152w:{value:.25}},constant_buffer_1:{cb1_9w:{value:1},cb1_25xyzw:{value:new i.Vector4(.00733,-.0057,.01225,.16976)},cb1_26xyzw:{value:new i.Vector4(.01153,.04141,.01926,.21119)},cb1_27xyzw:{value:new i.Vector4(.01989,.12794,.03323,.2896)},cb1_28xyzw:{value:new i.Vector4(.00577,.00963,.02987,.0097)},cb1_29xyzw:{value:new i.Vector4(.00922,.0154,.04152,.01415)},cb1_30xyzw:{value:new i.Vector4(.01658,.02769,.05084,.02056)},cb1_31xyz:{value:new i.Vector3(.02473,.03401,.03987)}},constant_buffer_2:{cb2_0x:{value:1},cb2_186y:{value:0},cb2_190x:{value:0},cb2_194y:{value:1},cb2_141zw:{value:new i.Vector2(1,1)},cb2_148x:{value:1},cb2_147w:{value:1},cb2_153x:{value:1},cb2_151xyzw:{value:new i.Vector4(1,0,0,0)},cb2_150w:{value:1},cb2_188w:{value:2},cb2_142x:{value:1},cb2_139xy:{value:new i.Vector2(0,0)},cb2_142z:{value:0},cb2_187yzw:{value:new i.Vector3(-.01578,1.34417,-43e-5)},cb2_138y:{value:.04},cb2_185x:{value:0},cb2_183xyz:{value:new i.Vector3(.16652,-.00164,.98604)},cb2_184w:{value:0},cb2_148y:{value:.02},cb2_148z:{value:.02},cb2_149:{value:new i.Vector4(0,1,0,0)},cb2_150x:{value:1},cb2_150yz:{value:new i.Vector2(0,1)},cb2_9w:{value:0},cb2_10x:{value:0},cb2_123y:{value:1},cb2_138z:{value:1},cb2_140w:{value:1},cb2_187x:{value:1},cb2_188x:{value:0},cb2_188y:{value:1},cb2_186w:{value:1},cb2_4567:{value:new i.Matrix4(.8105,-.19902,.55089,0,.17636,.97978,.0945,0,-.55856,.02056,.82921,0,.64965,-1.06887,.46308,1)},cb2_012:{value:new i.Matrix3(.8105,.17636,-.55856,-.19902,.97978,.02056,.55089,.0945,.82921)},cb2_11z:{value:1},cb2_11y:{value:1},uv_scale_offset:{value:new i.Vector4(1,1,0,0)},cb2_10y:{value:1}},constant_buffer_3:{cb3_2x:{value:0},cb3_4:{value:new i.Vector4(1,1,1,1)},cb3_3:{value:new i.Vector4(1,1,1,1)},cb3_5xyz:{value:new i.Vector3(1,1,1)},cb3_183xyz:{value:new i.Vector3(.16652,-.00164,.98604)},cb3_7x:{value:0},cb3_6w:{value:1},cb3_8:{value:new i.Vector4(0,0,1,0)},cb3_9x:{value:.5},cb3_75x:{value:0},cb3_75y:{value:0},cb3_74:{value:new i.Vector4(1,0,0,0)},cb3_75zw:{value:new i.Vector2(.19829,.2407)},cb3_73z:{value:1},cb3_57:{value:new i.Vector4(1,1,0,0)},cb3_59y:{value:0},cb3_60:{value:new i.Vector4(0,1,0,0)},cb3_58x:{value:1},cb3_58yzw:{value:new i.Vector3(0,0,0)},cb3_59x:{value:0},cb3_88z:{value:0},cb3_89:{value:new i.Vector4(0,0,1,0)},cb3_90xy:{value:new i.Vector2(0,1)},cb3_95x:{value:0},cb3_91xyz:{value:new i.Vector3(1,1,1)},cb3_90w:{value:1},cb3_92x:{value:0},cb3_179:{value:new i.Vector4(0,1,0,0)},cb3_180x:{value:0},cb3_180y:{value:0},cb3_180z:{value:1},cb3_178y:{value:1},cb3_73w:{value:.5},cb3_147xyz:{value:new i.Vector3(1,1,1)},cb3_146w:{value:0},cb3_122zw:{value:new i.Vector2(0,.05)},cb3_123x:{value:0},cb3_125xy:{value:new i.Vector2(-.3,.15)},cb3_125z:{value:.5},cb3_124w:{value:1},cb3_128w:{value:1},cb3_129x:{value:1},cb3_194w:{value:1},cb3_186y:{value:0},cb3_129y:{value:1},cb3_130:{value:new i.Vector4(0,1,0,0)},cb3_134z:{value:.1},cb3_138y:{value:.04},cb3_134x:{value:0},cb3_134y:{value:1},cb3_137w:{value:0},cb3_138x:{value:1},cb3_138w:{value:1},cb3_141y:{value:1},cb3_110w:{value:1},cb3_111xyz:{value:new i.Vector3(.01,1,1)},cb3_108w:{value:0},cb3_109x:{value:.5},cb3_109y:{value:1},cb3_113xyz:{value:new i.Vector3(.6,1,.94902)},cb3_113w:{value:1},cb3_110xyz:{value:new i.Vector3(.76431,.45,1)},cb3_112xyz:{value:new i.Vector3(1,1,1)},cb3_114x:{value:1},cb3_114yzw:{value:new i.Vector3(1,.60383,.60383)},cb3_115yzw:{value:new i.Vector3(1,.60383,.60383)},cb3_115x:{value:1},cb3_137xyz:{value:new i.Vector3(1,.85,.85)},cb3_135y:{value:1},cb3_117w:{value:1},cb3_118x:{value:0},cb3_116x:{value:1},cb3_129z:{value:0},cb3_117xyz:{value:new i.Vector3(1,1,1)},cb3_136xyz:{value:new i.Vector3(1,1,1)},cb3_135x:{value:.85},cb3_140xyz:{value:new i.Vector3(1,1,1)},cb3_92y:{value:1},cb3_85w:{value:.5},cb3_94yz:{value:new i.Vector2(.1,.05)},cb3_94x:{value:0},cb3_94w:{value:0},cb3_91w:{value:0},cb3_133xyz:{value:new i.Vector3(1,1,1)},cb3_188z:{value:1},cb3_186w:{value:1},cb3_132x:{value:1},cb3_132y:{value:1},cb3_123z:{value:0},cb3_123w:{value:.05},cb3_126x:{value:0},cb3_126y:{value:.15},cb3_139w:{value:0},cb3_126z:{value:.2},cb3_125w:{value:1},cb3_124z:{value:2},cb3_124x:{value:.2},cb3_124y:{value:.2},cb3_6xyz:{value:new i.Vector3(1,1,1)},cb3_178x:{value:0},cb3_174xyz:{value:new i.Vector3(1,1,1)},cb3_175xyz:{value:new i.Vector3(0,0,0)},cb3_176xyz:{value:new i.Vector3(1,1,0)},cb3_176w:{value:0},cb3_134w:{value:1},cb3_9z:{value:0},cb3_9y:{value:1},cb3_133w:{value:0},cb3_189x:{value:1},cb3_189y:{value:0},cb3_144w:{value:1},cb3_144xyz:{value:new i.Vector3(.623,.238,.289)},cb3_143xyz:{value:new i.Vector3(.25,.25,.25)},cb3_153yzw:{value:new i.Vector3(1,1,1)},cb3_145w:{value:0},cb3_146xyz:{value:new i.Vector3(1,1,1)},cb3_154w:{value:0},cb3_154xyz:{value:new i.Vector3(1,1,1)},cb3_145xyz:{value:new i.Vector3(1,1,1)},cb3_177:{value:new i.Vector4(0,0,0,4)},cb3_90z:{value:0}}},po=String("\nuniform float cb2_0x;\nuniform float cb2_186y;\nuniform float cb2_190x;\nuniform vec2 cb2_141zw;\nuniform float cb0_126x;\nuniform float cb2_194y;\nuniform float cb0_21w; // is perspective camera (=0) or orthographic camera (=1)\nuniform float cb2_148x;\nuniform float cb2_153x;\nuniform float cb0_129x;\nuniform float cb2_147w;\nuniform vec4 cb2_151xyzw;\nuniform float cb2_150w;\nuniform float cb0_144w; // constraint scaling factor\nuniform float cb0_21y;\nuniform float cb0_130x; // positionVS_Z control factor to force it to 60.0\nuniform float cb2_188w;\nuniform float cb2_142x;\nuniform vec2 cb2_139xy;\nuniform vec2 cb0_138yz;\nuniform float cb0_137x;\nuniform vec3 cb0_139xyz;\nuniform float cb2_142z; // Offset vertex position in view space\nuniform vec3 cb0_16xyz;\nuniform vec3 cb2_187yzw;\nuniform float cb0_126y;\nuniform float cb2_138y;\nuniform float cb2_185x;\nuniform vec3 cb2_183xyz;\nuniform float cb2_184w;\nuniform float cb2_148y;\nuniform float cb2_148z;\nuniform vec4 cb2_149;\nuniform float cb2_150x;\nuniform vec2 cb2_150yz;\nuniform float cb2_9w;\nuniform float cb2_10x;\nuniform float cb2_123y;\nuniform vec4 cb1_25xyzw;\nuniform vec4 cb1_26xyzw;\nuniform vec4 cb1_27xyzw;\nuniform vec4 cb1_28xyzw;\nuniform vec4 cb1_29xyzw;\nuniform vec4 cb1_30xyzw;\nuniform vec3 cb1_31xyz;\nuniform float cb0_140z;\nuniform float cb2_138z;\nuniform float cb2_140w;\nuniform float near_value; // cb0_17y\nuniform float far_value; // cb0_17z\nuniform float cb0_59z;\nuniform float cb0_60z;\nuniform float cb2_187x;\nuniform float cb2_188x;\nuniform float cb2_188y;\nuniform float cb2_186w;\nuniform int cb3_2x;\nuniform vec4 cb3_4;\nuniform vec4 cb3_3;\nuniform vec3 cb3_5xyz;\nuniform vec3 cb0_158xyz;\nuniform mat4 cb2_4567;      \n\nuniform vec4 cb0_67;\nuniform mat3 cb2_012;\n\nuniform vec3 cb3_183xyz;\nuniform float cb3_7x;\nuniform float cb3_6w;\nuniform vec4 cb3_8;\nuniform float cb3_9x;\nuniform int cb3_75x;\nuniform float cb3_75y;\nuniform vec4 cb3_74;\nuniform vec2 cb3_75zw;\nuniform float cb3_73z;\nuniform float cb0_140y;\nuniform vec4 cb3_57;\nuniform float cb3_59y;\nuniform vec4 cb3_60;\nuniform float cb3_58x;\nuniform vec3 cb3_58yzw;\nuniform float cb3_59x;\nuniform uint cb3_88z; // which UV\nuniform vec4 cb3_89;\nuniform vec2 cb3_90xy;\nuniform float cb3_95x;\nuniform vec3 cb3_91xyz;\nuniform float cb3_90w;\nuniform float cb3_92x;\nuniform vec4 cb3_179;\nuniform float cb3_180x;\nuniform float cb3_180y;\nuniform float cb3_180z;\nuniform float cb3_178y;\nuniform vec2 cb0_20zw;\nuniform float cb3_73w;\nuniform float cb2_11z;\nuniform vec3 cb0_6xyz;\nuniform float cb3_186w;\nuniform vec3 cb0_141xyz;\nuniform vec3 cb3_147xyz;\nuniform float cb3_146w;\nuniform vec3 cb0_144xyz;\nuniform vec2 cb3_122zw;\nuniform float cb3_123x;\nuniform vec2 cb3_125xy;\nuniform float cb3_125z;\nuniform float cb3_124w;\nuniform float cb3_128w;\nuniform float cb3_129x;\nuniform float cb3_194w;\nuniform float cb0_162x;\nuniform float cb3_186y;\nuniform float cb3_129y;\nuniform float cb0_141w;\nuniform vec4 cb3_130;\nuniform float cb0_145z;\nuniform vec2 cb0_145xy;\nuniform vec2 cb0_143xy;\nuniform vec2 cb0_125zw;\nuniform float cb3_134z;\nuniform float cb3_138y;\nuniform float cb0_142x;\nuniform float cb3_134x;\nuniform float cb3_134y;\nuniform float cb3_137w;\nuniform float cb3_138x;\nuniform vec2 cb0_142yz;\nuniform float cb3_138w;\nuniform mat4 cb0_133_136;\nuniform float cb0_138x;\nuniform float cb0_139w;\nuniform float cb3_141y;\nuniform float cb0_159w;\nuniform float cb3_110w;\nuniform vec3 cb3_111xyz;\nuniform float cb3_108w;\nuniform float cb3_109x;\nuniform float cb3_109y;\nuniform vec3 cb3_113xyz;\nuniform float cb3_113w;\nuniform vec3 cb3_110xyz;\nuniform vec3 cb3_112xyz;\nuniform float cb3_114x;\nuniform vec3 cb3_114yzw;\nuniform vec3 cb3_115yzw;\nuniform float cb3_115x;\nuniform vec3 cb3_137xyz;\nuniform float cb3_135y;\nuniform float cb3_117w;\nuniform float cb3_118x;\nuniform float cb3_116x;\nuniform vec3 cb3_117xyz;\nuniform vec3 cb3_136xyz;\nuniform float cb3_135x;\nuniform vec3 cb3_140xyz;\nuniform vec3 cb0_159xyz;\nuniform float cb3_92y;\nuniform float cb3_85w;\nuniform vec2 cb3_94yz;\nuniform float cb3_94x;\nuniform vec3 cb0_152xyz;\nuniform float cb3_94w;\nuniform float cb3_91w;\nuniform vec3 cb0_150xyz;\nuniform vec3 cb3_133xyz;\nuniform float cb3_188z;\nuniform float cb3_132x;\nuniform float cb3_132y;\nuniform vec3 cb0_148xyz;\nuniform vec3 cb0_149xyz;\nuniform vec3 cb0_153yzw;\nuniform uint cb2_11y;\nuniform uint cb0_10x;\nuniform float cb3_139w;\nuniform float cb3_123z;\nuniform float cb3_123w;\nuniform float cb3_126x;\nuniform float cb3_126y;\nuniform float cb3_126z;\nuniform float cb3_125w;\nuniform float cb3_124z;\nuniform float cb3_124x;\nuniform vec3 cb0_151xyz;\nuniform float cb0_157x;\nuniform float cb0_157y;\nuniform float cb0_156w;\nuniform vec3 cb0_154xyz;\nuniform vec3 cb0_155xyz;\nuniform float cb3_124y;\nuniform vec3 cb3_6xyz;\nuniform float cb3_129z;\nuniform float cb3_178x;\nuniform vec3 cb3_174xyz;\nuniform vec3 cb3_175xyz;\nuniform vec3 cb3_176xyz;\nuniform float cb3_133w;\nuniform float cb3_176w;\nuniform float cb3_134w;\nuniform vec3 cb0_146xyz;\nuniform vec3 cb0_147xyz;\nuniform float cb0_147w;\nuniform float cb3_9z;\nuniform float cb3_9y;\nuniform float cb3_189x;\nuniform float cb3_189y;\nuniform vec3 cb0_156xyz;\nuniform float cb3_144w;\nuniform vec3 cb3_144xyz;\nuniform vec3 cb3_143xyz;\nuniform vec3 cb3_153yzw;\nuniform vec3 cb0_129yzw;\nuniform float cb3_145w;\nuniform vec3 cb3_146xyz;\nuniform float cb3_154w;\nuniform vec3 cb3_154xyz;\nuniform vec3 cb3_145xyz;\nuniform vec4 cb3_177;\nuniform float cb3_90z;\nuniform float cb0_153x;\nuniform float cb0_152w;\nuniform float cb1_9w;\nuniform vec4 uv_scale_offset;\nuniform vec3 cb0_65xyz;\nuniform vec3 cb0_66xyz;\nuniform float cb2_10y;\n");const ho=dn(function(e){const t={};for(const n in e)t[n]=e[n].value;return t}(oo([i.UniformsLib.common,_o.constant_buffer_0,_o.constant_buffer_1,_o.constant_buffer_2,_o.constant_buffer_3,{opacity:{value:2},vertexTangents:{value:!0},vertexUv1s:{value:!0},vertexUv2s:{value:!0},vertexUv3s:{value:!0},vertexAlphas:{value:!0},diffMap:{value:null},diffMap_1:{value:null},baseTexture:{value:null},segMap:{value:null},segMap_1:{value:null},segMap_2:{value:null},segMap_3:{value:null},depthMap:{value:null},shadowMap:{value:null},outlineZOffsetIntensityMap:{value:null}}])),po+"\n\n    //in vec3 position; // The commented input attribute is defined and don't need to define here\n    //in vec3 normal;\n    #ifndef USE_TANGENT\n    in vec4 tangent;\n    #endif\n    in vec4 color;\n\n    //in vec2 uv;\n    in vec2 uv1;\n    in vec2 uv2;\n    in vec2 uv3;\n\n    // It actually correspond to v7 (NormalTS)\n    in vec2 texcoord_4;\n    in vec2 texcoord_5;\n\n\n    out vec3 outputVertexToCameraDirection;\n    out vec4 vNormal;\n    out vec4 vPosition;\n    out vec4 vColor; // corresponding to o7\n    out vec4 vColor1; // corresponding to o4\n\n    out vec4 vUV01;\n    out vec4 vUV23;\n  \n    uniform sampler2D outlineZOffsetIntensityMap; // TODO\n    uniform sampler2D unknownMap; // TODO, this need to be decipher from the fs's usage\n\n    // #include <skinning_pars_vertex>\n\n    // ----- CUSTOM ------\n    // --------------------\n    \n    void main() {\n      if (cb2_0x == 0.0 || cb2_186y == 1.0 || cb2_190x == 1.0) {\n        // Set all output attribute to zero\n        return;\n      }\n      vec4 sRGBColor = vec4(pow(color.r, 0.4545), pow(color.g, 0.4545), pow(color.b, 0.4545), 1.0);\n\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      if (cb2_141zw.y != 0.0 && cb2_141zw.x != 0.0) {\n      } else {\n        // Set all output attribute to zero\n        return;\n      }\n      #endif\n\n      vec2 output_uv_0 = uv * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_1 = uv1 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_2 = uv2 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vec2 output_uv_3 = uv3 * uv_scale_offset.xy + uv_scale_offset.zw;\n      vUV01 = vec4(output_uv_0, output_uv_1);\n      vUV23 = vec4(output_uv_2, output_uv_3);\n      #ifdef UNKNOWN_DEFINE_5\n      if (cb0_126x != 0.0) {\n        // Set all output attribute to zero except some attribute\n        return;\n      }\n      #endif\n\n      // position: vec3\n      // modelMatrix presented at WebGLRenderer.js? modelMatrix: mat4\n      // modelMatrix = cb1_0123\n      // NOTE: modelMatrix is correct currently\n      vec4 transformed_position = modelMatrix * vec4(position, 1.0);\n\n      // normalMatrix = transposed_modelMatrix = transpose(cb1_012)\n      // normal defined in WebGLProgram\n      // vec3 transformedNormal = normalMatrix * normal;\n      mat3 fakeNormalMatrix = mat3(modelMatrix); // FIXME, others should also change, normalMatrix somehow doesn't go with my expectation\n      vec3 transformedNormal = fakeNormalMatrix * normal;\n      transformedNormal = normalize( transformedNormal );\n\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      // if you want to define tangent, just add vertexTangents into parameter and WebGLProgram will do it for you \n      vec3 transformedTangent = mat3(modelMatrix) * vec3(tangent);\n      transformedTangent = normalize(transformedTangent);\n\n      //(a.y*b.z-a.z*b.y, a.z*b.x-a.x*b.z, a.x*b.y-a.y*b.x)\n      vec3 transformedBitangent = cross(transformedNormal, transformedTangent);\n      if (cb1_9w >= 0.0) {\n        transformedBitangent = tangent.w * transformedBitangent;\n      } else {\n        transformedBitangent = -tangent.w * transformedBitangent;\n      }\n      #endif\n\n      // Confidence: Max, Until this point, the transformed_position variable won't be change further\n      transformed_position.w = 0.0;\n\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      float some_value_4 = cb2_148x * cb2_147w * cb2_153x * cb0_129x;\n\n      if (cb2_150w != 0.0) {\n        some_value_4 *= dot(sRGBColor, cb2_151xyzw);\n      }\n\n      float positionVS_Z = (viewMatrix * vec4(transformed_position.xyz, 1.0)).z;\n      // constraint positionVS_Z to be not farther than 60.0\n      positionVS_Z = min(60.0 / cb0_144w, abs(positionVS_Z));\n      positionVS_Z *= cb0_144w;\n      if (cb0_21w == 0.0) {\n      } else {\n        positionVS_Z = 50.0 * min(2.0, abs(cb0_21y));\n      }\n      float saturated_cb0_130x = clamp(cb0_130x, 0.0, 1.0);\n      positionVS_Z = (1.0 - saturated_cb0_130x) * 60.0 + saturated_cb0_130x * positionVS_Z;\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      float some_value_27;\n      float some_value_5 = positionVS_Z;\n      if (cb2_188w == 0.0 && cb0_126x != 0.0) {\n        some_value_5 *= 0.0;\n      } else {\n        some_value_5 *= some_value_4;\n      }\n      some_value_5 *= 0.00005;\n      positionVS_Z *= 0.02;\n      #endif\n\n      #ifdef UNKNOWN_DEFINE_5\n      float some_value_5 = positionVS_Z * some_value_4;\n\n      some_value_5 *= 0.00005;\n      positionVS_Z *= 0.02;\n      #endif\n      \n      vec3 normalTS = vec3(texcoord_4.x, 1.0 - texcoord_4.y, texcoord_5.x);\n\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      vec3 normalWS = normalTS.z * transformedNormal + normalTS.x * transformedTangent + normalTS.y * transformedBitangent;\n      if (normalTS.z != 0.0 && cb2_142x != 0.0) {\n      } else {\n        normalWS = transformedNormal;\n      }\n      #endif\n\n      vec4 positionCS;\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      if (cb2_142z != 0.0) {\n        vec2 normalVS_xy = (mat3(viewMatrix) * normalWS).xy;\n        normalVS_xy = normalize(normalVS_xy);\n        normalWS = cb0_65xyz * normalVS_xy.x + cb0_66xyz * normalVS_xy.y;\n      }\n      transformed_position.xyz += normalWS * some_value_5; // FIXME\n\n      #endif\n\n      // outputVertexToCameraDirection = o6\n      if (cb0_21w == 0.0) {\n        // Perspective camera: camera to vertex position direction\n        outputVertexToCameraDirection = cb0_16xyz - transformed_position.xyz;\n      } else {\n        // Orthographic camera: Eye look into direction (View matrix's Z direction)\n        outputVertexToCameraDirection = vec3(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z); // get viewMatrix's z direction vector\n      }\n\n      vec3 some_vector_3 = transformed_position.xyz - cb2_187yzw;\n      #if defined(UNKNOWN_DEFINE_5)\n      vec3 adjustedNormal = (1.0 - cb2_185x) * cb2_183xyz + cb2_185x * some_vector_3;\n\n      transformedNormal = cb2_184w * adjustedNormal + (1.0 - cb2_184w) * transformedNormal;\n      // although vNormal is in <normal_pars_vertex> and <normal_pars_fragment>, I want to manually provide it here\n      #endif\n      transformedNormal = normalize(transformedNormal);\n      vNormal.xyz = transformedNormal;\n\n      #ifdef UNKNOWN_DEFINE_7\n      float zOffsetIntensity = dot(texture(outlineZOffsetIntensityMap, uv), cb2_149); // FIXME not correct\n      if (cb2_150x != 0.0) {\n      } else {\n        zOffsetIntensity = 1.0 - zOffsetIntensity;\n      }\n      zOffsetIntensity = clamp((zOffsetIntensity - cb2_150yz.x)/(cb2_150yz.y - cb2_150yz.x), 0.0, 1.0);\n      positionVS_Z = cb2_148y * zOffsetIntensity * max(1.0, positionVS_Z); // FIXME\n      #endif\n      #ifdef UNKNOWN_DEFINE_6\n      positionVS_Z = cb2_148y * max(1.0, positionVS_Z);\n      #endif\n      #ifdef UNKNOWN_DEFINE_5\n      positionVS_Z = cb2_148z * max(1.0, positionVS_Z);\n      #endif\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7) \n      // NOTE: transformed_position.w now becomes viewZ\n      if (cb2_9w != 0.0) {\n        transformed_position.w = -cb2_10x * cb2_10y - positionVS_Z;\n      } else {\n        transformed_position.w = -positionVS_Z;\n      }\n      // TODO: Currently to here\n      // vUV23.xyz = vec3(-transformed_position.w * 1000.0); // FIXME only for temparary\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7) // appeared at every vertex shader except 1_vs\n      vec4 some_vector_21 = vec4(transformedNormal * (1.0 - cb2_123y), 1.0);\n      vec3 some_vector_22 = vec3(dot(cb1_25xyzw, some_vector_21), dot(cb1_26xyzw, some_vector_21), dot(cb1_27xyzw, some_vector_21));\n\n      vec4 some_vector_23 = some_vector_21.xyzz * some_vector_21.yzzx;\n      vec3 some_vector_24 = vec3(dot(cb1_28xyzw, some_vector_23), dot(cb1_29xyzw, some_vector_23), dot(cb1_30xyzw, some_vector_23));\n      float some_value_22 = some_vector_21.x * some_vector_21.x - some_vector_21.y * some_vector_21.y;\n\n      vColor1.xyz = cb0_140z * max(vec3(0.0), some_vector_22 + cb1_31xyz * some_value_22 + some_vector_24);\n\n      // FIXME unknownMap is a red line\n      // vNormal.w = cb2_140w * (texture(unknownMap, vec2(cb2_138z, 0.0)).x - 1.0) + 1.0;\n      vNormal.w = cb2_140w * (1.0 - 1.0) + 1.0; // FIXME currently use this, when I get red line texture, I will fix this line\n      #endif\n\n      mat4 fakeProjectionMatrix = mat4(4.27263696558, 0.0, 0.0, 0.0, // zoom in factor\n      0.0, -7.59577978336, 0.0, 0.0, // zoom in factor * aspect ratio\n      0.0, 0.0, -0.0003, -1.0, // use mine, it will become -1.0006...\n      0.0, 0.0, -0.30009, 0.0); // use mine, it will become -0.6002...\n\n      #if defined(UNKNOWN_DEFINE_5) || defined(UNKNOWN_DEFINE_6) || defined(UNKNOWN_DEFINE_7)\n      // projectionMatrix * viewMatrix have large w error\n      positionCS = fakeProjectionMatrix * viewMatrix * vec4(transformed_position.xyz, 1.0);\n\n      float near_value = 0.3; // cb0_17y\n      float far_value = 1000.0; // cb0_17z\n      float some_value_6 = positionCS.z + (transformed_position.w / (far_value - near_value));\n\n      // FIXME since the z order is reverse, this place may need to change\n      float some_denominator = max(5.96046448e-008 + near_value, abs(positionCS.w) - transformed_position.w); // maybe is viewZ?, select later case\n      // vUV23.xyz = vec3(((cb0_60z - some_denominator * cb0_59z) * positionCS.w / some_denominator - 0.298) * 250.0); // FIXME only for temparary\n      // 1.0 / ((1.0 / near_value) - (1.0 / far_value)) - some_denominator * (near_value / far_value)\n      // (near_value * far_value) / (far_value - near_value) - some_denominator * (near_value / far_value)\n      // maybe viewZ to perspective depth (linear)\n      float some_value_7 = ((cb0_60z - some_denominator * cb0_59z) * positionCS.w) / (some_denominator);\n\n      // modified_position will be new vertex output \n      vec4 modified_position;\n      modified_position.xyw = positionCS.xyw;\n      if (cb0_21w != 0.0) {\n        modified_position.z = some_value_6;\n      } else {\n        // FIXME since webgl will automatically divide z position to clip space w component, we have to complement this part\n        // FIXME still don't understand why this use non-negative value solve the problem\n        // FIXME maybe we should take off positionCS.w\n        modified_position.z = some_value_7 * positionCS.w;\n      }\n\n      if (cb0_126x != 0.0) {\n        modified_position.z = positionCS.z;\n      }\n\n      if (transformed_position.w != 0.0) {\n      } else {\n        modified_position.z = positionCS.z;\n      }\n      // vUV23.xyz = vec3((-modified_position.z - 0.298) * 250.0); // FIXME only for temparary\n\n\n      float some_value_8 = sqrt(dot(some_vector_3, some_vector_3));\n      some_value_8 = clamp(cb2_187x - some_value_8 / cb2_187x, 0.0, 1.0);\n\n      float some_value_9 = clamp((transformed_position.y - cb2_188x) / (cb2_188y - cb2_188x), 0.0, 1.0);\n      some_value_8 *= cb2_186w * some_value_9;\n\n      float some_value_10 = dot(vec4(cb2_187yzw, 1.0), vec4(viewMatrix[0].z, viewMatrix[1].z, viewMatrix[2].z, viewMatrix[3].z));\n      vec2 some_vector_7 = modified_position.xy * abs(modified_position.w);\n      some_value_10 = 1.0 / abs(some_value_10);\n\n      vec2 some_vector_8 = some_value_8 * (some_vector_7 * some_value_10) + (1.0-some_value_8) * (modified_position.xy);\n      positionCS = modified_position;\n      if (cb0_21w == 1.0 || cb0_126y != 0.0) {\n        // is orthogonal camera or something?\n      } else {\n        positionCS.xy = some_vector_8;\n      }\n      vColor1.w = 0.0;\n      #endif\n\n      // Confidence: Max\n      // TODO transformed_position vs vPosition need to revisit their relationships\n      // FIXME notice transformed_position.w\n      vPosition = transformed_position;\n      gl_Position = positionCS;\n\n      // mat4 fakeViewProjectionMatrix = mat4(-4.23743,  0.0193,   0.00004,     -0.12805,\n      //   0.00,      -7.59426 ,5.95238E-06 ,-0.01984,\n      //   0.5472,    0.14944 , 0.0003      ,-0.99157,\n      //   -0.73626,  9.12388,  0.29901     ,3.5935);\n      // NOTE: blender save calibrate = ctrl + a, apply transformation, save FBX with Z foward (not -Z forward), no other options in transform panel while exporting\n      // mat4 fakeProjectionMatrix = mat4(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, -1.0003, -1.0, 0.0, 0.0, -0.300090027, 0.0);\n      // mat4 fakeProjectionMatrix = mat4(4.27263696558, 0.0, 0.0, 0.0,\n      //                                     0.0, -7.59577978336, 0.0, 0.0,\n      //                                     0.0, 0.0, 0.00030271063, -1.0, // use mine, it will become -1.0006...\n      //                                     0.0, 0.0, 0.30009751145, 0.0); // use mine, it will become -0.6002...\n      // NOTE: Since Three.js used right-handed Y-up coordinate, the z compare should add negative sign\n      mat4 changeOfBasisMatrix = mat4(1.0, 0.0, 0.0, 0.0,\n                                      0.0, 1.0, 0.0, 0.0,\n                                      0.0, 0.0, -1.0, 0.0,\n                                      0.0, 0.0, 0.0, 1.0);\n      // NOTE: in this, we comment out the below line\n      // gl_Position = fakeProjectionMatrix * viewMatrix * vec4((modelMatrix * vec4(position, 1.0)).xyz, 1.0); // FIXME debug\n      // gl_Position = projectionMatrix * viewMatrix * vec4((modelMatrix * vec4(position, 1.0)).xyz, 1.0); // FIXME \n      // vPosition = vec4(position, 1.0);\n      // gl_Position.w = 1.0;\n      // gl_Position.z = 1.0;\n      vColor = sRGBColor;\n    }\n    ",po+"\n    // #define USE_BASE_MAP\n  \n    in vec3 outputVertexToCameraDirection;\n    in vec4 vNormal;\n    in vec4 vPosition;\n    in vec4 vColor; // corresponding to o7\n    in vec4 vColor1; // corresponding to o4\n\n    in vec4 vUV01;\n    in vec4 vUV23;\n\n    uniform mat4 modelMatrix;\n    uniform float opacity;\n\n    #include <packing>\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n      return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n  \n    }  \n\n            \n    // ---------CUSTOM --------\n    #ifdef USE_BASE_MAP\n    uniform sampler2D baseTexture;\n    uniform sampler2D diffMap;\n    uniform sampler2D diffMap_1;\n    uniform sampler2D segMap;\n    uniform sampler2D segMap_1;\n    uniform sampler2D segMap_2;\n    uniform sampler2D segMap_3;\n    // https://gist.github.com/Popov72/7f1388c0b35fef351014a1946b40dabd\n    uniform sampler2D depthMap; \n    // uniform sampler2DShadow shadowMap;// FIXME according to softShadows.js, we should use sampler2D\n    uniform sampler2D shadowMap;\n\n    #endif\n    // -------------------------\n\n    // [R | t][A] -> [I]\n    // [A] <- [R^T | -R^T t]\n    // >= 8 \n    \n    void main() {    \n      vec3 debug_vector; \n      #if defined(UNKNOWN_DEFINE_FS_7)\n      vec3 faceCalibratedNormalWS = vNormal.xyz;\n      if (!gl_FrontFacing) {\n        faceCalibratedNormalWS *= -1.0;\n      }\n      #else \n      // FIXME temparary\n      vec3 faceCalibratedNormalWS = vNormal.xyz;\n      #endif\n\n      vec4 raw_diffuse = texture(diffMap, vec2(vUV01.xy));\n      raw_diffuse.rgb = raw_diffuse.rgb * cb3_4.rgb * cb3_3.rgb;\n      vec3 tint_on_diffuse = cb3_5xyz * cb0_158xyz; // tint = color tone\n      vec3 diffuse = tint_on_diffuse * raw_diffuse.rgb;\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10)\n      raw_diffuse.a = raw_diffuse.a * cb3_4.a * cb3_3.a;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      // model matrix: [R | t]\n      // fullTransposedModelMatrix = cb2_4567 = [R^T | -R^T t]\n      mat3 transposedModelMatrix = transpose(mat3(modelMatrix));\n      mat4 fullTransposedModelMatrix = mat4(vec4(transposedModelMatrix[0], 0.0),\n                                            vec4(transposedModelMatrix[1], 0.0),\n                                            vec4(transposedModelMatrix[2], 0.0),\n                                            vec4(-transposedModelMatrix * modelMatrix[3].xyz, 1.0));\n\n      vec3 some_vector_30 = (fullTransposedModelMatrix * cb0_67).xyz;\n      // some_vector_30 = cb2_012 * some_vector_30;\n      some_vector_30 = mat3(modelMatrix) * some_vector_30;\n      float some_value_81 = clamp(dot(cb3_183xyz, some_vector_30), 0.0, 1.0);\n      some_value_81 = some_value_81 * some_value_81;\n      some_value_81 = some_value_81 * some_value_81 - 1.0;\n      some_value_81 = (1.0 - cb3_7x) * 1.0 + cb3_7x * some_value_81 * some_value_81;\n      some_value_81 = cb3_6w * some_value_81;\n      float some_value_82;\n      if (cb3_7x > 0.0) {\n        some_value_82 = some_value_81;\n      } else {\n        some_value_82 = cb3_6w;\n      }\n\n      vec4 segm_result_3 = texture(segMap_3, vec2(vUV01.xy)); // override visibility\n      raw_diffuse.a = (1.0 - some_value_82) * raw_diffuse.a + some_value_82 * dot(segm_result_3, cb3_8);\n      raw_diffuse.a = raw_diffuse.a * cb3_4.a * cb3_3.a;\n      // another component(rgb) is raw_diffuse computation\n      if (raw_diffuse.a - cb3_9x < 0.0) {\n        discard;\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n      vec4 segm_result = texture(segMap, vec2(vUV01.xy));\n      float isShadow = dot(segm_result, cb3_74); // 0 represent fake shadow\n\n      if (cb3_75y != 0.0) {\n        // invert mask\n        isShadow = 1.0 - isShadow;\n      }\n      isShadow = clamp((isShadow - cb3_75zw.x) / (cb3_75zw.y - cb3_75zw.x), 0.0, 1.0);\n      float notSkin = cb3_73z * cb0_140y * (isShadow - 1.0);\n      isShadow = cb3_73z * cb0_140y * (isShadow - 1.0) + 1.0;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      vec4 segm_result = texture(segMap, vec2(vUV01.xy) * cb3_57.xy + cb3_57.zw); // eye highlight color\n      if (cb3_59y != 0.0) {\n        segm_result.rgb = vec3(dot(segm_result, cb3_60));\n      }\n      vec3 some_vector_23 = cb3_58yzw * cb3_58x * segm_result.rgb;\n      vec3 some_vector_24 = (1.0 - cb3_59x) * vec3(1.0) + cb3_59x * diffuse;\n      #endif\n\n      vec3 normalizedOutputVertexToCameraDirection = normalize(outputVertexToCameraDirection);\n      faceCalibratedNormalWS = normalize(faceCalibratedNormalWS);\n\n      #if defined(UNKNOWN_DEFINE_FS_12)\n      vec4 segm_result_2 = texture(segMap_2, vec2(vUV01.xy));\n      float isUseConstShadowColor = dot(segm_result_2, cb3_179); // 1 means override shadow color\n      if (cb3_180x != 0.0) {\n        isUseConstShadowColor = 1.0 - isUseConstShadowColor;\n      }\n      isUseConstShadowColor = cb3_178y * clamp((isUseConstShadowColor - cb3_180y) / (cb3_180z - cb3_180y), 0.0, 1.0);\n      #endif\n\n      float some_value_1;\n      if (cb0_21w != 0.0) {\n        // Orthogonal camera\n        some_value_1 = (1.0 - gl_FragCoord.z) * far_value + (gl_FragCoord.z) * near_value;\n      } else {\n        // Perspective camera\n        // gl_FragCoord.z is calculated from \n        // float some_denominator = max(5.96046448e-008 + near_value, abs(positionCS.w) - transformed_position.w);\n        // float cb0_59z = 0.0003;\n        // float cb0_60z = 0.30009;\n        // float some_value_7 = ((cb0_60z - some_denominator * cb0_59z) * positionCS.w) / (some_denominator);  \n        // float fragCoordZ = (gl_FragCoord.z * 2.0 - 1.0) * gl_FragCoord.w;\n        // some_value_1 = 1.0 / (cb0_20zw.x * fragCoordZ + cb0_20zw.y);\n        // 3.33233, 0.001\n        // NOTE: When going from vertex shader to fragment shader, gl_FragCoord.w inverted\n        float fragCoordZ = -(gl_FragCoord.z * 2.0 - 1.0); // Nilo's v0.z is already scaled by W homogeneous component\n        some_value_1 = 1.0 / (cb0_20zw.x * fragCoordZ + cb0_20zw.y); // original is this\n        // debug_vector = vec3((fragCoordZ - 0.298) * 250.0); // FIXME\n        // some_value_1 = 1.0 / ((1.0/near_value - 1.0/far_value) * (1.0/gl_FragCoord.z) + 1.0/far_value)\n        // some_value_1 = 1.0 / (((far_value-near_value)(1.0/gl_FragCoord.z) + near_value)/(near_value*far_value))\n        // float viewZ = perspectiveDepthToViewZ(gl_FragCoord.z, near_value, far_value); // TODO currently use this\n        // some_value_1 = viewZToOrthographicDepth(viewZ, near_value, far_value);  // TODO need urgent fix, the original's v0.z range is 3.33 and beyond\n      }\n\n      #ifdef UNKNOWN_DEFINE_FS_7\n      float toCameraAndToNormalAngle = clamp(dot(normalizedOutputVertexToCameraDirection, faceCalibratedNormalWS), 0.0, 1.0);\n      vec3 nonSkinDiffuseColor = max(cb0_141xyz, vColor1.rgb) * diffuse;\n      vec3 some_vector_1 = cb2_11z * cb0_6xyz;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n      float toCameraAndToNormalAngle = clamp(dot(normalizedOutputVertexToCameraDirection, faceCalibratedNormalWS), 0.0, 1.0);\n      diffuse = (1.0 - cb3_146w) * diffuse + cb3_146w * cb3_147xyz;\n      float some_value_3 = cb3_73w * notSkin + 1.0;\n      vec3 nonSkinDiffuseColor = some_value_3 * max(cb0_141xyz, vColor1.rgb) * diffuse;\n      vec3 some_vector_1 = cb2_11z * cb0_6xyz;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n      float toCameraAndToNormalAngle = clamp(dot(normalizedOutputVertexToCameraDirection, faceCalibratedNormalWS), 0.0, 1.0);\n      diffuse = (1.0 - cb3_146w) * diffuse + cb3_146w * cb3_147xyz;\n      vec3 nonSkinDiffuseColor = max(cb0_141xyz, vColor1.rgb) * diffuse;\n      vec3 some_vector_1 = cb2_11z * cb0_6xyz;\n      #endif\n\n      float some_value_14;\n      #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n      float some_value_4 = dot(faceCalibratedNormalWS, cb0_144xyz); // some angle\n      float some_value_5 = cb3_122zw.x - cb3_122zw.y; // min range\n      float some_value_6 = cb3_122zw.x + cb3_122zw.y; // max range\n      some_value_5 = clamp((some_value_4 - some_value_5) / (some_value_6 - some_value_5), 0.0, 1.0); // constrain this angle to be in certain range\n      float some_value_7 = 3.0 - 2.0 * some_value_5;\n      some_value_5 = some_value_5 * some_value_5;\n      float some_value_8 = some_value_7 * some_value_5;\n      some_value_5 = 1.0 - some_value_7 * some_value_5;\n      some_value_5 = cb3_123x * some_value_5 + some_value_8;\n      // same but different parameter\n      float some_value_9 = cb3_125xy.x - cb3_125xy.y;\n      float some_value_10 = cb3_125xy.x + cb3_125xy.y;\n      float some_value_11 = clamp((some_value_4 - some_value_9) / (some_value_10 - some_value_9), 0.0, 1.0);\n      float some_value_13 = (3.0 - 2.0 * some_value_11) * some_value_11 * some_value_11;\n      some_value_14 = 1.0 - some_value_13;\n      some_value_14 = (1.0 - cb3_124w) * some_value_5 + cb3_124w * (cb3_125z * some_value_14 + some_value_13);\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8)\n      some_value_14 = some_value_14 * isShadow;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n      float some_value_4 = dot(faceCalibratedNormalWS, cb0_144xyz); // some angle\n      float some_value_59 = clamp(some_value_4, 0.0, 1.0);\n      float some_value_5 = cb3_122zw.x - cb3_122zw.y; // min range\n      float some_value_6 = cb3_122zw.x + cb3_122zw.y; // max range\n      some_value_5 = clamp((some_value_4 - some_value_5) / (some_value_6 - some_value_5), 0.0, 1.0); // constrain this angle to be in certain range\n      float some_value_7 = 3.0 - 2.0 * some_value_5;\n      some_value_5 = some_value_5 * some_value_5;\n      float some_value_8 = some_value_7 * some_value_5;\n      some_value_5 = 1.0 - some_value_7 * some_value_5;\n      some_value_5 = cb3_123x * some_value_5 + some_value_8;\n      some_value_14 = some_value_5 * isShadow;\n      #endif\n\n      float toClosestDepth;\n      float min_dist;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        float some_value_15 = 1.0 / (1.0 + some_value_1);\n        if (cb0_21w != 0.0) {\n          // Orthogonal camera\n          some_value_15 = 0.7;\n        }\n        float some_value_16 = dot(vColor, cb3_130);\n        if (cb3_129z != 0.0) {\n        } else {\n          some_value_16 = 1.0;\n        }\n        vec2 some_vector_2 = cb0_145xy * cb0_145z * cb3_129y * cb0_141w * some_value_16 * some_value_15;\n        #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n        some_vector_2 = 0.666660011 * some_vector_2;\n        #endif\n        vec2 some_vector_3 = cb0_143xy * some_vector_2;\n        some_vector_3 = vec2(some_vector_3.x, -some_vector_3.y); // NOTE: This line doesn't exist in the original code, just add it to complement the Unity to WebGL transformation\n        vec2 depthTextureSize = vec2(textureSize(depthMap, int(0)));\n        // vec2 some_vector_4 = some_vector_3 * cb0_125zw + gl_FragCoord.xy;\n        vec2 some_vector_4 = some_vector_3 * depthTextureSize + gl_FragCoord.xy; // This is used to determine highlight with depthMap offset\n\n        ivec2 i_some_vector_4 = max(ivec2(0), ivec2(some_vector_4));\n        // ivec2 i_some_vector_min_bound = ivec2(vec2(-1.0, -1.0) + cb0_125zw);\n        ivec2 i_some_vector_min_bound = ivec2(vec2(-1.0, -1.0) + depthTextureSize);\n        i_some_vector_4 = min(i_some_vector_4, i_some_vector_min_bound);\n        float depthMapValue = texelFetch(depthMap, i_some_vector_4, 0).r;\n        float some_value_17 = 1.0 - depthMapValue;\n        float real_depth = some_value_17 * (far_value - near_value) + near_value; // FIXME causing dark light effect\n        if (cb0_21w != 0.0) {\n        } else {\n          // TODO depthMapValue should mapping like this\n          // 3.33233, 0.001 apply to depth_value=0.08, 0.04, TODO it use TV as background and as depth value\n          real_depth = 1.0 / (cb0_20zw.x * -(2.0 * depthMapValue - 1.0) + cb0_20zw.y);\n          // float viewZ = perspectiveDepthToViewZ(depthMapValue, near_value, far_value); // TODO currently use this\n          // real_depth = viewZToOrthographicDepth(viewZ, near_value, far_value);  \n        }\n\n        #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n        float some_value_21 = vPosition.w + some_value_1;\n        some_value_21 = some_value_21 + cb3_138y + clamp(cb0_142x + 0.05 + cb3_134x, 0.0, 1.0);\n        float some_value_22 = clamp(10.0 * (real_depth - some_value_21) / cb3_134y, 0.0, 1.0);\n        min_dist = some_value_22;\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n        float some_value_21 = vPosition.w + some_value_1;\n        some_value_21 = real_depth - (some_value_21 + clamp(cb0_142x + 0.05 + cb3_134x, 0.0, 1.0)); // FIXME problem\n        float some_value_22 = clamp(10.0 * some_value_21 / cb3_134y, 0.0, 1.0);\n        min_dist = some_value_22;\n        #endif\n\n        #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n        // debug_vector = vec3((-(2.0 * depthMapValue - 1.0) * 10.0 - 0.84) * 100.0); // FIXME depthMapValue is a bit off\n        // debug_vector = vec3(real_depth-3.3); // FIXME\n        // FIXME For face, real_depth is still wrong (NormalMaterial is still buggy when outputing depth)\n        toClosestDepth = real_depth - (some_value_1 - (0.01 + cb3_137w));\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n        toClosestDepth = real_depth - (some_value_1 - (0.03 + cb3_137w));\n        #endif\n        toClosestDepth = clamp(50.0 * toClosestDepth / cb3_138x, 0.0, 1.0);\n        toClosestDepth = cb3_134w * toClosestDepth + (1.0 - cb3_134w) * 1.0;\n      } else {\n        #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n        toClosestDepth = 1.0;\n        min_dist = 0.0;\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n        float some_value_61 = (1.0 - cb3_186w) * cb0_21w + cb3_186w * 1.0;\n        float some_value_62 = clamp(dot(faceCalibratedNormalWS, cb0_67.xyz), 0.0, 1.0);\n        some_value_61 = (1.0 - some_value_61) * toCameraAndToNormalAngle + some_value_61 * some_value_62;\n        some_value_61 = (1.0 - some_value_61) * (some_value_59 * 0.25 + 0.75);\n        if (some_value_4 > 0.0) {\n          some_value_4 = 1.0;\n        } else {\n          some_value_4 = 0.0;\n        }\n        float some_value_98 = min(1.0, 50.0 * fwidth(some_value_61 * some_value_4)); // fwidth(p) = abs(dFdx(p)) + abs(dFdy(p))\n        some_value_4 = clamp(25.0 * (some_value_61 * some_value_4 - 0.68), 0.0, 1.0);\n        min_dist = some_value_98 * (3.0 - 2.0 * some_value_4) * some_value_4 * some_value_4;\n        toClosestDepth = 1.0;\n        #endif\n      }\n\n      float some_value_26 = clamp((some_value_1 - cb0_142yz.y) / (cb0_142yz.x - cb0_142yz.y), 0.0, 1.0);\n      min_dist = (3.0 - 2.0 * some_value_26) * some_value_26 * some_value_26 * min_dist;\n\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      vec3 some_vector_6;\n      vec3 some_vector_7;\n      if (cb3_138w != 0.0) {\n        some_vector_6 = (cb0_133_136 * vec4(vPosition.xyz, 1.0)).xyz; // TODO cb0_133_136\n        some_vector_7.xy = some_vector_6.xy * vec2(0.5) + vec2(0.5);\n        some_vector_7.z = 1.0 - some_vector_7.y;\n        // https://www.khronos.org/opengl/wiki/Sampler_(GLSL)#Shadow_samplers\n        // Need to define texture's compareFunction attribute\n        // FIXME\n        // float shadowFactor = texture(shadowMap, vec3(some_vector_7.xz, some_vector_6.z));\n        float shadowFactor = texture2DCompare(shadowMap, some_vector_7.xz + vec2(0.0, 0.0), some_vector_6.z);\n        // float shadowFactor = 0.0;\n\n        some_value_1 = clamp(0.5 * (abs(some_value_1) - (cb0_138x - 2.0)), 0.0, 1.0);\n        some_value_1 = some_value_1 * 1.0 + (1.0 - some_value_1) * shadowFactor;\n        float some_value_28 = clamp(10.0 * (clamp(dot(faceCalibratedNormalWS, cb0_139xyz), 0.0, 1.0) - 0.1), 0.0, 1.0);\n        float some_value_29 = 1.0;\n        if (cb0_139w != 0.0) {\n          some_value_29 = (3.0 - 2.0 * some_value_28) * some_value_28 * some_value_28;\n        } \n        float some_value_30 = cb3_141y * cb3_139w;\n        some_value_1 = (1.0 - some_value_30) + some_value_30 * some_value_29 * some_value_1;\n      } else {\n        some_value_1 = 1.0;\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      some_value_14 = toClosestDepth * some_value_14 * some_value_1 - 1.0; // FIXME toClosestDepth, some_value_1: eyebrow lack\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      some_value_14 = some_value_14 * some_value_1 - 1.0;\n      #endif\n      some_value_14 = clamp(cb0_159w * some_value_14 + 1.0, 0.0, 1.0);\n      float some_value_31 = clamp(cb3_110w * (1.0 - 2.0 * abs(some_value_14 - 0.5)), 0.0, 1.0); // Get shadow boundary\n      float some_value_32 = (cb3_111xyz.x * some_value_31) + cb3_108w;\n      float some_value_33 = (cb3_111xyz.y * some_value_31) + cb3_109x;\n      float some_value_34 = (1.0 - some_value_31) + some_value_31 * cb3_111xyz.z;\n      some_value_34 = cb3_109y * some_value_34;\n\n      vec4 modified_diffuse = vec4(diffuse.bg, -1.0, 2.0 / 3.0);\n      vec4 modified_diffuse_another = vec4(diffuse.gb - modified_diffuse.rg, 1.0, -1.0);\n      if (diffuse.g >= diffuse.b) {\n        modified_diffuse = modified_diffuse + modified_diffuse_another; // becomes vec4(diffuse.gb, 0.0, -1.0 / 3.0)\n      }\n      vec4 some_vector_8 = vec4(modified_diffuse.rga, diffuse.r);\n      if (diffuse.r >= modified_diffuse.r) {\n        modified_diffuse.rga = some_vector_8.agr; // becomes diffuse.r, modified_diffuse.g, modified_diffuse.r\n      } else {\n        modified_diffuse = some_vector_8;\n      }\n      float some_value_35 = modified_diffuse.r - min(modified_diffuse.a, modified_diffuse.g);\n      float some_value_36 = modified_diffuse.a - modified_diffuse.g;\n      float some_value_37 = some_value_36 / (6.0 * some_value_35 + 1.00000001e-010);\n      some_value_37 = modified_diffuse.b + some_value_37;\n      some_value_35 = some_value_35 / (modified_diffuse.r + 1.00000001e-010);\n      some_value_32 = abs(some_value_37) + some_value_32; // FIXME some_value_32, some_value_37: eyebrow not correct, not sure if this is ok\n      some_value_33 = exp2(log2(abs(some_value_35)) / (3.0 * some_value_33 + 1.0));\n      vec2 some_vector_9 = clamp(vec2(4.0, 5.0) * some_value_35, 0.0, 1.0);\n      float some_value_38 = some_vector_9.x * some_vector_9.x * (3.0 - 2.0 * some_vector_9.x);\n      some_value_33 = some_value_35 * (1.0 - some_value_38) + some_value_33 * some_value_38;\n      some_value_34 = modified_diffuse.r * some_value_34;\n\n      vec3 some_vector_99 = fract(vec3(1.0, 2.0/3.0, 1.0/3.0) + vec3(some_value_32)) * vec3(6.0) + vec3(-3.0);\n      some_vector_99 = clamp(vec3(-1.0) + abs(some_vector_99), 0.0, 1.0) + vec3(-1.0);\n      vec3 some_vector_10 = some_value_33 * some_vector_99 + vec3(1.0); // FIXME some_value_33, some_vector_99 added eye fallacy\n      float some_value_39 = (1.0 - cb3_113w) + cb3_113w * some_vector_9.y;\n      vec3 some_vector_12 = (1.0 - some_value_39) * cb3_113xyz * diffuse + some_value_39 * some_value_34 * some_vector_10; // FIXME\n      some_vector_12 = (some_value_31 * (cb3_112xyz - vec3(1.0)) + vec3(1.0)) * cb3_110xyz * some_vector_12;\n\n      #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n      float some_value_40 = cb3_178y * cb3_114x;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      some_vector_13 = cb3_115x * (diffuse * cb3_115yzw) + (1.0 - cb3_115x) * some_vector_13;\n      some_vector_13 = some_value_14 * diffuse + (1.0 - some_value_14) * some_vector_13;\n      vec3 some_vector_14 = cb3_137xyz * cb3_135y;\n      vec3 some_vector_15 = toClosestDepth * (vec3(1.0) - some_vector_14) + some_vector_14;\n      some_vector_15 = some_vector_15 * some_vector_13;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_15;\n      }\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11)\n      float some_value_40 = cb3_178y * cb3_114x;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      some_vector_13 = (1.0 - some_value_14) * some_vector_13 + some_value_14 * diffuse;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_13 * (toClosestDepth * vec3(1.0) + (1.0 - toClosestDepth) * cb3_136xyz * cb3_135x);\n      }\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_12)\n      float some_value_40 = cb3_114x * isUseConstShadowColor;\n      vec3 some_vector_13 = some_value_40 * (diffuse * cb3_114yzw) + (1.0 - some_value_40) * some_vector_12;\n      some_vector_13 = (1.0 - some_value_14) * some_vector_13 + some_value_14 * diffuse;\n      if (cb3_128w != 0.0 && cb3_129x != 0.0 && cb3_194w != 0.0 && !(cb0_162x != 0.0) && cb3_186y == 0.0) {\n        some_vector_13 = some_vector_13 * (toClosestDepth * vec3(1.0) + (1.0 - toClosestDepth) * cb3_136xyz * cb3_135x);\n      }\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      vec3 some_vector_16 = (1.0 - some_value_1) * cb3_140xyz + some_value_1 * vec3(1.0);\n      some_vector_13 = some_vector_16 * some_vector_13;\n      vec3 some_vector_17 = (1.0 - some_value_14) * cb0_159xyz + some_value_14 * vec3(1.0);\n      some_vector_13 = some_vector_17 * some_vector_13;\n      float some_value_41 = (1.0 - 0.25) * vNormal.w + 0.25 * 1.0;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      vec3 some_vector_16 = (1.0 - some_value_14) * cb0_159xyz + some_value_14 * vec3(1.0);\n      some_vector_13 = some_vector_16 * some_vector_13; // not used\n      float some_value_41 = (1.0 - 0.25) * vNormal.w + 0.25 * 1.0;\n      #endif\n\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      some_vector_13 = min(cb0_150xyz, vNormal.w * some_vector_1) * some_vector_13;\n      some_vector_1 = cb3_133xyz * min(vec3(2.0), some_vector_1);\n      vec3 some_vector_32 = cb3_133w * diffuse + (1.0 - cb3_133w) * vec3(1.0);\n      some_vector_32 = some_vector_1 * some_vector_32 * vec3(1.0 / 6.0) + vec3(1.0 / 20.0);\n      some_vector_32 = cb0_148xyz * cb3_132y * cb3_188z * cb3_132x * some_vector_32;\n      // min_dist, FIXME min_dist lack strong to weak intensity transition\n      some_vector_13 = some_vector_13 * cb0_153yzw + some_value_41 * min_dist * some_vector_32;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      some_vector_13 = min(cb0_150xyz, vNormal.w * some_vector_1) * some_vector_13;\n      some_vector_1 = cb3_133xyz * min(vec3(2.0), some_vector_1);\n      vec3 some_vector_32 = cb3_133w * diffuse + (1.0 - cb3_133w) * vec3(1.0);\n      some_vector_32 = some_vector_1 * some_vector_32 * vec3(1.0 / 6.0) + vec3(1.0 / 20.0);\n      some_vector_32 = cb0_149xyz * cb3_132y * cb3_188z * cb3_132x * some_vector_32;\n      some_vector_13 = some_vector_13 * cb0_153yzw + some_value_41 * min_dist * some_vector_32;\n      #endif\n\n      uint some_value_42 = min(cb2_11y, cb0_10x);\n      float some_value_43 = 1.0 / ((cb3_123z + cb3_123w) - (cb3_123z - cb3_123w));\n      #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n      float some_value_44 = 1.0 / ((cb3_126x + cb3_126y) - (cb3_126x - cb3_126y));\n      #endif\n      uint some_counter = uint(0);\n      vec4 some_constant_1[10];\n      vec4 some_constant_2[4] = vec4[4](vec4(1.0, 0.0, 0.0, 0.0),\n                                        vec4(0.0, 1.0, 0.0, 0.0),\n                                        vec4(0.0, 0.0, 1.0, 0.0),\n                                        vec4(0.0, 0.0, 0.0, 1.0));\n      vec4 cb1_constant[10];\n      vec4 cb1_constant_1[10];\n      vec3 accumulated_radiance = vec3(0.0);\n      // TODO we still can't verify this part of code because it's current not effective\n      while (true) {\n        if (some_counter >= some_value_42) {\n          break;\n        }\n        uint some_idx_1 = some_counter >> uint(2);\n        uint some_idx_2 = some_counter & uint(3);\n        // FIXME\n        uint some_type = uint(dot(some_constant_1[some_idx_1+uint(12)], some_constant_2[some_idx_2]));\n        vec3 some_vector_18 = cb1_constant[some_type].xyz - cb1_constant[some_type].w * vPosition.xyz; \n        float some_value_45 = max(6.10351563e-005, dot(some_vector_18, some_vector_18));\n        some_vector_18 = normalize(some_vector_18);\n        float some_value_46 = 1.0 / some_value_45;\n        float some_value_47 = cb1_constant_1[some_type+uint(512)].x * some_value_46; // FIXME\n        some_value_47 = max(0.0, 1.0 - some_value_47 * some_value_47);\n        some_value_47 = some_value_46 * some_value_47 * some_value_47;\n        float some_value_48 = dot(cb1_constant[some_type+uint(768)].xyz, some_vector_18);\n        some_value_48 = clamp(some_value_48 * cb1_constant_1[some_type+uint(512)].z + cb1_constant_1[some_type+uint(512)].w, 0.0, 1.0);\n        some_value_47 = some_value_47 * some_value_48 * some_value_48;\n        float some_value_49 = dot(faceCalibratedNormalWS, some_vector_18);\n        float some_value_50 = clamp((some_value_49 - (cb3_123z - cb3_123w)) * some_value_43, 0.0, 1.0);\n        float some_value_51 = 3.0 - 2.0 * some_value_50;\n        some_value_50 = some_value_50 * some_value_50;\n        float some_value_52 = some_value_51 * some_value_50;\n        some_value_50 = 1.0 - some_value_51 * some_value_50;\n        some_value_50 = cb3_124x * some_value_50 + some_value_52;\n\n        #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n        some_value_49 = clamp((some_value_49 - (cb3_126x - cb3_126y)) * some_value_44, 0.0, 1.0);\n        float some_value_53 = 3.0 - 2.0 * some_value_49;\n        some_value_49 = some_value_49 * some_value_49;\n        float some_value_54 = some_value_53 * some_value_49;\n        some_value_49 = 1.0 - some_value_53 * some_value_49;\n        some_value_49 = cb3_126z * some_value_49 + some_value_52;\n        some_value_49 = (1.0 - cb3_125w) * some_value_50 + cb3_125w * some_value_49;\n\n        some_value_49 = some_value_49 * min(cb3_124z, some_value_47);\n        #endif\n        #if defined(UNKNOWN_DEFINE_FS_12)\n        some_value_49 = some_value_50 * min(cb3_124z, some_value_47);\n        #endif\n\n        accumulated_radiance = cb1_constant[some_type+uint(256)].rgb * some_value_49 + accumulated_radiance; // FIXME\n        some_counter += uint(1);\n      }\n\n      vec3 some_vector_19 = min(cb0_151xyz, accumulated_radiance);\n      float some_value_55 = exp2(cb0_157x * log2(1.0 - toCameraAndToNormalAngle));\n      float some_value_56 = 0.5 - cb0_157y;\n      some_value_55 = some_value_55 - some_value_56;\n      some_value_56 = 1.0 / (2.0 * cb0_157y);\n      some_value_55 = clamp(some_value_55 * some_value_56, 0.0, 1.0);\n      some_value_55 = (3.0 - 2.0 * some_value_55) * some_value_55 * some_value_55 - 1.0;\n      some_value_55 = cb0_156w * some_value_55 + 1.0;\n      some_vector_19 = cb0_154xyz * some_value_55 * some_vector_19;\n      // debug_vector = vec3(1.0);\n      #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n      some_vector_19 = cb0_155xyz * some_vector_19;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      some_vector_19 = cb0_156xyz * some_vector_19;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n      isShadow = (1.0 - cb3_124y) * isShadow + cb3_124y * 1.0;\n      some_vector_19 = isShadow * some_vector_19 * diffuse + some_vector_13; // FIXME some_vector_13 hair\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_7) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_13)\n      some_vector_19 = some_vector_19 * diffuse + some_vector_13;\n      #endif\n      some_vector_19 = max(nonSkinDiffuseColor, some_vector_19); // nonSkinDiffuseColor is a very dark color\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      some_vector_19 = some_vector_23 * some_vector_24 + some_vector_19;\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_13)\n      float some_value_84 = cb3_178y * cb3_144w;\n      some_vector_19 = ((1.0 - some_value_84) * cb3_143xyz + some_value_84 * cb3_144xyz) * cb3_153yzw * cb0_129yzw * some_vector_19;\n      #endif\n      #ifdef UNKNOWN_DEFINE_FS_12\n      float some_value_84 = cb3_144w * isUseConstShadowColor;\n      some_vector_19 = ((1.0 - some_value_84) * cb3_143xyz + some_value_84 * cb3_144xyz) * cb3_153yzw * cb0_129yzw * some_vector_19;\n      #endif\n\n      // FIXME some_vector_19 for fs_8\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12)\n      some_vector_19 *= (1.0 - isShadow) * cb3_145xyz + isShadow * vec3(1.0);\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      some_vector_19 = (1.0 - cb3_145w) * some_vector_19 + cb3_145w * cb3_146xyz;\n      some_vector_19 = (1.0 - cb3_154w) * some_vector_19 + cb3_154w * cb3_154xyz;\n      #endif\n\n      vec3 some_vector_20;\n      if (gl_FrontFacing) {\n        some_vector_20 = vec3(1.0);\n      } else {\n        some_vector_20 = cb3_6xyz;\n      }\n      vec3 some_vector_21 = some_vector_20 * some_vector_19;\n      float some_value_57 = dot(some_vector_21, vec3(0.212672904,0.715152204,0.0721750036));\n      some_vector_19 = some_value_57 - some_vector_19 * some_vector_20;\n      some_vector_19 = cb3_178x * some_vector_19 + some_vector_21;\n      some_vector_19 = some_vector_19 * cb3_174xyz + cb3_175xyz;\n      some_vector_19 = (1.0 - cb3_176w) * some_vector_19 + cb3_176w * cb3_176xyz;\n      vec3 some_vector_22 = cb0_146xyz * some_vector_19;\n      gl_FragColor.rgb = (1.0 - cb0_147w) * some_vector_22 + cb0_147w * cb0_147xyz;\n      // FIXME -- delete this after debug\n      // gl_FragColor.rgb = vUV23.xyz; // FIXME only for temparary\n      // gl_FragColor.rgb = debug_vector;\n      // FIXME -- delete this after debug\n\n      #if defined(UNKNOWN_DEFINE_FS_7)\n      float alpha_value;\n      if (cb3_9z != 0.0 && cb3_9y != 0.0) {\n        alpha_value = 1.0;\n      } else {\n        alpha_value = raw_diffuse.a;\n      }\n      if (cb3_189x == 1.0 && cb3_189y == 0.0) {\n        gl_FragColor.a = 1.0;\n      } else {\n        gl_FragColor.a = alpha_value;\n      }\n      #endif\n      #if defined(UNKNOWN_DEFINE_FS_8) || defined(UNKNOWN_DEFINE_FS_9) || defined(UNKNOWN_DEFINE_FS_10) || defined(UNKNOWN_DEFINE_FS_11) || defined(UNKNOWN_DEFINE_FS_12) || defined(UNKNOWN_DEFINE_FS_13)\n      gl_FragColor.a = 1.0;\n      #endif\n\n    }\n    ");let bo=function(e){function t(t){var n;return(n=e.call(this,t)||this).map=null,n.diffMap=null,n.baseTexture=null,n.segMap=null,n.setValues(t),n}return(0,no.A)(t,e),t.prototype.copy=function(t){return e.prototype.copy.call(this,t),this.map=t.map,this.diffMap=t.diffMap,this.baseTexture=t.baseTexture,this.segMap=t.segMap,this},t}(i.ShaderMaterial),yo=function(){function e(e){this.diffMap=null,this.baseTexture=null,this.segMap=null,this.segMap_1=null,this.segMap_2=null,this.segMap_3=null,this.depthMap=null,this.shadowMap=null,this.outlineZOffsetIntensityMap=null,this.cb0_6xyz=new i.Vector3(1,1,1),this.cb0_10x=0,this.cb0_16xyz=new i.Vector3(.286179,1.272233,3.5616),this.near_value=.3,this.far_value=1e3,this.cb0_20zw=new i.Vector2(3.33233,.001),this.cb0_21y=5,this.cb0_21w=0,this.cb0_21w=0,this.cb0_59z=3e-4,this.cb0_60z=.30009,this.cb0_65xyz=new i.Vector3(-.99177,0,.12807),this.cb0_66xyz=new i.Vector3(-.00254,.9998,-.01967),this.cb0_67=new i.Vector4(.12805,.01984,.99157,0),this.cb0_125zw=new i.Vector2(3840,2160),this.cb0_126x=0,this.cb0_126y=0,this.cb0_129x=1.25,this.cb0_129yzw=new i.Vector3(1,1,1),this.cb0_130x=1,this.cb0_133_136=new i.Matrix4(-.663,.0641,.05196,0,0,-.8285,.24511,0,.08562,.49639,.40239,0,-.32784,.76774,.30746,1),this.cb0_137x=12e-5,this.cb0_138x=200,this.cb0_138yz=new i.Vector2(1,1),this.cb0_139xyz=new i.Vector3(.10962,.51708,.84914),this.cb0_139w=1,this.cb0_140y=1,this.cb0_140z=1,this.cb0_141xyz=new i.Vector3(.01,.01,.01),this.cb0_141w=1.25,this.cb0_142x=0,this.cb0_142yz=new i.Vector2(1e3,2e3),this.cb0_143xy=new i.Vector2(-.24531,.77795),this.cb0_144xyz=new i.Vector3(.31539,.78927,.52686),this.cb0_144w=15,this.cb0_145xy=new i.Vector2(.5625,1),this.cb0_145z=.06667,this.cb0_146xyz=new i.Vector3(.36621,.37855,.52536),this.cb0_147xyz=new i.Vector3(1,1,1),this.cb0_147w=0,this.cb0_148xyz=new i.Vector3(2.39783,3.35939,3.6175),this.cb0_149xyz=new i.Vector3(0,0,0),this.cb0_150xyz=new i.Vector3(1,1,1),this.cb0_151xyz=new i.Vector3(1,1,1),this.cb0_152xyz=new i.Vector3(1.2,1.2,1.2),this.cb0_152w=.25,this.cb0_153x=0,this.cb0_153yzw=new i.Vector3(1,1,1),this.cb0_154xyz=new i.Vector3(1,1,1),this.cb0_155xyz=new i.Vector3(1,1,1),this.cb0_156xyz=new i.Vector3(1,1,1),this.cb0_156w=0,this.cb0_157x=1,this.cb0_157y=.5,this.cb0_158xyz=new i.Vector3(1,1,1),this.cb0_159xyz=new i.Vector3(1,1,1),this.cb0_159w=1,this.cb0_162x=0,this.cb0_162y=1,this.cb1_9w=1,this.cb1_25xyzw=new i.Vector4(.00733,-.0057,.01225,.16976),this.cb1_26xyzw=new i.Vector4(.01153,.04141,.01926,.21119),this.cb1_27xyzw=new i.Vector4(.01989,.12794,.03323,.2896),this.cb1_28xyzw=new i.Vector4(.00577,.00963,.02987,.0097),this.cb1_29xyzw=new i.Vector4(.00922,.0154,.04152,.01415),this.cb1_30xyzw=new i.Vector4(.01658,.02769,.05084,.02056),this.cb1_31xyz=new i.Vector3(.02473,.03401,.03987),this.cb1_186y=0,this.cb1_186z=1,this.cb2_0x=1,this.cb2_012=new i.Matrix3(.8105,.17636,-.55856,-.19902,.97978,.02056,.55089,.0945,.82921),this.cb2_4567=new i.Matrix4(.8105,-.19902,.55089,0,.17636,.97978,.0945,0,-.55856,.02056,.82921,0,.64965,-1.06887,.46308,1),this.cb2_3w=1,this.cb2_4w=1,this.cb2_6w=1,this.cb2_7x=0,this.cb2_8=new i.Vector4(0,0,1,0),this.cb2_9x=.5,this.cb2_11y=1,this.cb2_11z=1,this.cb2_9w=1,this.cb2_10x=0,this.cb2_123y=1,this.cb2_138z=1,this.cb2_140w=1,this.cb2_138y=.04,this.cb2_139xy=new i.Vector2(0,0),this.cb2_141zw=new i.Vector2(1,1),this.cb2_142x=1,this.cb2_142z=0,this.cb2_142xy=new i.Vector2(1,1),this.cb2_147w=1,this.cb2_148x=1,this.cb2_148y=.02,this.cb2_148z=.02,this.cb2_149=new i.Vector4(0,1,0,0),this.cb2_150x=1,this.cb2_150yz=new i.Vector2(0,1),this.cb2_150w=0,this.cb2_151xyzw=new i.Vector4(0,1,0,0),this.cb2_153x=1,this.cb2_170x=0,this.cb2_170y=3,this.cb2_170z=100,this.cb2_173yz=new i.Vector2(1,0),this.cb2_183xyz=new i.Vector3(.16652,-.00164,.98604),this.cb2_184w=0,this.cb2_185x=0,this.cb2_186y=0,this.cb2_186w=1,this.cb2_187x=1,this.cb2_187yzw=new i.Vector3(-.01578,1.34417,-43e-5),this.cb2_188x=0,this.cb2_188y=1,this.cb2_188w=2,this.cb2_190x=0,this.cb2_194y=1,this.cb2_194w=1,this.cb3_2x=0,this.cb3_3=new i.Vector4(1,1,1,1),this.cb3_4=new i.Vector4(1,1,1,1),this.cb3_5xyz=new i.Vector3(1,1,1),this.cb3_6xyz=new i.Vector3(1,1,1),this.cb3_6w=1,this.cb3_7x=0,this.cb3_8=new i.Vector4(0,0,1,0),this.cb3_9x=.5,this.cb3_9y=1,this.cb3_9z=0,this.cb3_57=new i.Vector4(1,1,0,0),this.cb3_58x=1,this.cb3_58yzw=new i.Vector3(0,0,0),this.cb3_59x=0,this.cb3_59y=0,this.cb3_60=new i.Vector4(0,1,0,0),this.cb3_73z=1,this.cb3_73w=.5,this.cb3_74=new i.Vector4(1,0,0,0),this.cb3_75x=0,this.cb3_75y=0,this.cb3_75zw=new i.Vector2(.19829,.2407),this.cb3_85w=.5,this.cb3_88z=0,this.cb3_89=new i.Vector4(0,0,1,0),this.cb3_90xy=new i.Vector2(0,1),this.cb3_90z=0,this.cb3_90w=1,this.cb3_91xyz=new i.Vector3(1,1,1),this.cb3_91w=0,this.cb3_92x=0,this.cb3_92y=1,this.cb3_94x=0,this.cb3_94yz=new i.Vector2(.1,.05),this.cb3_94w=0,this.cb3_95x=0,this.cb3_108w=0,this.cb3_109x=.5,this.cb3_109y=1,this.cb3_110xyz=new i.Vector3(.76431,.45,1),this.cb3_110w=1,this.cb3_111xyz=new i.Vector3(.01,1,1),this.cb3_112xyz=new i.Vector3(1,1,1),this.cb3_113xyz=new i.Vector3(.6,1,.94902),this.cb3_113w=1,this.cb3_114x=1,this.cb3_114yzw=new i.Vector3(1,.60383,.60383),this.cb3_115x=1,this.cb3_116x=1,this.cb3_117xyz=new i.Vector3(1,1,1),this.cb3_117w=1,this.cb3_118x=0,this.cb3_115yzw=new i.Vector3(1,.60383,.60383),this.cb3_122zw=new i.Vector2(0,.05),this.cb3_123x=0,this.cb3_123z=0,this.cb3_123w=.05,this.cb3_124x=.2,this.cb3_124y=.2,this.cb3_124z=2,this.cb3_124w=1,this.cb3_125xy=new i.Vector2(-.3,.15),this.cb3_125z=.5,this.cb3_125w=1,this.cb3_126x=0,this.cb3_126y=.15,this.cb3_126z=.2,this.cb3_128w=1,this.cb3_129x=1,this.cb3_129y=1,this.cb3_129z=0,this.cb3_130=new i.Vector4(0,1,0,0),this.cb3_132x=1,this.cb3_132y=1,this.cb3_133xyz=new i.Vector3(1,1,1),this.cb3_133w=0,this.cb3_134x=0,this.cb3_134y=1,this.cb3_134z=.1,this.cb3_134w=1,this.cb3_135x=.85,this.cb3_135y=1,this.cb3_136xyz=new i.Vector3(1,1,1),this.cb3_137xyz=new i.Vector3(1,.85,.85),this.cb3_137w=0,this.cb3_138x=1,this.cb3_138y=.04,this.cb3_138w=1,this.cb3_139w=0,this.cb3_140xyz=new i.Vector3(1,1,1),this.cb3_141y=1,this.cb3_143xyz=new i.Vector3(.25,.25,.25),this.cb3_144w=1,this.cb3_144xyz=new i.Vector3(.623,.238,.289),this.cb3_145xyz=new i.Vector3(1,1,1),this.cb3_145w=0,this.cb3_146xyz=new i.Vector3(1,1,1),this.cb3_146w=0,this.cb3_147xyz=new i.Vector3(1,1,1),this.cb3_153yzw=new i.Vector3(1,1,1),this.cb3_154xyz=new i.Vector3(1,1,1),this.cb3_154w=0,this.cb3_178x=0,this.cb3_178y=1,this.cb3_174xyz=new i.Vector3(1,1,1),this.cb3_175xyz=new i.Vector3(0,0,0),this.cb3_176xyz=new i.Vector3(1,1,0),this.cb3_176w=0,this.cb3_177=new i.Vector4(0,0,0,4),this.cb3_179=new i.Vector4(0,1,0,0),this.cb3_180x=0,this.cb3_180y=0,this.cb3_180z=1,this.cb3_183xyz=new i.Vector3(.16652,-.00164,.98604),this.cb3_186y=0,this.cb3_186w=1,this.cb3_188z=1,this.cb3_189x=1,this.cb3_189y=0,this.cb3_194w=1,this.uv_scale_offset=new i.Vector4(1,1,0,0),this.defines={},this.setValues(e)}return e.prototype.setValues=function(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}},e}(),go=function(e){function t(t,n,r){var o;return(o=e.call(this,t,n)||this).type="CustomMesh",r instanceof yo?(o.customNormalMaterial=new lo(r),o.customNormalMaterial.needsUpdate=!0,o.customDepthMaterial=new so(r),o.customDepthMaterial.needsUpdate=!0,o.customRenderMaterial=new mo(r),o.customRenderMaterial.needsUpdate=!0,o.customRenderOutlineMaterial=new ho(r),o.customRenderOutlineMaterial.side=i.BackSide,o.customRenderOutlineMaterial.needsUpdate=!0,o):(console.log("Didn't support CustomParameter"),function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o))}return(0,no.A)(t,e),t}(i.Mesh);var wo=go;function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(null,arguments)}var Ao=n(5931);function Eo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)}))}}function So(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(Eo.apply(void 0,t),t)}function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}var No=["children"],Bo=["children"];function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Co(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Co(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Io(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Do=(0,r.forwardRef)((function(e,t){var n=e.children,o=Io(e,No),i=r.Children.toArray(n),a=i.find(zo);if(a){var l=a.props.children,u=i.map((function(e){return e===a?r.Children.count(l)>1?r.Children.only(null):(0,r.isValidElement)(l)?l.props.children:null:e}));return(0,r.createElement)(To,xo({},o,{ref:t}),(0,r.isValidElement)(l)?(0,r.cloneElement)(l,void 0,u):null)}return(0,r.createElement)(To,xo({},o,{ref:t}),n)}));Do.displayName="Slot";var To=(0,r.forwardRef)((function(e,t){var n=e.children,o=Io(e,Bo);return(0,r.isValidElement)(n)?(0,r.cloneElement)(n,Mo(Mo({},function(e,t){var n=Mo({},t),r=function(){var r=e[o],i=t[o];/^on[A-Z]/.test(o)?r&&i?n[o]=function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:r&&(n[o]=r):"style"===o?n[o]=Mo(Mo({},r),i):"className"===o&&(n[o]=[r,i].filter(Boolean).join(" "))};for(var o in t)r();return Mo(Mo({},e),n)}(o,n.props)),{},{ref:Eo(t,n.ref)})):r.Children.count(n)>1?r.Children.only(null):null}));To.displayName="SlotClone";var Po=function(e){var t=e.children;return(0,r.createElement)(r.Fragment,null,t)};function zo(e){return(0,r.isValidElement)(e)&&e.type===Po}function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}var Ro=["asChild"];function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ko(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ko(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ho=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=(0,r.forwardRef)((function(e,n){var o=e.asChild,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ro),a=o?Do:t;return(0,r.useEffect)((function(){window[Symbol.for("radix-ui")]=!0}),[]),(0,r.createElement)(a,xo({},i,{ref:n}))}));return n.displayName="Primitive.".concat(t),Uo(Uo({},e),{},Lo({},t,n))}),{});var Go=["container"];var Ko=(0,r.forwardRef)((function(e,t){var n,o=e.container,i=void 0===o?null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body:o,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Go);return i?Ao.createPortal((0,r.createElement)(Ho.div,xo({},a,{ref:t})),i):null})),Wo=Ko,Vo=Object.prototype.hasOwnProperty;function Jo(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Jo(e[r],t[r]););return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(Vo.call(e,n)&&++r&&!Vo.call(t,n))return!1;if(!(n in t)||!Jo(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function Qo(e,t){if(Object.is(e,t))return!0;if("object"!==$o(e)||null===e||"object"!==$o(t)||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}var Yo=function(e,t,n,r){this.name=e,this.fn=t,this.args=n,this.modifiers=r};function Zo(e,t){return void 0===t&&(t="simple"),"object"===Xo(e)?e[t]:e}function qo(e,t,n){if(e.length){var r=e.shift(),o=qo(e,t,n);return r.perform(o,n)}return Zo(t)}function ei(e,t,n){if(e.length){var r=e.shift(),o=ei(e,t,n);return r.performAsync(o,n)}return function(e){return Promise.resolve(Zo(t,"async")(e))}}Yo.prototype._test=function(e){var t=this.fn;try{qo(this.modifiers.slice(),t,this)(e)}catch(n){t=function(){return!1}}try{return qo(this.modifiers.slice(),t,this)(e)}catch(r){return!1}},Yo.prototype._check=function(e){try{qo(this.modifiers.slice(),this.fn,this)(e)}catch(t){if(qo(this.modifiers.slice(),(function(e){return e}),this)(!1))return}if(!qo(this.modifiers.slice(),this.fn,this)(e))throw null},Yo.prototype._testAsync=function(e){var t=this;return new Promise((function(n,r){ei(t.modifiers.slice(),t.fn,t)(e).then((function(t){t?n(e):r(null)})).catch((function(e){return r(e)}))}))};var ti=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},ni=function(e){function t(n,r,o,i){for(var a=[],l=arguments.length-4;l-- >0;)a[l]=arguments[l+4];e.call(this,a),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=n,this.value=r,this.cause=o,this.target=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ri=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.chain=e,this.nextRuleModifiers=t};function oi(e,t,n,r){if(t.length){var o=t.shift();o._testAsync(e).then((function(){oi(e,t,n,r)}),(function(t){r(new ni(o,e,t))}))}else n(e)}ri.prototype._applyRule=function(e,t){var n=this;return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return n.chain.push(new Yo(t,e.apply(n,r),r,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}},ri.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new ti(t,e.simple,e.async)),this},ri.prototype._clone=function(){return new ri(this.chain.slice(),this.nextRuleModifiers.slice())},ri.prototype.test=function(e){return this.chain.every((function(t){return t._test(e)}))},ri.prototype.testAll=function(e){var t=[];return this.chain.forEach((function(n){try{n._check(e)}catch(r){t.push(new ni(n,e,r))}})),t},ri.prototype.check=function(e){this.chain.forEach((function(t){try{t._check(e)}catch(n){throw new ni(t,e,n)}}))},ri.prototype.testAsync=function(e){var t=this;return new Promise((function(n,r){oi(e,t.chain.slice(),n,r)}))};var ii=function(e,t){return!(!t||"string"!=typeof e||0!==e.trim().length)||null==e};function ai(){return"undefined"!=typeof Proxy?ui(new ri):ci(new ri)}var li={};function ui(e){return new Proxy(e,{get:function(t,n){if(n in t)return t[n];var r=ui(e._clone());return n in si?r._applyModifier(si[n],n):n in li?r._applyRule(li[n],n):n in vi?r._applyRule(vi[n],n):void 0}})}function ci(e){var t=function(e,t){return Object.keys(e).forEach((function(n){t[n]=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return ci(t._clone())._applyRule(e[n],n).apply(void 0,r)}})),t},n=t(vi,e),r=t(li,n);return Object.keys(si).forEach((function(e){Object.defineProperty(r,e,{get:function(){return ci(r._clone())._applyModifier(si[e],e)}})})),r}ai.extend=function(e){Object.assign(li,e)},ai.clearCustomRules=function(){li={}};var si={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then((function(e){return!e})).catch((function(){return!0}))}}},some:{simple:function(e){return function(t){return di(t).some((function(t){try{return e(t)}catch(n){return!1}}))}},async:function(e){return function(t){return Promise.all(di(t).map((function(t){try{return e(t).catch((function(){return!1}))}catch(n){return!1}}))).then((function(e){return e.some(Boolean)}))}}},every:{simple:function(e){return function(t){return!1!==t&&di(t).every(e)}},async:function(e){return function(t){return Promise.all(di(t).map(e)).then((function(e){return e.every(Boolean)}))}}},strict:{simple:function(e,t){return function(n){return fi(t)&&n&&"object"===Xo(n)?Object.keys(t.args[0]).length===Object.keys(n).length&&e(n):e(n)}},async:function(e,t){return function(n){return Promise.resolve(e(n)).then((function(e){return fi(t)&&n&&"object"===Xo(n)?Object.keys(t.args[0]).length===Object.keys(n).length&&e:e})).catch((function(){return!1}))}}}};function fi(e){return e&&"schema"===e.name&&e.args.length>0&&"object"===Xo(e.args[0])}function di(e){return"string"==typeof e?e.split(""):e}var vi={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return void 0===e&&(e=!0),function(t){return"number"==typeof t&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||_i)(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return mi("string")},boolean:function(){return mi("boolean")},undefined:function(){return mi("undefined")},null:function(){return mi("null")},array:function(){return mi("array")},object:function(){return mi("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return"boolean"==typeof e||e===e.toLowerCase()&&""!==e.trim()}},uppercase:function(){return function(e){return e===e.toUpperCase()&&""!==e.trim()}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return 0===e.length}},length:function(e,t){return function(n){return n.length>=e&&n.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(n){return n>=e&&n<=t}},range:function(e,t){return function(n){return n>=e&&n<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2==0}},odd:function(){return function(e){return e%2!=0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return function(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach((function(r){var o=e[r];try{o.check((t||{})[r])}catch(i){i.target=r,n.push(i)}})),n.length>0)throw n;return!0},async:function(t){var n=[],r=Object.keys(e).map((function(r){return e[r].testAsync((t||{})[r]).catch((function(e){e.target=r,n.push(e)}))}));return Promise.all(r).then((function(){if(n.length>0)throw n;return!0}))}}}(e)},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some((function(e){return e.test(t)}))}},optional:function(e,t){return void 0===t&&(t=!1),{simple:function(n){return ii(n,t)||void 0===e.check(n)},async:function(n){return ii(n,t)||e.testAsync(n)}}}};function mi(e){return function(t){return Array.isArray(t)&&"array"===e||null===t&&"null"===e||Xo(t)===e}}function _i(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var pi=ai,hi="colors",bi="sizes",yi="space",gi={gap:yi,gridGap:yi,columnGap:yi,gridColumnGap:yi,rowGap:yi,gridRowGap:yi,inset:yi,insetBlock:yi,insetBlockEnd:yi,insetBlockStart:yi,insetInline:yi,insetInlineEnd:yi,insetInlineStart:yi,margin:yi,marginTop:yi,marginRight:yi,marginBottom:yi,marginLeft:yi,marginBlock:yi,marginBlockEnd:yi,marginBlockStart:yi,marginInline:yi,marginInlineEnd:yi,marginInlineStart:yi,padding:yi,paddingTop:yi,paddingRight:yi,paddingBottom:yi,paddingLeft:yi,paddingBlock:yi,paddingBlockEnd:yi,paddingBlockStart:yi,paddingInline:yi,paddingInlineEnd:yi,paddingInlineStart:yi,top:yi,right:yi,bottom:yi,left:yi,scrollMargin:yi,scrollMarginTop:yi,scrollMarginRight:yi,scrollMarginBottom:yi,scrollMarginLeft:yi,scrollMarginX:yi,scrollMarginY:yi,scrollMarginBlock:yi,scrollMarginBlockEnd:yi,scrollMarginBlockStart:yi,scrollMarginInline:yi,scrollMarginInlineEnd:yi,scrollMarginInlineStart:yi,scrollPadding:yi,scrollPaddingTop:yi,scrollPaddingRight:yi,scrollPaddingBottom:yi,scrollPaddingLeft:yi,scrollPaddingX:yi,scrollPaddingY:yi,scrollPaddingBlock:yi,scrollPaddingBlockEnd:yi,scrollPaddingBlockStart:yi,scrollPaddingInline:yi,scrollPaddingInlineEnd:yi,scrollPaddingInlineStart:yi,fontSize:"fontSizes",background:hi,backgroundColor:hi,backgroundImage:hi,borderImage:hi,border:hi,borderBlock:hi,borderBlockEnd:hi,borderBlockStart:hi,borderBottom:hi,borderBottomColor:hi,borderColor:hi,borderInline:hi,borderInlineEnd:hi,borderInlineStart:hi,borderLeft:hi,borderLeftColor:hi,borderRight:hi,borderRightColor:hi,borderTop:hi,borderTopColor:hi,caretColor:hi,color:hi,columnRuleColor:hi,fill:hi,outline:hi,outlineColor:hi,stroke:hi,textDecorationColor:hi,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:bi,minBlockSize:bi,maxBlockSize:bi,inlineSize:bi,minInlineSize:bi,maxInlineSize:bi,width:bi,minWidth:bi,maxWidth:bi,height:bi,minHeight:bi,maxHeight:bi,flexBasis:bi,gridTemplateColumns:bi,gridTemplateRows:bi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},wi=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,xi=()=>{const e=Object.create(null);return(t,n,...r)=>{const o=(e=>JSON.stringify(e,wi))(t);return o in e?e[o]:e[o]=n(t,...r)}},Ai=Symbol.for("sxs.internal"),Ei=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),Si=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:Ci}=Object.prototype,Ni=e=>e.includes("-")?e:e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Bi=/\s+(?![^()]*\))/,Oi=e=>t=>e(..."string"==typeof t?String(t).split(Bi):[t]),Mi={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Oi(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:Oi(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:Oi(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:Oi(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:Oi(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:Oi(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},Fi=/([\d.]+)([^]*)/,Ii=(e,t)=>e.length?e.reduce(((e,n)=>(e.push(...t.map((e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e))),e)),[]):t,Di=(e,t)=>e in Ti&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,n,r,o)=>n+("stretch"===r?`-moz-available${o};${Ni(e)}:${n}-webkit-fill-available`:`-moz-fit-content${o};${Ni(e)}:${n}fit-content`)+o)):String(t),Ti={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Pi=e=>e?e+"-":"",zi=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((e,r,o,i,a)=>"$"==i==!!o?e:(r||"--"==i?"calc(":"")+"var(--"+("$"===i?Pi(t)+(a.includes("$")?"":Pi(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==i?"*"+(r||"")+(o||"1")+")":""))),ki=/\s*,\s*(?![^()]*\))/,Ri=Object.prototype.toString,ji=(e,t,n,r,o)=>{let i,a,l;const u=(e,t,n)=>{let c,s;const f=e=>{for(c in e){const m=64===c.charCodeAt(0),_=m&&Array.isArray(e[c])?e[c]:[e[c]];for(s of _){const e=/[A-Z]/.test(v=c)?v:v.replace(/-[^]/g,(e=>e[1].toUpperCase())),_="object"==typeof s&&s&&s.toString===Ri&&(!r.utils[e]||!t.length);if(e in r.utils&&!_){const t=r.utils[e];if(t!==a){a=t,f(t(s)),a=null;continue}}else if(e in Mi){const t=Mi[e];if(t!==l){l=t,f(t(s)),l=null;continue}}if(m&&(d=c.slice(1)in r.media?"@media "+r.media[c.slice(1)]:c,c=d.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((e,t,n,r,o,i)=>{const a=Fi.test(t),l=.0625*(a?-1:1),[u,c]=a?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+u+":"+("="!==n[0]&&1===n.length?c.replace(Fi,((e,t,r)=>Number(t)+l*(">"===n?1:-1)+r)):c)+(o?") and ("+(">"===o[0]?"min-":"max-")+u+":"+(1===o.length?i.replace(Fi,((e,t,n)=>Number(t)+l*(">"===o?-1:1)+n)):i):"")+")"}))),_){const e=m?n.concat(c):[...n],r=m?[...t]:Ii(t,c.split(ki));void 0!==i&&o(Ui(...i)),i=void 0,u(s,r,e)}else void 0===i&&(i=[[],t,n]),c=m||36!==c.charCodeAt(0)?c:`--${Pi(r.prefix)}${c.slice(1).replace(/\$/g,"-")}`,s=_?s:"number"==typeof s?s&&e in Li?String(s)+"px":String(s):zi(Di(e,null==s?"":s),r.prefix,r.themeMap[e]),i[0].push(`${m?`${c} `:`${Ni(c)}:`}${s}`)}}var d,v};f(e),void 0!==i&&o(Ui(...i)),i=void 0};u(e,t,n)},Ui=(e,t,n)=>`${n.map((e=>`${e}{`)).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,Li={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Hi=e=>String.fromCharCode(e+(e>25?39:97)),Gi=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Hi(t%52)+n;return Hi(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),Ki=["themed","global","styled","onevar","resonevar","allvar","inline"],Wi=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},Vi=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,((n,r)=>{const{cssText:o}=n;let i="";if(o.startsWith("--sxs"))return"";if(e[r-1]&&(i=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${o}`;return n.cssRules.length?`${i}${o}`:""}return o})).join("")},r=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const o=Object(e).styleSheets||[];for(const e of o)if(Wi(e)){for(let o=0,i=e.cssRules;i[o];++o){const a=Object(i[o]);if(1!==a.type)continue;const l=Object(i[o+1]);if(4!==l.type)continue;++o;const{cssText:u}=a;if(!u.startsWith("--sxs"))continue;const c=u.slice(14,-3).trim().split(/\s+/),s=Ki[c[0]];s&&(t||(t={sheet:e,reset:r,rules:{},toString:n}),t.rules[s]={group:l,index:o,cache:new Set(c)})}if(t)break}if(!t){const o=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,o(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:r,toString:n}}const{sheet:i,rules:a}=t;for(let e=Ki.length-1;e>=0;--e){const t=Ki[e];if(!a[t]){const n=Ki[e+1],r=a[n]?a[n].index:i.cssRules.length;i.insertRule("@media{}",r),i.insertRule(`--sxs{--sxs:${e}}`,r),a[t]={group:i.cssRules[r+1],index:r,cache:new Set([e])}}Ji(a[t])}};return r(),t},Ji=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},$i=Symbol(),Qi=xi(),Xi=(e,t)=>Qi(e,(()=>(...n)=>{let r={type:null,composers:new Set};for(const t of n)if(null!=t)if(t[Ai]){null==r.type&&(r.type=t[Ai].type);for(const e of t[Ai].composers)r.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==r.type&&(r.type=t):r.composers.add(Yi(t,e));return null==r.type&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Zi(e,r,t)})),Yi=({variants:e,compoundVariants:t,defaultVariants:n,...r},o)=>{const i=`${Pi(o.prefix)}c-${Gi(r)}`,a=[],l=[],u=Object.create(null),c=[];for(const d in n)u[d]=String(n[d]);if("object"==typeof e&&e)for(const d in e){s=u,f=d,Ci.call(s,f)||(u[d]="undefined");const t=e[d];for(const e in t){const n={[d]:String(e)};"undefined"===String(e)&&c.push(d);const r=t[e],o=[n,r,!Si(r)];a.push(o)}}var s,f;if("object"==typeof t&&t)for(const d of t){let{css:e,...t}=d;e="object"==typeof e&&e||{};for(const r in t)t[r]=String(t[r]);const n=[t,e,!Si(e)];l.push(n)}return[i,r,a,l,u,c]},Zi=(e,t,n)=>{const[r,o,i,a]=qi(t.composers),l="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[$i].length;n++){const[r,o]=t[$i][n];e.rules[r].apply(o)}return t[$i]=[],null}return t[$i]=[],t.rules={},Ki.forEach((e=>t.rules[e]={apply:n=>t[$i].push([e,n])})),t})(n):null,u=(l||n).rules,c=`.${r}${o.length>1?`:where(.${o.slice(1).join(".")})`:""}`,s=s=>{s="object"==typeof s&&s||ta;const{css:f,...d}=s,v={};for(const e in i)if(delete d[e],e in s){let t=s[e];"object"==typeof t&&t?v[e]={"@initial":i[e],...t}:(t=String(t),v[e]="undefined"!==t||a.has(e)?t:i[e])}else v[e]=i[e];const m=new Set([...o]);for(const[r,o,i,a]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),ji(o,[`.${r}`],[],e,(e=>{u.styled.apply(e)})));const t=ea(i,v,e.media),l=ea(a,v,e.media,!0);for(const o of t)if(void 0!==o)for(const[t,i,a]of o){const o=`${r}-${Gi(i)}-${t}`;m.add(o);const l=(a?n.rules.resonevar:n.rules.onevar).cache,c=a?u.resonevar:u.onevar;l.has(o)||(l.add(o),ji(i,[`.${o}`],[],e,(e=>{c.apply(e)})))}for(const o of l)if(void 0!==o)for(const[t,i]of o){const o=`${r}-${Gi(i)}-${t}`;m.add(o),n.rules.allvar.cache.has(o)||(n.rules.allvar.cache.add(o),ji(i,[`.${o}`],[],e,(e=>{u.allvar.apply(e)})))}}if("object"==typeof f&&f){const t=`${r}-i${Gi(f)}-css`;m.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),ji(f,[`.${t}`],[],e,(e=>{u.inline.apply(e)})))}for(const e of String(s.className||"").trim().split(/\s+/))e&&m.add(e);const _=d.className=[...m].join(" ");return{type:t.type,className:_,selector:c,props:d,toString:()=>_,deferredInjector:l}};return Ei(s,{className:r,selector:c,[Ai]:t,toString:()=>(n.rules.styled.cache.has(r)||s(),r)})},qi=e=>{let t="";const n=[],r={},o=[];for(const[i,,,,a,l]of e){""===t&&(t=i),n.push(i),o.push(...l);for(const e in a){const t=a[e];(void 0===r[e]||"undefined"!==t||l.includes(t))&&(r[e]=t)}}return[t,n,r,new Set(o)]},ea=(e,t,n,r)=>{const o=[];e:for(let[i,a,l]of e){if(l)continue;let e,u=0,c=!1;for(e in i){const r=i[e];let o=t[e];if(o!==r){if("object"!=typeof o||!o)continue e;{let e,t,i=0;for(const a in o){if(r===String(o[a])){if("@initial"!==a){const e=a.slice(1);(t=t||[]).push(e in n?n[e]:a.replace(/^@media ?/,"")),c=!0}u+=i,e=!0}++i}if(t&&t.length&&(a={["@media "+t.join(", ")]:a}),!e)continue e}}}(o[u]=o[u]||[]).push([r?"cv":`${e}-${i[e]}`,a,c])}return o},ta={},na=xi(),ra=(e,t)=>na(e,(()=>(...n)=>{const r=()=>{for(let r of n){r="object"==typeof r&&r||{};let n=Gi(r);if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),"@import"in r){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(r["@import"]))n=n.includes('"')||n.includes("'")?n:`"${n}"`,t.sheet.insertRule(`@import ${n};`,e++);delete r["@import"]}ji(r,[],[],e,(e=>{t.rules.global.apply(e)}))}}return""};return Ei(r,{toString:r})})),oa=xi(),ia=(e,t)=>oa(e,(()=>n=>{const r=`${Pi(e.prefix)}k-${Gi(n)}`,o=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const o=[];ji(n,[],[],e,(e=>o.push(e)));const i=`@keyframes ${r}{${o.join("")}}`;t.rules.global.apply(i)}return r};return Ei(o,{get name(){return o()},toString:o})})),aa=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Pi(this.prefix)+Pi(this.scale)+this.token}toString(){return this.computedValue}},la=xi(),ua=(e,t)=>la(e,(()=>(n,r)=>{r="object"==typeof n&&n||Object(r);const o=`.${n=(n="string"==typeof n?n:"")||`${Pi(e.prefix)}t-${Gi(r)}`}`,i={},a=[];for(const t in r){i[t]={};for(const n in r[t]){const o=`--${Pi(e.prefix)}${t}-${n}`,l=zi(String(r[t][n]),e.prefix,t);i[t][n]=new aa(n,l,t,e.prefix),a.push(`${o}:${l}`)}}const l=()=>{if(a.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const o=`${r===e.theme?":root,":""}.${n}{${a.join(";")}}`;t.rules.themed.apply(o)}return n};return{...i,get className(){return l()},selector:o,toString:l}})),ca=xi(),sa=xi(),fa=e=>{const t=(e=>{let t=!1;const n=ca(e,(e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},o="object"==typeof e.root?e.root||null:globalThis.document||null,i="object"==typeof e.theme&&e.theme||{},a={prefix:n,media:r,theme:i,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...gi},utils:"object"==typeof e.utils&&e.utils||{}},l=Vi(o),u={css:Xi(a,l),globalCss:ra(a,l),keyframes:ia(a,l),createTheme:ua(a,l),reset(){l.reset(),u.theme.toString()},theme:{},sheet:l,config:a,prefix:n,getCssText:l.toString,toString:l.toString};return String(u.theme=u.createTheme(i)),u}));return t||n.reset(),n})(e);return t.styled=(({config:e,sheet:t})=>sa(e,(()=>{const n=Xi(e,t);return(...e)=>{const t=n(...e),o=t[Ai].type,i=r.forwardRef(((e,n)=>{const i=e&&e.as||o,{props:a,deferredInjector:l}=t(e);return delete a.as,a.ref=n,l?r.createElement(r.Fragment,null,r.createElement(i,a),r.createElement(l,null)):r.createElement(i,a)}));return i.className=t.className,i.displayName=`Styled.${o.displayName||o.name||o}`,i.selector=t.selector,i.toString=()=>t.selector,i[Ai]=t[Ai],i}})))(t),t};function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return va(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ma=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},_a=function(e,t){return[e[0]+t[0],e[1]+t[1]]},pa=function(e,t){return[e[0]-t[0],e[1]-t[1]]},ha=function(e,t){e[0]+=t[0],e[1]+=t[1]};function ba(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function ya(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-ba(t-e,n-t,r)+t:e>n?+ba(e-n,n-t,r)+n:e}function ga(e,t,n){return t=Ea(t),function(e,t){if(t&&("object"==Ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wa()?Reflect.construct(t,n||[],Ea(e).constructor):t.apply(e,n))}function wa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wa=function(){return!!e})()}function xa(e,t,n,r){var o=Aa(Ea(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Aa(){return Aa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ea(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Aa.apply(null,arguments)}function Ea(e){return Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ea(e)}function Sa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}function Ca(e,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ca(e,t)}function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ma(r.key),r)}}function Oa(e,t,n){return t&&Ba(e.prototype,t),n&&Ba(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ma(e){var t=function(e,t){if("object"!=Ta(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ta(t)?t:t+""}function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Ia(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){if(e){if("string"==typeof e)return Da(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Da(e,t):void 0}}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Pa(e){var t=function(e,t){if("object"!==Ta(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ta(t)?t:String(t)}function za(e,t,n){return(t=Pa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ja={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Ua(e){return e?e[0].toUpperCase()+e.slice(1):""}var La=["enter","leave"];function Ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ja[e],o=r&&r[t]||t;return"on"+Ua(e)+Ua(o)+(function(){var e=arguments.length>1?arguments[1]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!La.includes(e)}(n,o)?"Capture":"")}var Ga=["gotpointercapture","lostpointercapture"];function Ka(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=Ga.includes(t)?"capturecapture":"capture",o=!!~t.indexOf(r);return o&&(t=t.replace("capture","")),{device:t,capture:o,passive:n}}function Wa(e){return"touches"in e}function Va(e){return Wa(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Ja(e){return Wa(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function $a(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function Qa(e){var t=Ja(e);return Wa(e)?t.identifier:t.pointerId}function Xa(e){var t=Ja(e);return[t.clientX,t.clientY]}function Ya(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function Za(){}function qa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Za:1===t.length?t[0]:function(){for(var e,n=0,r=t;n<r.length;n++){e=r[n].apply(this,arguments)||e}return e}}function el(e,t){return Object.assign({},t,e||{})}var tl=function(){return Oa((function e(t,n,r){Na(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}),[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?Ya(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var o=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,o=e.metaKey,i=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i})}return t}(e)),r.down=r.pressed=r.buttons%2==1||r.touches>0,o=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var i=t._delta.map(Math.abs);ha(t._distance,i)}this.axisIntent&&this.axisIntent(e);var a=Fa(t._movement,2),l=a[0],u=a[1],c=Fa(n.threshold,2),s=c[0],f=c[1],d=t._step,v=t.values;if(n.hasCustomTransform?(!1===d[0]&&(d[0]=Math.abs(l)>=s&&v[0]),!1===d[1]&&(d[1]=Math.abs(u)>=f&&v[1])):(!1===d[0]&&(d[0]=Math.abs(l)>=s&&Math.sign(l)*s),!1===d[1]&&(d[1]=Math.abs(u)>=f&&Math.sign(u)*f)),t.intentional=!1!==d[0]||!1!==d[1],t.intentional){var m=[0,0];if(n.hasCustomTransform){var _=Fa(v,2),p=_[0],h=_[1];m[0]=!1!==d[0]?p-d[0]:0,m[1]=!1!==d[1]?h-d[1]:0}else m[0]=!1!==d[0]?l-d[0]:0,m[1]=!1!==d[1]?u-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(m);var b=t.offset,y=t._active&&!t._blocked||t.active;y&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=Ya(n.bounds,t)),this.setup&&this.setup()),t.movement=m,this.computeOffset()));var g=Fa(t.offset,2),w=g[0],x=g[1],A=Fa(t._bounds,2),E=Fa(A[0],2),S=E[0],C=E[1],N=Fa(A[1],2),B=N[0],O=N[1];t.overflow=[w<S?-1:w>C?1:0,x<B?-1:x>O?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var M,F,I,D,T,P,z,k,R,j,U,L,H,G,K,W,V=t._active&&n.rubberband||[0,0];if(t.offset=(M=t._bounds,F=t.offset,I=V,D=da(F,2),T=D[0],P=D[1],z=da(I,2),k=z[0],R=z[1],j=da(M,2),U=da(j[0],2),L=U[0],H=U[1],G=da(j[1],2),K=G[0],W=G[1],[ya(T,L,H,k),ya(P,K,W,R)]),t.delta=pa(t.offset,b),this.computeMovement(),y&&(!t.last||o>32)){t.delta=pa(t.offset,b);var J=t.delta.map(Math.abs);ha(t.distance,J),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&o>0&&(t.velocity=[J[0]/o,J[1]/o],t.timeDelta=o)}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(Ra(Ra(Ra({},t),e),{},function(e,t,n){return(t=Ma(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}])}();var nl=function(e){function t(){var e;Na(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return za(e=ga(this,t,[].concat(r)),"aliasKey","xy"),e}return Sa(t,e),Oa(t,[{key:"reset",value:function(){xa(t,"reset",this,3)([]),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=_a(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=pa(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===Ta(n.axisThreshold)?n.axisThreshold[Va(e)]:n.axisThreshold;t.axis=function(e,t){var n=Fa(e,2),r=n[0],o=n[1],i=Math.abs(r),a=Math.abs(o);return i>a&&i>t?"x":a>i&&a>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}])}(tl),rl=function(e){return e},ol={enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},eventOptions:function(e,t,n){return Ra(Ra({},n.shared.eventOptions),e)},preventDefault:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},triggerAllEvents:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return ma(e)}},from:function(e){return"function"==typeof e?e:null!=e?ma(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||rl},threshold:function(e){return ma(e,0)}};var il=Ra(Ra({},ol),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof e)return function(t){return il.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,o=void 0===r?1/0:r,i=e.top,a=void 0===i?-1/0:i,l=e.bottom;return[[n,o],[a,void 0===l?1/0:l]]}}),al={ArrowRight:function(e){return[e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowLeft:function(e){return[-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowUp:function(e){return[0,-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]},ArrowDown:function(e){return[0,e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]}},ll=function(e){function t(){var e;Na(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return za(e=ga(this,t,[].concat(r)),"ingKey","dragging"),e}return Sa(t,e),Oa(t,[{key:"reset",value:function(){xa(t,"reset",this,3)([]);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=il.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,xa(t,"clean",this,3)([])}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=Qa(e),n._pointerActive=!0,this.computeValues(Xa(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==Va(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive){var r=Qa(e);if(void 0===t._pointerId||r===t._pointerId){var o=Xa(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=pa(o,t._values),this.computeValues(o)),ha(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(x){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=Qa(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var o=Fa(t._distance,2),i=o[0],a=o[1];if(t.tap=i<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var l=Fa(t._delta,2),u=l[0],c=l[1],s=Fa(t._movement,2),f=s[0],d=s[1],v=Fa(n.swipe.velocity,2),m=v[0],_=v[1],p=Fa(n.swipe.distance,2),h=p[0],b=p[1],y=n.swipe.duration;if(t.elapsedTime<y){var g=Math.abs(u/t.timeDelta),w=Math.abs(c/t.timeDelta);g>m&&Math.abs(f)>h&&(t.swipe[0]=Math.sign(u)),w>_&&Math.abs(d)>b&&(t.swipe[1]=Math.sign(c))}}this.emit()}}}},{key:"pointerClick",value:function(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=al[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,ha(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in al&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}])}(nl);var ul="undefined"!=typeof window&&window.document&&window.document.createElement;function cl(){return ul&&"ontouchstart"in window}var sl={isBrowser:ul,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:cl(),touchscreen:cl()||ul&&window.navigator.maxTouchPoints>1,pointer:ul&&"onpointerdown"in window,pointerLock:ul&&"exitPointerLock"in window.document},fl={mouse:0,touch:0,pen:8},dl=Ra(Ra({},il),{},{device:function(e,t,n){var r=n.pointer,o=void 0===r?{}:r,i=o.touch,a=void 0!==i&&i,l=o.lock,u=void 0!==l&&l,c=o.mouse,s=void 0!==c&&c;return this.pointerLock=u&&sl.pointerLock,sl.touch&&a?"touch":this.pointerLock?"mouse":sl.pointer&&!s?"pointer":sl.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&e?250:void 0,sl.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,o=void 0===r?{}:r,i=o.capture,a=void 0===i||i,l=o.buttons,u=void 0===l?1:l,c=o.keys,s=void 0===c||c;return this.pointerButtons=u,this.keys=s,!this.pointerLock&&"pointer"===this.device&&a},threshold:function(e,t,n){var r=n.filterTaps,o=void 0!==r&&r,i=n.tapsThreshold,a=void 0===i?3:i,l=n.axis,u=ma(e,o?a:(void 0===l?void 0:l)?1:0);return this.filterTaps=o,this.tapsThreshold=a,u},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,o=void 0===r?50:r,i=e.duration,a=void 0===i?250:i;return{velocity:this.transform(ma(n)),distance:this.transform(ma(o)),duration:a}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?Ra(Ra({},fl),e):fl},keyboardDisplacement:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:10}});Ra(Ra({},ol),{},{device:function(e,t,n){var r=n.shared,o=n.pointer,i=(void 0===o?{}:o).touch,a=void 0!==i&&i;if(r.target&&!sl.touch&&sl.gesture)return"gesture";if(sl.touch&&a)return"touch";if(sl.touchscreen){if(sl.pointer)return"pointer";if(sl.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,o=void 0===r?{}:r,i=n.angleBounds,a=void 0===i?{}:i,l=function(e){var t=el(Ya(o,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=el(Ya(a,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof o&&"function"!=typeof a?[l(),u()]:function(e){return[l(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=ma(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e},pinchOnWheel:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),Ra(Ra({},il),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),Ra(Ra({},il),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});var vl=new Map,ml=new Map;var _l={key:"drag",engine:ll,resolver:dl};function pl(e){return function(e){if(Array.isArray(e))return Sl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||El(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=El(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wl(r.key),r)}}function gl(e,t,n){return t&&yl(e.prototype,t),n&&yl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wl(e){var t=function(e,t){if("object"!=xl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xl(t)?t:t+""}function xl(e){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(e)}function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||El(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){if(e){if("string"==typeof e)return Sl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sl(e,t):void 0}}function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Nl={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl.isBrowser?window:void 0})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture;return{passive:n,capture:void 0!==r&&r}},transform:function(e){return e}},Bl=["target","eventOptions","window","enabled","transform"];function Ol(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,o=Object.entries(t);r<o.length;r++){var i=Al(o[r],2),a=i[0],l=i[1];switch(xl(l)){case"function":n[a]=l.call(n,e[a],a,e);break;case"object":n[a]=Ol(e[a],l);break;case"boolean":l&&(n[a]=e[a])}}return n}var Ml=function(){return gl((function e(t,n){bl(this,e),za(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}),[{key:"add",value:function(e,t,n,r,o){var i=this._listeners,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ja[e];return e+(n&&n[t]||t)}(t,n),l=Ra(Ra({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),o);e.addEventListener(a,r,l);var u=function(){e.removeEventListener(a,r,l),i.delete(u)};return i.add(u),u}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}])}(),Fl=function(){return gl((function e(){bl(this,e),za(this,"_timeouts",new Map)}),[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(i)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}])}(),Il=function(){return gl((function e(t){bl(this,e),za(this,"gestures",new Set),za(this,"_targetEventStore",new Ml(this)),za(this,"gestureEventStores",{}),za(this,"gestureTimeoutStores",{}),za(this,"handlers",{}),za(this,"config",{}),za(this,"pointerIds",new Set),za(this,"touchIds",new Set),za(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&Dl(e,"drag");t.wheel&&Dl(e,"wheel");t.scroll&&Dl(e,"scroll");t.move&&Dl(e,"move");t.pinch&&Dl(e,"pinch");t.hover&&Dl(e,"hover")}(this,t)}),[{key:"setEventIds",value:function(e){return Wa(e)?(this.touchIds=new Set($a(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,o=r.target,i=r.eventOptions,a=r.window,l=r.enabled,u=r.transform,c=Cl(r,Bl);if(n.shared=Ol({target:o,eventOptions:i,window:a,enabled:l,transform:u},Nl),t){var s=ml.get(t);n[t]=Ol(Ra({shared:n.shared},c),s)}else for(var f in c){var d=ml.get(f);d&&(n[f]=Ol(Ra({shared:n.shared},c[f]),d))}return n}(e,t,this.config)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=hl(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o,i=this.config.shared,a={};if(!i.target||(o=i.target())){if(i.enabled){var l,u=hl(this.gestures);try{for(u.s();!(l=u.n()).done;){var c=l.value,s=this.config[c],f=Tl(a,s.eventOptions,!!o);if(s.enabled)new(vl.get(c))(this,n,c).bind(f)}}catch(w){u.e(w)}finally{u.f()}var d=Tl(a,i.eventOptions,!!o),v=function(t){d(t,"",(function(r){return e.nativeHandlers[t](Ra(Ra({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var m in this.nativeHandlers)v(m)}for(var _ in a)a[_]=qa.apply(void 0,pl(a[_]));if(!o)return a;for(var p in a){var h=Ka(p),b=h.device,y=h.capture,g=h.passive;this._targetEventStore.add(o,b,"",a[p],{capture:y,passive:g})}}}}])}();function Dl(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ml(e,t),e.gestureTimeoutStores[t]=new Fl}var Tl=function(e,t,n){return function(r,o,i){var a,l,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=null!==(a=u.capture)&&void 0!==a?a:t.capture,f=null!==(l=u.passive)&&void 0!==l?l:t.passive,d=c?r:Ha(r,o,s);n&&f&&(d+="Passive"),e[d]=e[d]||[],e[d].push(i)}};function Pl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=r.useMemo((function(){return new Il(e)}),[]);if(i.applyHandlers(e,o),i.applyConfig(t,n),r.useEffect(i.effect.bind(i)),r.useEffect((function(){return i.clean.bind(i)}),[]),void 0===t.target)return i.bind.bind(i)}function zl(e,t){var n;return n=_l,vl.set(n.key,n.engine),ml.set(n.key,n.resolver),Pl({drag:e},t||{},"drag")}function kl(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}var jl=["scope","children"];function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){Hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Rl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e){return function(e){if(Array.isArray(e))return Kl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Wl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];var o=function(){var t=n.map((function(e){return(0,r.createContext)(e)}));return function(n){var o=(null==n?void 0:n[e])||t;return(0,r.useMemo)((function(){return Hl({},"__scope".concat(e),Ll(Ll({},n),{},Hl({},e,o)))}),[n,o])}};return o.scopeName=e,[function(t,o){var i=(0,r.createContext)(o),a=n.length;function l(t){var n=t.scope,o=t.children,l=Wl(t,jl),u=(null==n?void 0:n[e][a])||i,c=(0,r.useMemo)((function(){return l}),Object.values(l));return(0,r.createElement)(u.Provider,{value:c},o)}return n=[].concat(Gl(n),[o]),l.displayName=t+"Provider",[l,function(n,l){var u=(null==l?void 0:l[e][a])||i,c=(0,r.useContext)(u);if(c)return c;if(void 0!==o)return o;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},Jl.apply(void 0,[o].concat(Gl(t)))]}function Jl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];if(1===t.length)return o;var i=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName,i=r(t)["__scope".concat(o)];return Ll(Ll({},e),i)}),{});return(0,r.useMemo)((function(){return Hl({},"__scope".concat(o.scopeName),n)}),[n])}};return i.scopeName=o.scopeName,i}function $l(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),(0,r.useMemo)((function(){return function(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(o))}}),[])}function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}var Xl=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ql(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ql(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ql(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eu(e){return function(e){if(Array.isArray(e))return ru(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||nu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nu(e,t){if(e){if("string"==typeof e)return ru(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(e,t):void 0}}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ou,iu="dismissableLayer.update",au="dismissableLayer.pointerDownOutside",lu="dismissableLayer.focusOutside",uu=(0,r.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cu=(0,r.forwardRef)((function(e,t){var n,o=e.disableOutsidePointerEvents,i=void 0!==o&&o,a=e.onEscapeKeyDown,l=e.onPointerDownOutside,u=e.onFocusOutside,c=e.onInteractOutside,s=e.onDismiss,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xl),d=(0,r.useContext)(uu),v=tu((0,r.useState)(null),2),m=v[0],_=v[1],p=null!==(n=null==m?void 0:m.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,h=tu((0,r.useState)({}),2)[1],b=So(t,(function(e){return _(e)})),y=Array.from(d.layers),g=tu(eu(d.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],w=y.indexOf(g),x=m?y.indexOf(m):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,E=x>=w,S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=$l(e),o=(0,r.useRef)(!1),i=(0,r.useRef)((function(){}));return(0,r.useEffect)((function(){var e=function(e){if(e.target&&!o.current){var r=function(){fu(au,n,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}o.current=!1},r=window.setTimeout((function(){t.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:function(){return o.current=!0}}}((function(e){var t=e.target,n=eu(d.branches).some((function(e){return e.contains(t)}));E&&!n&&(null==l||l(e),null==c||c(e),e.defaultPrevented||null==s||s())}),p),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=$l(e),o=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var e=function(e){e.target&&!o.current&&fu(lu,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),function(){return t.removeEventListener("focusin",e)}}),[t,n]),{onFocusCapture:function(){return o.current=!0},onBlurCapture:function(){return o.current=!1}}}((function(e){var t=e.target;eu(d.branches).some((function(e){return e.contains(t)}))||(null==u||u(e),null==c||c(e),e.defaultPrevented||null==s||s())}),p);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=$l(e);(0,r.useEffect)((function(){var e=function(e){"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e),function(){return t.removeEventListener("keydown",e)}}),[n,t])}((function(e){x===d.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))}),p),(0,r.useEffect)((function(){if(m)return i&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(ou=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),su(),function(){i&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=ou)}}),[m,p,i,d]),(0,r.useEffect)((function(){return function(){m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),su())}}),[m,d]),(0,r.useEffect)((function(){var e=function(){return h({})};return document.addEventListener(iu,e),function(){return document.removeEventListener(iu,e)}}),[]),(0,r.createElement)(Ho.div,xo({},f,{ref:b,style:Zl({pointerEvents:A?E?"auto":"none":void 0},e.style),onFocusCapture:kl(e.onFocusCapture,C.onFocusCapture),onBlurCapture:kl(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:kl(e.onPointerDownCapture,S.onPointerDownCapture)}))}));function su(){var e=new CustomEvent(iu);document.dispatchEvent(e)}function fu(e,t,n,r){var o=r.discrete,i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),o?function(e,t){e&&(0,Ao.flushSync)((function(){return e.dispatchEvent(t)}))}(i,a):i.dispatchEvent(a)}var du=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:function(){};function vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _u=o["useId".toString()]||function(){},pu=0;function hu(e){return e.split("-")[0]}function bu(e){return e.split("-")[1]}function yu(e){return["top","bottom"].includes(hu(e))?"x":"y"}function gu(e){return"y"===e?"height":"width"}function wu(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,l=yu(t),u=gu(l),c=r[u]/2-o[u]/2,s="x"===l;let f;switch(hu(t)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:a};break;case"left":f={x:r.x-o.width,y:a};break;default:f={x:r.x,y:r.y}}switch(bu(t)){case"start":f[l]-=c*(n&&s?-1:1);break;case"end":f[l]+=c*(n&&s?-1:1)}return f}function xu(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Au(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Eu(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:s="viewport",elementContext:f="floating",altBoundary:d=!1,padding:v=0}=t,m=xu(v),_=l[d?"floating"===f?"reference":"floating":f],p=Au(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(_)))||n?_:_.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:s,strategy:u})),h=Au(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...a.floating,x:r,y:o}:a.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),strategy:u}):a[f]);return{top:p.top-h.top+m.top,bottom:h.bottom-p.bottom+m.bottom,left:p.left-h.left+m.left,right:h.right-p.right+m.right}}const Su=Math.min,Cu=Math.max;function Nu(e,t,n){return Cu(e,Su(t,n))}const Bu=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=null!=e?e:{},{x:o,y:i,placement:a,rects:l,platform:u}=t;if(null==n)return{};const c=xu(r),s={x:o,y:i},f=yu(a),d=bu(a),v=gu(f),m=await u.getDimensions(n),_="y"===f?"top":"left",p="y"===f?"bottom":"right",h=l.reference[v]+l.reference[f]-s[f]-l.floating[v],b=s[f]-l.reference[f],y=await(null==u.getOffsetParent?void 0:u.getOffsetParent(n));let g=y?"y"===f?y.clientHeight||0:y.clientWidth||0:0;0===g&&(g=l.floating[v]);const w=h/2-b/2,x=c[_],A=g-m[v]-c[p],E=g/2-m[v]/2+w,S=Nu(x,E,A),C=("start"===d?c[_]:c[p])>0&&E!==S&&l.reference[v]<=l.floating[v];return{[f]:s[f]-(C?E<x?x-E:A-E:0),data:{[f]:S,centerOffset:E-S}}}}),Ou={left:"right",right:"left",bottom:"top",top:"bottom"};function Mu(e){return e.replace(/left|right|bottom|top/g,(e=>Ou[e]))}function Fu(e,t,n){void 0===n&&(n=!1);const r=bu(e),o=yu(e),i=gu(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Mu(a)),{main:a,cross:Mu(a)}}const Iu={start:"end",end:"start"};function Du(e){return e.replace(/start|end/g,(e=>Iu[e]))}const Tu=["top","right","bottom","left"],Pu=(Tu.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:s=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:v=!0,...m}=e,_=hu(r),p=f||(_!==a&&v?function(e){const t=Mu(e);return[Du(e),t,Du(t)]}(a):[Mu(a)]),h=[a,...p],b=await Eu(t,m),y=[];let g=(null==(n=o.flip)?void 0:n.overflows)||[];if(c&&y.push(b[_]),s){const{main:e,cross:t}=Fu(r,i,await(null==l.isRTL?void 0:l.isRTL(u.floating)));y.push(b[e],b[t])}if(g=[...g,{placement:r,overflows:y}],!y.every((e=>e<=0))){var w,x;const e=(null!=(w=null==(x=o.flip)?void 0:x.index)?w:0)+1,t=h[e];if(t)return{data:{index:e,overflows:g},reset:{placement:t}};let n="bottom";switch(d){case"bestFit":{var A;const e=null==(A=g.map((e=>[e,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0].placement;e&&(n=e);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}});function zu(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ku(e){return Tu.some((t=>e[t]>=0))}const Ru=function(e){let{strategy:t="referenceHidden",...n}=void 0===e?{}:e;return{name:"hide",async fn(e){const{rects:r}=e;switch(t){case"referenceHidden":{const t=zu(await Eu(e,{...n,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:ku(t)}}}case"escaped":{const t=zu(await Eu(e,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:t,escaped:ku(t)}}}default:return{}}}}},ju=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=hu(n),l=bu(n),u="x"===yu(n),c=["left","top"].includes(a)?-1:1,s=i&&u?-1:1,f="function"==typeof t?t(e):t;let{mainAxis:d,crossAxis:v,alignmentAxis:m}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&"number"==typeof m&&(v="end"===l?-1*m:m),u?{x:v*s,y:d*c}:{x:d*c,y:v*s}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function Uu(e){return"x"===e?"y":"x"}const Lu=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=e,c={x:n,y:r},s=await Eu(t,u),f=yu(hu(o)),d=Uu(f);let v=c[f],m=c[d];if(i){const e="y"===f?"bottom":"right";v=Nu(v+s["y"===f?"top":"left"],v,v-s[e])}if(a){const e="y"===d?"bottom":"right";m=Nu(m+s["y"===d?"top":"left"],m,m-s[e])}const _=l.fn({...t,[f]:v,[d]:m});return{..._,data:{x:_.x-n,y:_.y-r}}}}},Hu=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=e,s={x:n,y:r},f=yu(o),d=Uu(f);let v=s[f],m=s[d];const _="function"==typeof l?l({...i,placement:o}):l,p="number"==typeof _?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+p.mainAxis,n=i.reference[f]+i.reference[e]-p.mainAxis;v<t?v=t:v>n&&(v=n)}if(c){var h,b,y,g;const e="y"===f?"width":"height",t=["top","left"].includes(hu(o)),n=i.reference[d]-i.floating[e]+(t&&null!=(h=null==(b=a.offset)?void 0:b[d])?h:0)+(t?0:p.crossAxis),r=i.reference[d]+i.reference[e]+(t?0:null!=(y=null==(g=a.offset)?void 0:g[d])?y:0)-(t?p.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:v,[d]:m}}}},Gu=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:a,...l}=e,u=await Eu(t,l),c=hu(n),s=bu(n);let f,d;"top"===c||"bottom"===c?(f=c,d=s===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(d=c,f="end"===s?"top":"bottom");const v=Cu(u.left,0),m=Cu(u.right,0),_=Cu(u.top,0),p=Cu(u.bottom,0),h={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(0!==_||0!==p?_+p:Cu(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(0!==v||0!==m?v+m:Cu(u.left,u.right)):u[d])},b=await o.getDimensions(i.floating);null==a||a({...t,...h});const y=await o.getDimensions(i.floating);return b.width!==y.width||b.height!==y.height?{reset:{rects:!0}}:{}}}};function Ku(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Wu(e){if(null==e)return window;if(!Ku(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vu(e){return Wu(e).getComputedStyle(e)}function Ju(e){return Ku(e)?"":e?(e.nodeName||"").toLowerCase():""}function $u(){const e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function Qu(e){return e instanceof Wu(e).HTMLElement}function Xu(e){return e instanceof Wu(e).Element}function Yu(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Wu(e).ShadowRoot||e instanceof ShadowRoot)}function Zu(e){const{overflow:t,overflowX:n,overflowY:r}=Vu(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function qu(e){return["table","td","th"].includes(Ju(e))}function ec(e){const t=/firefox/i.test($u()),n=Vu(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function tc(){return!/^((?!chrome|android).)*safari/i.test($u())}const nc=Math.min,rc=Math.max,oc=Math.round;function ic(e,t,n){var r,o,i,a;void 0===t&&(t=!1),void 0===n&&(n=!1);const l=e.getBoundingClientRect();let u=1,c=1;t&&Qu(e)&&(u=e.offsetWidth>0&&oc(l.width)/e.offsetWidth||1,c=e.offsetHeight>0&&oc(l.height)/e.offsetHeight||1);const s=Xu(e)?Wu(e):window,f=!tc()&&n,d=(l.left+(f&&null!=(r=null==(o=s.visualViewport)?void 0:o.offsetLeft)?r:0))/u,v=(l.top+(f&&null!=(i=null==(a=s.visualViewport)?void 0:a.offsetTop)?i:0))/c,m=l.width/u,_=l.height/c;return{width:m,height:_,top:v,right:d+m,bottom:v+_,left:d,x:d,y:v}}function ac(e){return(t=e,(t instanceof Wu(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function lc(e){return Xu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function uc(e){return ic(ac(e)).left+lc(e).scrollLeft}function cc(e,t,n){const r=Qu(t),o=ac(t),i=ic(e,r&&function(e){const t=ic(e);return oc(t.width)!==e.offsetWidth||oc(t.height)!==e.offsetHeight}(t),"fixed"===n);let a={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==Ju(t)||Zu(o))&&(a=lc(t)),Qu(t)){const e=ic(t,!0);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=uc(o));return{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function sc(e){return"html"===Ju(e)?e:e.assignedSlot||e.parentNode||(Yu(e)?e.host:null)||ac(e)}function fc(e){return Qu(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function dc(e){const t=Wu(e);let n=fc(e);for(;n&&qu(n)&&"static"===getComputedStyle(n).position;)n=fc(n);return n&&("html"===Ju(n)||"body"===Ju(n)&&"static"===getComputedStyle(n).position&&!ec(n))?t:n||function(e){let t=sc(e);for(Yu(t)&&(t=t.host);Qu(t)&&!["html","body"].includes(Ju(t));){if(ec(t))return t;t=t.parentNode}return null}(e)||t}function vc(e){if(Qu(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=ic(e);return{width:t.width,height:t.height}}function mc(e){const t=sc(e);return["html","body","#document"].includes(Ju(t))?e.ownerDocument.body:Qu(t)&&Zu(t)?t:mc(t)}function _c(e,t){var n;void 0===t&&(t=[]);const r=mc(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Wu(r),a=o?[i].concat(i.visualViewport||[],Zu(r)?r:[]):r,l=t.concat(a);return o?l:l.concat(_c(a))}function pc(e,t,n){return"viewport"===t?Au(function(e,t){const n=Wu(e),r=ac(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,u=0;if(o){i=o.width,a=o.height;const e=tc();(e||!e&&"fixed"===t)&&(l=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:l,y:u}}(e,n)):Xu(t)?function(e,t){const n=ic(e,!1,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft;return{top:r,left:o,x:o,y:r,right:o+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):Au(function(e){var t;const n=ac(e),r=lc(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=rc(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=rc(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let l=-r.scrollLeft+uc(e);const u=-r.scrollTop;return"rtl"===Vu(o||n).direction&&(l+=rc(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:u}}(ac(e)))}function hc(e){const t=_c(e),n=["absolute","fixed"].includes(Vu(e).position)&&Qu(e)?dc(e):e;return Xu(n)?t.filter((e=>Xu(e)&&function(e,t){const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Yu(n)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(e,n)&&"body"!==Ju(e))):[]}const bc={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?hc(t):[].concat(n),r],a=i[0],l=i.reduce(((e,n)=>{const r=pc(t,n,o);return e.top=rc(r.top,e.top),e.right=nc(r.right,e.right),e.bottom=nc(r.bottom,e.bottom),e.left=rc(r.left,e.left),e}),pc(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Qu(n),i=ac(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==Ju(n)||Zu(i))&&(a=lc(n)),Qu(n))){const e=ic(n,!0);l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+l.x,y:t.y-a.scrollTop+l.y}},isElement:Xu,getDimensions:vc,getOffsetParent:dc,getDocumentElement:ac,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:cc(t,dc(n),r),floating:{...vc(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===Vu(e).direction};function yc(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=!0,animationFrame:l=!1}=r,u=o&&!l,c=i&&!l,s=u||c?[...Xu(e)?_c(e):[],..._c(t)]:[];s.forEach((e=>{u&&e.addEventListener("scroll",n,{passive:!0}),c&&e.addEventListener("resize",n)}));let f,d=null;if(a){let r=!0;d=new ResizeObserver((()=>{r||n(),r=!1})),Xu(e)&&!l&&d.observe(e),d.observe(t)}let v=l?ic(e):null;return l&&function t(){const r=ic(e);!v||r.x===v.x&&r.y===v.y&&r.width===v.width&&r.height===v.height||n(),v=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;s.forEach((e=>{u&&e.removeEventListener("scroll",n),c&&e.removeEventListener("resize",n)})),null==(e=d)||e.disconnect(),d=null,l&&cancelAnimationFrame(f)}}const gc=(e,t,n)=>(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:s}=wu(u,r,l),f=r,d={},v=0;for(let m=0;m<i.length;m++){const{name:n,fn:_}=i[m],{x:p,y:h,data:b,reset:y}=await _({x:c,y:s,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=p?p:c,s=null!=h?h:s,d={...d,[n]:{...d[n],...b}},y&&v<=50&&(v++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(u=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:c,y:s}=wu(u,f,l))),m=-1)}return{x:c,y:s,placement:f,strategy:o,middlewareData:d}})(e,t,{platform:bc,...n});function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){Ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ac(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Cc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cc(e){return Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(e)}var Nc="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function Bc(e,t){if(e===t)return!0;if(Cc(e)!==Cc(t))return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;var n,r,o;if(e&&t&&"object"==Cc(e)){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Bc(e[r],t[r]))return!1;return!0}if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){var i=o[r];if(("_owner"!==i||!e.$$typeof)&&!Bc(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function Oc(e){var t,n,o=void 0===e?{}:e,i=o.middleware,a=o.placement,l=void 0===a?"bottom":a,u=o.strategy,c=void 0===u?"absolute":u,s=o.whileElementsMounted,f=r.useRef(null),d=r.useRef(null),v=(t=s,n=r.useRef(t),Nc((function(){n.current=t})),n),m=r.useRef(null),_=Ec(r.useState({x:null,y:null,strategy:c,placement:l,middlewareData:{}}),2),p=_[0],h=_[1],b=Ec(r.useState(i),2),y=b[0],g=b[1];Bc(null==y?void 0:y.map((function(e){return e.options})),null==i?void 0:i.map((function(e){return e.options})))||g(i);var w=r.useCallback((function(){f.current&&d.current&&gc(f.current,d.current,{middleware:y,placement:l,strategy:c}).then((function(e){x.current&&Ao.flushSync((function(){h(e)}))}))}),[y,l,c]);Nc((function(){x.current&&w()}),[w]);var x=r.useRef(!1);Nc((function(){return x.current=!0,function(){x.current=!1}}),[]);var A=r.useCallback((function(){if("function"==typeof m.current&&(m.current(),m.current=null),f.current&&d.current)if(v.current){var e=v.current(f.current,d.current,w);m.current=e}else w()}),[w,v]),E=r.useCallback((function(e){f.current=e,A()}),[A]),S=r.useCallback((function(e){d.current=e,A()}),[A]),C=r.useMemo((function(){return{reference:f,floating:d}}),[]);return r.useMemo((function(){return xc(xc({},p),{},{update:w,refs:C,reference:E,floating:S})}),[p,w,C,E,S])}var Mc=function(e){var t=e.element,n=e.padding;return{name:"arrow",options:e,fn:function(e){return r=t,Object.prototype.hasOwnProperty.call(r,"current")?null!=t.current?Bu({element:t.current,padding:n}).fn(e):{}:t?Bu({element:t,padding:n}).fn(e):{};var r}}},Fc=["children","width","height"];var Ic=(0,r.forwardRef)((function(e,t){var n=e.children,o=e.width,i=void 0===o?10:o,a=e.height,l=void 0===a?5:a,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Fc);return(0,r.createElement)(Ho.svg,xo({},u,{ref:t,width:i,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:(0,r.createElement)("polygon",{points:"0,0 30,0 15,10"}))})),Dc=Ic;function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}var kc=["__scopePopper","virtualRef"],Rc=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions","onPlaced"],jc=["__scopePopper"];function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(n),!0).forEach((function(t){Hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=zc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vc="Popper",Jc=Kc(Vl(Vc),2),$c=Jc[0],Qc=Jc[1],Xc=Kc($c(Vc),2),Yc=Xc[0],Zc=Xc[1],qc=function(e){var t=e.__scopePopper,n=e.children,o=Kc((0,r.useState)(null),2),i=o[0],a=o[1];return(0,r.createElement)(Yc,{scope:t,anchor:i,onAnchorChange:a},n)},es="PopperAnchor",ts=(0,r.forwardRef)((function(e,t){var n=e.__scopePopper,o=e.virtualRef,i=Gc(e,kc),a=Zc(es,n),l=(0,r.useRef)(null),u=So(t,l);return(0,r.useEffect)((function(){a.onAnchorChange((null==o?void 0:o.current)||l.current)})),o?null:(0,r.createElement)(Ho.div,xo({},i,{ref:u}))})),ns="PopperContent",rs=Kc($c(ns),2),os=rs[0],is=rs[1],as=Kc($c(ns,{hasParent:!1,positionUpdateFns:new Set}),2),ls=as[0],us=as[1],cs=(0,r.forwardRef)((function(e,t){var n,o,i,a,l,u,c,s,f,d,v,m,_=e.__scopePopper,p=e.side,h=void 0===p?"bottom":p,b=e.sideOffset,y=void 0===b?0:b,g=e.align,w=void 0===g?"center":g,x=e.alignOffset,A=void 0===x?0:x,E=e.arrowPadding,S=void 0===E?0:E,C=e.collisionBoundary,N=void 0===C?[]:C,B=e.collisionPadding,O=void 0===B?0:B,M=e.sticky,F=void 0===M?"partial":M,I=e.hideWhenDetached,D=void 0!==I&&I,T=e.avoidCollisions,P=void 0===T||T,z=e.onPlaced,k=Gc(e,Rc),R=Zc(ns,_),j=Kc((0,r.useState)(null),2),U=j[0],L=j[1],H=So(t,(function(e){return L(e)})),G=Kc((0,r.useState)(null),2),K=G[0],W=G[1],V=(f=K,d=Tc((0,r.useState)(void 0),2),v=d[0],m=d[1],du((function(){if(f){m({width:f.offsetWidth,height:f.offsetHeight});var e=new ResizeObserver((function(e){if(Array.isArray(e)&&e.length){var t,n,r=e[0];if("borderBoxSize"in r){var o=r.borderBoxSize,i=Array.isArray(o)?o[0]:o;t=i.inlineSize,n=i.blockSize}else t=f.offsetWidth,n=f.offsetHeight;m({width:t,height:n})}}));return e.observe(f,{box:"border-box"}),function(){return e.unobserve(f)}}m(void 0)}),[f]),v),J=null!==(n=null==V?void 0:V.width)&&void 0!==n?n:0,$=null!==(o=null==V?void 0:V.height)&&void 0!==o?o:0,Q=h+("center"!==w?"-"+w:""),X="number"==typeof O?O:Lc({top:0,right:0,bottom:0,left:0},O),Y=Array.isArray(N)?N:[N],Z=Y.length>0,q={padding:X,boundary:Y.filter(ms),altBoundary:Z},ee=Oc({strategy:"fixed",placement:Q,whileElementsMounted:yc,middleware:[_s(),ju({mainAxis:y+$,alignmentAxis:A}),P?Lu(Lc({mainAxis:!0,crossAxis:!1,limiter:"partial"===F?Hu():void 0},q)):void 0,K?Mc({element:K,padding:S}):void 0,P?Pu(Lc({},q)):void 0,Gu(Lc(Lc({},q),{},{apply:function(e){var t=e.elements,n=e.availableWidth,r=e.availableHeight;t.floating.style.setProperty("--radix-popper-available-width","".concat(n,"px")),t.floating.style.setProperty("--radix-popper-available-height","".concat(r,"px"))}})),ps({arrowWidth:J,arrowHeight:$}),D?Ru({strategy:"referenceHidden"}):void 0].filter(vs)}),te=ee.reference,ne=ee.floating,re=ee.strategy,oe=ee.x,ie=ee.y,ae=ee.placement,le=ee.middlewareData,ue=ee.update;du((function(){te(R.anchor)}),[te,R.anchor]);var ce=null!==oe&&null!==ie,se=Kc(hs(ae),2),fe=se[0],de=se[1],ve=$l(z);du((function(){ce&&(null==ve||ve())}),[ce,ve]);var me=null===(i=le.arrow)||void 0===i?void 0:i.x,_e=null===(a=le.arrow)||void 0===a?void 0:a.y,pe=0!==(null===(l=le.arrow)||void 0===l?void 0:l.centerOffset),he=Kc((0,r.useState)(),2),be=he[0],ye=he[1];du((function(){U&&ye(window.getComputedStyle(U).zIndex)}),[U]);var ge=us(ns,_),we=ge.hasParent,xe=ge.positionUpdateFns,Ae=!we;(0,r.useLayoutEffect)((function(){if(!Ae)return xe.add(ue),function(){xe.delete(ue)}}),[Ae,xe,ue]),du((function(){Ae&&ce&&Array.from(xe).reverse().forEach((function(e){return requestAnimationFrame(e)}))}),[Ae,ce,xe]);var Ee=Lc(Lc({"data-side":fe,"data-align":de},k),{},{ref:H,style:Lc(Lc({},k.style),{},{animation:ce?void 0:"none",opacity:null!==(u=le.hide)&&void 0!==u&&u.referenceHidden?0:void 0})});return(0,r.createElement)("div",{ref:ne,"data-radix-popper-content-wrapper":"",style:Hc({position:re,left:0,top:0,transform:ce?"translate3d(".concat(Math.round(oe),"px, ").concat(Math.round(ie),"px, 0)"):"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:be},"--radix-popper-transform-origin",[null===(c=le.transformOrigin)||void 0===c?void 0:c.x,null===(s=le.transformOrigin)||void 0===s?void 0:s.y].join(" ")),dir:e.dir},(0,r.createElement)(os,{scope:_,placedSide:fe,onArrowChange:W,arrowX:me,arrowY:_e,shouldHideArrow:pe},Ae?(0,r.createElement)(ls,{scope:_,hasParent:!0,positionUpdateFns:xe},(0,r.createElement)(Ho.div,Ee)):(0,r.createElement)(Ho.div,Ee)))})),ss="PopperArrow",fs={top:"bottom",right:"left",bottom:"top",left:"right"},ds=(0,r.forwardRef)((function(e,t){var n=e.__scopePopper,o=Gc(e,jc),i=is(ss,n),a=fs[i.placedSide];return(0,r.createElement)("span",{ref:i.onArrowChange,style:Hc(Hc(Hc(Hc({position:"absolute",left:i.arrowX,top:i.arrowY},a,0),"transformOrigin",{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide]),"transform",{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide]),"visibility",i.shouldHideArrow?"hidden":void 0)},(0,r.createElement)(Dc,xo({},o,{ref:t,style:Lc(Lc({},o.style),{},{display:"block"})})))}));function vs(e){return void 0!==e}function ms(e){return null!==e}var _s=function(){return{name:"anchorCssProperties",fn:function(e){var t=e.rects,n=e.elements,r=t.reference,o=r.width,i=r.height;return n.floating.style.setProperty("--radix-popper-anchor-width","".concat(o,"px")),n.floating.style.setProperty("--radix-popper-anchor-height","".concat(i,"px")),{}}}},ps=function(e){return{name:"transformOrigin",options:e,fn:function(t){var n,r,o,i,a,l=t.placement,u=t.rects,c=t.middlewareData,s=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),f=s?0:e.arrowWidth,d=s?0:e.arrowHeight,v=Kc(hs(l),2),m=v[0],_={start:"0%",center:"50%",end:"100%"}[v[1]],p=(null!==(r=null===(o=c.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+f/2,h=(null!==(i=null===(a=c.arrow)||void 0===a?void 0:a.y)&&void 0!==i?i:0)+d/2,b="",y="";return"bottom"===m?(b=s?_:"".concat(p,"px"),y="".concat(-d,"px")):"top"===m?(b=s?_:"".concat(p,"px"),y="".concat(u.floating.height+d,"px")):"right"===m?(b="".concat(-d,"px"),y=s?_:"".concat(h,"px")):"left"===m&&(b="".concat(u.floating.width+d,"px"),y=s?_:"".concat(h,"px")),{data:{x:b,y:y}}}}};function hs(e){var t=Kc(e.split("-"),2),n=t[0],r=t[1];return[n,void 0===r?"center":r]}var bs=qc,ys=ts,gs=cs,ws=ds;function xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return As(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Es=function(e){var t=e.present,n=e.children,o=function(e){var t=xs((0,r.useState)(),2),n=t[0],o=t[1],i=(0,r.useRef)({}),a=(0,r.useRef)(e),l=(0,r.useRef)("none"),u=e?"mounted":"unmounted",c=function(e,t){return(0,r.useReducer)((function(e,n){var r=t[e][n];return null!=r?r:e}),e)}(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),s=xs(c,2),f=s[0],d=s[1];return(0,r.useEffect)((function(){var e=Ss(i.current);l.current="mounted"===f?e:"none"}),[f]),du((function(){var t=i.current,n=a.current;if(n!==e){var r=l.current,o=Ss(t);if(e)d("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))d("UNMOUNT");else{d(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=e}}),[e,d]),du((function(){if(n){var e=function(e){var t=Ss(i.current).includes(e.animationName);e.target===n&&t&&(0,Ao.flushSync)((function(){return d("ANIMATION_END")}))},t=function(e){e.target===n&&(l.current=Ss(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),function(){n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}d("ANIMATION_END")}),[n,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:(0,r.useCallback)((function(e){e&&(i.current=getComputedStyle(e)),o(e)}),[])}}(t),i="function"==typeof n?n({present:o.isPresent}):r.Children.only(n),a=So(o.ref,i.ref);return"function"==typeof n||o.isPresent?(0,r.cloneElement)(i,{ref:a}):null};function Ss(e){return(null==e?void 0:e.animationName)||"none"}function Cs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bs(e){var t=e.prop,n=e.defaultProp,o=e.onChange,i=void 0===o?function(){}:o,a=function(e){var t=e.defaultProp,n=e.onChange,o=(0,r.useState)(t),i=Cs(o,1)[0],a=(0,r.useRef)(i),l=$l(n);return(0,r.useEffect)((function(){a.current!==i&&(l(i),a.current=i)}),[i,a,l]),o}({defaultProp:n,onChange:i}),l=Cs(a,2),u=l[0],c=l[1],s=void 0!==t,f=s?t:u,d=$l(i);return[f,(0,r.useCallback)((function(e){if(s){var n="function"==typeof e?e(t):e;n!==t&&d(n)}else c(e)}),[s,t,c,d])]}function Os(e){return Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(e)}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){Is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Is(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Os(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Os(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Os(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Es.displayName="Presence";var Ds=(0,r.forwardRef)((function(e,t){return(0,r.createElement)(Ho.span,xo({},e,{ref:t,style:Fs({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)}))})),Ts=Ds;function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}var zs=["__scopeTooltip"],ks=["forceMount","side"],Rs=["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"],js=["__scopeTooltip"];function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ps(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gs(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Vs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vs(e,t){if(e){if("string"==typeof e)return Js(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(e,t):void 0}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var $s=Ws(Vl("Tooltip",[Qc]),2),Qs=$s[0],Xs=($s[1],Qc()),Ys="TooltipProvider",Zs="tooltip.open",qs=Ws(Qs(Ys),2),ef=(qs[0],qs[1]),tf="Tooltip",nf=Ws(Qs(tf),2),rf=nf[0],of=nf[1],af=function(e){var t,n,o,i,a=e.__scopeTooltip,l=e.children,u=e.open,c=e.defaultOpen,s=void 0!==c&&c,f=e.onOpenChange,d=e.disableHoverableContent,v=e.delayDuration,m=ef(tf,e.__scopeTooltip),_=Xs(a),p=Ws((0,r.useState)(null),2),h=p[0],b=p[1],y=(n=vu(r.useState(_u()),2),o=n[0],i=n[1],du((function(){t||i((function(e){return null!=e?e:String(pu++)}))}),[t]),t||(o?"radix-".concat(o):"")),g=(0,r.useRef)(0),w=null!=d?d:m.disableHoverableContent,x=null!=v?v:m.delayDuration,A=(0,r.useRef)(!1),E=Ws(Bs({prop:u,defaultProp:s,onChange:function(e){e?(m.onOpen(),document.dispatchEvent(new CustomEvent(Zs))):m.onClose(),null==f||f(e)}}),2),S=E[0],C=void 0!==S&&S,N=E[1],B=(0,r.useMemo)((function(){return C?A.current?"delayed-open":"instant-open":"closed"}),[C]),O=(0,r.useCallback)((function(){window.clearTimeout(g.current),A.current=!1,N(!0)}),[N]),M=(0,r.useCallback)((function(){window.clearTimeout(g.current),N(!1)}),[N]),F=(0,r.useCallback)((function(){window.clearTimeout(g.current),g.current=window.setTimeout((function(){A.current=!0,N(!0)}),x)}),[x,N]);return(0,r.useEffect)((function(){return function(){return window.clearTimeout(g.current)}}),[]),(0,r.createElement)(bs,_,(0,r.createElement)(rf,{scope:a,contentId:y,open:C,stateAttribute:B,trigger:h,onTriggerChange:b,onTriggerEnter:(0,r.useCallback)((function(){m.isOpenDelayed?F():O()}),[m.isOpenDelayed,F,O]),onTriggerLeave:(0,r.useCallback)((function(){w?M():window.clearTimeout(g.current)}),[M,w]),onOpen:O,onClose:M,disableHoverableContent:w},l))},lf="TooltipTrigger",uf=(0,r.forwardRef)((function(e,t){var n=e.__scopeTooltip,o=Ks(e,zs),i=of(lf,n),a=ef(lf,n),l=Xs(n),u=So(t,(0,r.useRef)(null),i.onTriggerChange),c=(0,r.useRef)(!1),s=(0,r.useRef)(!1),f=(0,r.useCallback)((function(){return c.current=!1}),[]);return(0,r.useEffect)((function(){return function(){return document.removeEventListener("pointerup",f)}}),[f]),(0,r.createElement)(ys,xo({asChild:!0},l),(0,r.createElement)(Ho.button,xo({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},o,{ref:u,onPointerMove:kl(e.onPointerMove,(function(e){"touch"!==e.pointerType&&(s.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),s.current=!0))})),onPointerLeave:kl(e.onPointerLeave,(function(){i.onTriggerLeave(),s.current=!1})),onPointerDown:kl(e.onPointerDown,(function(){c.current=!0,document.addEventListener("pointerup",f,{once:!0})})),onFocus:kl(e.onFocus,(function(){c.current||i.onOpen()})),onBlur:kl(e.onBlur,i.onClose),onClick:kl(e.onClick,i.onClose)})))})),cf="TooltipPortal",sf=Ws(Qs(cf,{forceMount:void 0}),2),ff=(sf[0],sf[1]),df="TooltipContent",vf=(0,r.forwardRef)((function(e,t){var n=ff(df,e.__scopeTooltip),o=e.forceMount,i=void 0===o?n.forceMount:o,a=e.side,l=void 0===a?"top":a,u=Ks(e,ks),c=of(df,e.__scopeTooltip);return(0,r.createElement)(Es,{present:i||c.open},c.disableHoverableContent?(0,r.createElement)(bf,xo({side:l},u,{ref:t})):(0,r.createElement)(mf,xo({side:l},u,{ref:t})))})),mf=(0,r.forwardRef)((function(e,t){var n=of(df,e.__scopeTooltip),o=ef(df,e.__scopeTooltip),i=(0,r.useRef)(null),a=So(t,i),l=Ws((0,r.useState)(null),2),u=l[0],c=l[1],s=n.trigger,f=n.onClose,d=i.current,v=o.onPointerInTransitChange,m=(0,r.useCallback)((function(){c(null),v(!1)}),[v]),_=(0,r.useCallback)((function(e,t){var n,r,o,i,a,l,u,s=e.currentTarget,f=function(e,t){var n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:return null}}({x:e.clientX,y:e.clientY},s.getBoundingClientRect()),d="right"===f||"bottom"===f?-5:5,m="right"===f||"left"===f?{x:e.clientX+d,y:e.clientY}:{x:e.clientX,y:e.clientY+d},_=(n=t.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,[{x:a=n.left,y:r},{x:o,y:r},{x:o,y:i},{x:a,y:i}]),p=(l=[m].concat(Gs(_)),(u=l.slice()).sort((function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0})),function(e){if(e.length<=1)return e.slice();for(var t=[],n=0;n<e.length;n++){for(var r=e[n];t.length>=2;){var o=t[t.length-1],i=t[t.length-2];if(!((o.x-i.x)*(r.y-i.y)>=(o.y-i.y)*(r.x-i.x)))break;t.pop()}t.push(r)}t.pop();for(var a=[],l=e.length-1;l>=0;l--){for(var u=e[l];a.length>=2;){var c=a[a.length-1],s=a[a.length-2];if(!((c.x-s.x)*(u.y-s.y)>=(c.y-s.y)*(u.x-s.x)))break;a.pop()}a.push(u)}return a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}(u));c(p),v(!0)}),[v]);return(0,r.useEffect)((function(){return function(){return m()}}),[m]),(0,r.useEffect)((function(){if(s&&d){var e=function(e){return _(e,d)},t=function(e){return _(e,s)};return s.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),function(){s.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}}),[s,d,_,m]),(0,r.useEffect)((function(){if(u){var e=function(e){var t=e.target,n={x:e.clientX,y:e.clientY},r=(null==s?void 0:s.contains(t))||(null==d?void 0:d.contains(t)),o=!function(e,t){for(var n=e.x,r=e.y,o=!1,i=0,a=t.length-1;i<t.length;a=i++){var l=t[i].x,u=t[i].y,c=t[a].x,s=t[a].y;u>r!=s>r&&n<(c-l)*(r-u)/(s-u)+l&&(o=!o)}return o}(n,u);r?m():o&&(m(),f())};return document.addEventListener("pointermove",e),function(){return document.removeEventListener("pointermove",e)}}}),[s,d,u,f,m]),(0,r.createElement)(bf,xo({},e,{ref:a}))})),_f=Ws(Qs(tf,{isInside:!1}),2),pf=_f[0],hf=_f[1],bf=(0,r.forwardRef)((function(e,t){var n=e.__scopeTooltip,o=e.children,i=e["aria-label"],a=e.onEscapeKeyDown,l=e.onPointerDownOutside,u=Ks(e,Rs),c=of(df,n),s=Xs(n),f=c.onClose;return(0,r.useEffect)((function(){return document.addEventListener(Zs,f),function(){return document.removeEventListener(Zs,f)}}),[f]),(0,r.useEffect)((function(){if(c.trigger){var e=function(e){var t=e.target;null!=t&&t.contains(c.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),function(){return window.removeEventListener("scroll",e,{capture:!0})}}}),[c.trigger,f]),(0,r.createElement)(cu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:function(e){return e.preventDefault()},onDismiss:f},(0,r.createElement)(gs,xo({"data-state":c.stateAttribute},s,u,{ref:t,style:Ls(Ls({},u.style),{},{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"})}),(0,r.createElement)(Po,null,o),(0,r.createElement)(pf,{scope:n,isInside:!0},(0,r.createElement)(Ts,{id:c.contentId,role:"tooltip"},i||o))))})),yf="TooltipArrow",gf=(0,r.forwardRef)((function(e,t){var n=e.__scopeTooltip,o=Ks(e,js),i=Xs(n);return hf(yf,n).isInside?null:(0,r.createElement)(ws,xo({},i,o,{ref:t}))}));var wf,xf,Af=af,Ef=uf,Sf=vf,Cf=gf;function Nf(){Nf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),l=new M(r||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",v="suspendedYield",m="executing",_="completed",p={};function h(){}function b(){}function y(){}var g={};c(g,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(F([])));x&&x!==n&&r.call(x,a)&&(g=x);var A=y.prototype=h.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,l){var u=f(e[o],e,i);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==Mf(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=d;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===_){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var u=N(l,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=_,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?_:v,c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=_,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Mf(t)+" is not iterable")}return b.prototype=y,o(A,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(A),c(A,u,"Generator"),c(A,a,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function Bf(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Of(e,t){return zf(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Df(e,t)||If()}function Mf(e){return Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(e)}function Ff(e){return function(e){if(Array.isArray(e))return Tf(e)}(e)||Pf(e)||Df(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Df(e,t){if(e){if("string"==typeof e)return Tf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tf(e,t):void 0}}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pf(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function zf(e){if(Array.isArray(e))return e}function kf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Mf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}!function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"}(xf||(xf={}));var jf=(kf(kf(kf(kf(kf(kf(kf(kf(kf(kf(wf={},xf.UNSUPPORTED_INPUT,(function(e,t){return["An input with type `".concat(e,"` input was found at path `").concat(t,"` but it's not supported yet.")]})),xf.NO_COMPONENT_FOR_TYPE,(function(e,t){return["Type `".concat(e,"` found at path `").concat(t,"` can't be displayed in panel because no component supports it yet.")]})),xf.UNKNOWN_INPUT,(function(e,t){return["input at path `".concat(e,"` is not recognized."),t]})),xf.DUPLICATE_KEYS,(function(e,t,n){return["Key `".concat(e,"` of path `").concat(t,"` already exists at path `").concat(n,"`. Even nested keys need to be unique. Rename one of the keys.")]})),xf.ALREADY_REGISTERED_TYPE,(function(e){return["Type ".concat(e," has already been registered. You can't register a component with the same type.")]})),xf.CLIPBOARD_ERROR,(function(e){return["Error copying the value",e]})),xf.THEME_ERROR,(function(e,t){return["Error accessing the theme `".concat(e,".").concat(t,"` value.")]})),xf.PATH_DOESNT_EXIST,(function(e){return["Error getting the value at path `".concat(e,"`. There is probably an error in your `render` function.")]})),xf.PATH_DOESNT_EXIST,(function(e){return["Error accessing the value at path `".concat(e,"`")]})),xf.INPUT_TYPE_OVERRIDE,(function(e,t,n){return["Input at path `".concat(e,"` already exists with type: `").concat(t,"`. Its type cannot be overridden with type `").concat(n,"`.")]})),kf(wf,xf.EMPTY_KEY,(function(){return["Keys can not be empty, if you want to hide a label use whitespace."]})));function Uf(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=function(e){return zf(e)||Pf(e)||Df(e)||If()}(jf[t].apply(jf,o)),l=a[0],u=a.slice(1);(n=console)[e].apply(n,["LEVA: "+l].concat(Ff(u)))}var Lf=Uf.bind(null,"warn"),Hf=Uf.bind(null,"log"),Gf=["value"],Kf=["schema"],Wf=["value"],Vf=[],Jf={};function $f(e){var t,n=e.value,r=Rf(e,Gf),o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Df(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(Vf);try{for(o.s();!(t=o.n()).done;){var i=(0,t.value)(n,r);if(i)return i}}catch(a){o.e(a)}finally{o.f()}}function Qf(e,t){var n=t.schema,r=Rf(t,Kf);e in Jf?Lf(xf.ALREADY_REGISTERED_TYPE,e):(Vf.push((function(t,r){return n(t,r)&&e})),Jf[e]=r)}function Xf(e,t,n,r){var o=Jf[e].normalize;return o?o(t,n,r):"object"===Mf(t)&&"value"in t?{value:t.value,settings:Rf(t,Wf)}:{value:t}}function Yf(e,t,n){var r=Jf[e].format;return r?r(t,n):t}function Zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qf(Object(n),!0).forEach((function(t){Zf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var td=function(e,t,n){return e>n?n:e<t?t:e},nd=function(e){if(""===e||"number"==typeof e)return e;try{var t=vd(e);if(!isNaN(t))return t}catch(n){}return parseFloat(e)},rd=Math.log(10);function od(e){var t=Math.abs(+String(e).replace(".",""));if(0===t)return.01;for(;0!==t&&t%10==0;)t/=10;var n=Math.floor(Math.log(t)/rd)+1,r=Math.floor(Math.log10(Math.abs(e))),o=Math.pow(10,r-n);return Math.max(o,.001)}var id=function(e,t,n){return n===t?0:(td(e,t,n)-t)/(n-t)},ad=function(e,t,n){return e*(n-t)+t},ld=/\(([0-9+\-*/^ .]+)\)/,ud=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,cd=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,sd=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,fd=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,dd=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function vd(e){if(isNaN(Number(e))){if(ld.test(e)){var t=e.replace(ld,(function(e,t){return String(vd(t))}));return vd(t)}if(ud.test(e))return vd(e.replace(ud,(function(e,t,n){return String(Math.pow(Number(t),Number(n)))})));if(cd.test(e)){var n=e.replace(cd,(function(e,t,n){return String(Number(t)*Number(n))}));return vd(n)}if(sd.test(e)){var r=e.replace(sd,(function(e,t,n){if(0!=n)return String(Number(t)/Number(n));throw new Error("Division by zero")}));return vd(r)}if(fd.test(e)){var o=e.replace(fd,(function(e,t,n){return String(Number(t)+Number(n))}));return vd(o)}if(dd.test(e)){var i=e.replace(dd,(function(e,t,n){return String(Number(t)-Number(n))}));return vd(i)}return Number(e)}return Number(e)}function md(e){return"[object Object]"===Object.prototype.toString.call(e)}var _d,pd;!function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"}(_d||(_d={})),function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"}(pd||(pd={}));var hd=["type","__customInput"],bd=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],yd=["type"];function gd(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if("object"!==Mf(e)||Array.isArray(e))return{type:i,input:e,options:ed({key:t,label:t,optional:!1,disabled:!1,order:0},o)};if("__customInput"in e){var a=e.type;return gd(e.__customInput,t,Rf(e,hd),a)}var l,u,c=e.render,s=e.label,f=e.optional,d=e.order,v=void 0===d?0:d,m=e.disabled,_=e.hint,p=e.onChange,h=e.onEditStart,b=e.onEditEnd,y=e.transient,g=Rf(e,bd),w=ed({render:c,key:t,label:null!=s?s:t,hint:_,transient:null!=y?y:!!p,onEditStart:h,onEditEnd:b,disabled:m,optional:f,order:v},o),x=g.type,A=Rf(g,yd);return(x=null!=i?i:x)in _d?{type:x,input:A,options:w}:(i&&md(A)&&"value"in A?l=A.value:l=md(u=A)&&0===Object.keys(u).length?void 0:A,{type:x,input:l,options:ed(ed({},w),{},{onChange:p,optional:null!==(n=w.optional)&&void 0!==n&&n,disabled:null!==(r=w.disabled)&&void 0!==r&&r})})}function wd(e,t,n,r,o){var i=e.value,a=e.type,l=e.settings;e.value=Ad({type:a,value:i,settings:l},t,n,r),e.fromPanel=o}var xd=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function Ad(e,t,n,r){var o,i=e.type,a=e.value,l=e.settings,u="SELECT"!==i&&"function"==typeof t?t(a):t;try{o=function(e,t,n,r,o,i){var a=Jf[e].sanitize;return a?a(t,n,r,o,i):t}(i,u,l,a,n,r)}catch(c){throw new xd("The value `".concat(t,"` did not result in a correct value."),a,c)}return Jo(o,a)?a:o}var Ed=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;return function(){var o=this,i=arguments,a=n&&!r,l=function(){return e.apply(o,i)};window.clearTimeout(r),r=window.setTimeout(l,t),a&&l()}},Sd=function(e){return e.shiftKey?5:e.altKey?.2:1},Cd=["value"],Nd=["min","max"],Bd=function(e,t){var n=t.min,r=void 0===n?-1/0:n,o=t.max,i=void 0===o?1/0:o,a=t.suffix,l=parseFloat(e);if(""===e||isNaN(l))throw Error("Invalid number");var u=td(l,r,i);return a?u+a:u},Od=function(e){var t=e.value,n=Rf(e,Cd),r=n.min,o=void 0===r?-1/0:r,i=n.max,a=void 0===i?1/0:i,l=Rf(n,Nd),u=parseFloat(t),c="string"==typeof t?t.substring((""+u).length):void 0;u=td(u,o,a);var s=n.step;s||(Number.isFinite(o)?s=Number.isFinite(a)?+(Math.abs(a-o)/100).toPrecision(1):+(Math.abs(u-o)/100).toPrecision(1):Number.isFinite(a)&&(s=+(Math.abs(a-u)/100).toPrecision(1)));var f=s?10*od(s):od(u);return{value:c?u+c:u,settings:ed({initialValue:u,step:s=s||f/10,pad:Math.round(td(Math.log10(1/f),0,2)),min:o,max:a,suffix:c},l)}},Md=function(e,t){var n=t.step,r=t.initialValue;return r+Math.round((e-r)/n)*n},Fd=Object.freeze({__proto__:null,schema:function(e){if("number"==typeof e)return!0;if("string"==typeof e){var t=parseFloat(e);return!isNaN(t)&&e.substring((""+t).length).trim().length<4}return!1},sanitize:Bd,format:function(e,t){var n=t.pad,r=void 0===n?0:n,o=t.suffix,i=parseFloat(e).toFixed(r);return o?i+o:i},normalize:Od,sanitizeStep:Md});function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}var Dd=(0,r.createContext)({});function Td(){return(0,r.useContext)(Dd)}var Pd=(0,r.createContext)(null),zd=(0,r.createContext)(null),kd=(0,r.createContext)(null);function Rd(){return(0,r.useContext)(zd)}function jd(e,t){var n=Of(e.split(" "),2),r=n[0],o=n[1],i={};return"none"!==r&&(i.boxShadow="".concat(t.inset?"inset ":"","0 0 0 $borderWidths").concat([t.key]," $colors").concat("default"!==r&&r||t.borderColor)),o&&(i.backgroundColor=o),i}var Ud={$inputStyle:function(){return function(e){return jd(e,{key:"$input",borderColor:"$highlight1",inset:!0})}},$focusStyle:function(){return function(e){return jd(e,{key:"$focus",borderColor:"$accent2"})}},$hoverStyle:function(){return function(e){return jd(e,{key:"$hover",borderColor:"$accent1",inset:!0})}},$activeStyle:function(){return function(e){return jd(e,{key:"$active",borderColor:"$accent1",inset:!0})}}},Ld=fa({prefix:"leva",theme:{colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}},utils:ed(ed({},Ud),{},{$flex:function(){return{display:"flex",alignItems:"center"}},$flexCenter:function(){return{display:"flex",alignItems:"center",justifyContent:"center"}},$reset:function(){return{outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}},$draggable:function(){return{touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}},$focus:function(e){return{"&:focus":Ud.$focusStyle()(e)}},$focusWithin:function(e){return{"&:focus-within":Ud.$focusStyle()(e)}},$hover:function(e){return{"&:hover":Ud.$hoverStyle()(e)}},$active:function(e){return{"&:active":Ud.$activeStyle()(e)}}})}),Hd=Ld.styled,Gd=(Ld.css,Ld.createTheme),Kd=Ld.globalCss,Wd=(Ld.keyframes,Kd({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}}));function Vd(e,t){var n=(0,r.useContext)(Pd).theme;if(!(e in n)||!(t in n[e]))return Lf(xf.THEME_ERROR,e,t),"";for(var o=t;;){var i=n[e][o];if("string"!=typeof i||"$"!==i.charAt(0))return i;o=i.substr(1)}}var Jd=Hd("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),$d=Hd("div",kf({$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none"},"& + ".concat(Jd),{paddingLeft:0})),Qd=Hd($d,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Xd=Hd("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Yd=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Zd=["onUpdate"];function qd(e){var t=e.innerLabel,n=e.value,o=e.onUpdate,i=e.onChange,a=e.onKeyDown,l=e.type,u=e.id,c=e.inputType,s=void 0===c?"text":c,f=e.rows,d=void 0===f?0:f,v=Rf(e,Yd),m=Td(),_=m.id,p=m.emitOnEditStart,h=m.emitOnEditEnd,b=m.disabled,y=u||_,g=(0,r.useRef)(null),w=d>0,x=w?"textarea":"input",A=(0,r.useCallback)((function(e){return function(t){var n=t.currentTarget.value;e(n)}}),[]);r.useEffect((function(){var e=g.current,t=A((function(e){o(e),h()}));return null==e||e.addEventListener("blur",t),function(){return null==e?void 0:e.removeEventListener("blur",t)}}),[A,o,h]);var E=(0,r.useCallback)((function(e){"Enter"===e.key&&A(o)(e)}),[A,o]),S=Object.assign({as:x},w?{rows:d}:{},v);return r.createElement(Xd,{textArea:w},t&&"string"==typeof t?r.createElement($d,null,t):t,r.createElement(Jd,Id({levaType:l,ref:g,id:y,type:s,autoComplete:"off",spellCheck:"false",value:n,onChange:A(i),onFocus:function(){return p()},onKeyPress:E,onKeyDown:a,disabled:b},S)))}function ev(e){var t=e.onUpdate,n=Rf(e,Zd),o=(0,r.useCallback)((function(e){return t(nd(e))}),[t]),i=(0,r.useCallback)((function(e){var n="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(n){e.preventDefault();var r=e.altKey?.1:e.shiftKey?10:1;t((function(e){return parseFloat(e)+n*r}))}}),[t]);return r.createElement(qd,Id({},n,{onUpdate:o,onKeyDown:i,type:"number"}))}var tv=Hd("div",{}),nv=Hd("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),rv=Hd("div",kf(kf(kf({$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"}},"&:hover + ".concat(nv,"::after"),{opacity:.6}),"".concat(tv,":hover > & + ").concat(nv,"::after"),{opacity:.6}),"".concat(tv,":hover > & > svg"),{opacity:1})),ov=Hd("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:kf({"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"}},"> ".concat(tv,":not(:first-of-type)"),{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"})}}}),iv=Hd("div",kf(kf({position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2"},"".concat(ov," > &"),{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}}),"variants",{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}})),av=Hd(iv,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),lv=Hd("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),uv=Hd("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),cv=Hd("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),sv=Hd("div",{opacity:1,variants:{disabled:{true:kf({opacity:.6,pointerEvents:"none"},"& ".concat(cv),{pointerEvents:"auto"})}}}),fv=Hd("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),dv=Hd("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),vv=Hd(Cf,{fill:"$toolTipBackground"});function mv(e){var t=e.children,n=(0,r.useContext)(Pd).className;return r.createElement(Wo,{className:n},t)}var _v=["align"];function pv(){var e=Td(),t=e.id,n=e.disable,o=e.disabled;return r.createElement(r.Fragment,null,r.createElement(uv,{id:t+"__disable",type:"checkbox",checked:!o,onChange:function(){return n(!o)}}),r.createElement("label",{htmlFor:t+"__disable"}))}function hv(e){var t=Td(),n=t.id,o=t.optional,i=t.hint,a=e.htmlFor||(n?{htmlFor:n}:null),l=i||"string"!=typeof e.children?null:{title:e.children};return r.createElement(r.Fragment,null,o&&r.createElement(pv,null),void 0!==i?r.createElement(Af,null,r.createElement(Ef,{asChild:!0},r.createElement(cv,Id({},a,e))),r.createElement(Sf,{side:"top",sideOffset:2},r.createElement(dv,null,i,r.createElement(vv,null)))):r.createElement(cv,Id({},a,l,e)))}function bv(e){var t=e.align,n=Rf(e,_v),o=Td(),i=o.value,a=o.label,l=o.key,u=o.disabled,c=!(0,r.useContext)(kd).hideCopyButton&&void 0!==l,s=Of((0,r.useState)(!1),2),f=s[0],d=s[1],v=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bf(i,r,o,a,l,"next",e)}function l(e){Bf(i,r,o,a,l,"throw",e)}a(void 0)}))}}(Nf().mark((function e(){return Nf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(JSON.stringify(kf({},l,null!=i?i:"")));case 3:d(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Lf(xf.CLIPBOARD_ERROR,kf({},l,i));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(lv,{align:t,onPointerLeave:function(){return d(!1)}},r.createElement(hv,n),c&&!u&&r.createElement("div",{title:"Click to copy ".concat("string"==typeof a?a:l," value")},f?r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):r.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),r.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}var yv=["toggled"],gv=Hd("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function wv(e){var t=e.toggled,n=Rf(e,yv);return r.createElement(gv,Id({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(".concat(t?0:-90,"deg)")}},n),r.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}var xv=["input"];function Av(e){var t=e.input,n=Rf(e,xv);return t?r.createElement(av,n):r.createElement(iv,n)}function Ev(e){var t=e.value,n=e.type,o=e.settings,i=e.setValue,a=Of((0,r.useState)(Yf(n,t,o)),2),l=a[0],u=a[1],c=(0,r.useRef)(t),s=(0,r.useRef)(o);s.current=o;var f=(0,r.useCallback)((function(e){return u(Yf(n,e,s.current))}),[n]),d=(0,r.useCallback)((function(e){try{i(e)}catch(jt){var t=jt.type,n=jt.previousValue;if("LEVA_ERROR"!==t)throw jt;f(n)}}),[f,i]);return(0,r.useEffect)((function(){Jo(t,c.current)||f(t),c.current=t}),[t,f]),{displayValue:l,onChange:u,onUpdate:d}}function Sv(e,t){var n=Td(),r=n.emitOnEditStart,o=n.emitOnEditEnd;return zl((function(t){t.first&&(document.body.classList.add("leva__panel__dragged"),null==r||r());var n=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null==o||o()),n}),t)}function Cv(){var e=(0,r.useRef)(null),t=(0,r.useRef)({x:0,y:0}),n=(0,r.useCallback)((function(n){Object.assign(t.current,n),e.current&&(e.current.style.transform="translate3d(".concat(t.current.x,"px, ").concat(t.current.y,"px, 0)"))}),[]);return[e,n]}var Nv=["__refCount"],Bv=function(e,t){return e[t]?Rf(e[t],Nv):null};var Ov=Hd("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Mv=Hd("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Fv=Hd("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Iv=Hd("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Dv=Hd("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Tv(e){var t=e.value,n=e.min,o=e.max,i=e.onDrag,a=e.step,l=e.initialValue,u=(0,r.useRef)(null),c=(0,r.useRef)(null),s=(0,r.useRef)(0),f=Vd("sizes","scrubberWidth"),d=Sv((function(e){var r=e.event,d=e.first,v=Of(e.xy,1)[0],m=Of(e.movement,1)[0],_=e.memo;if(d){var p=u.current.getBoundingClientRect(),h=p.width,b=p.left;s.current=h-parseFloat(f),_=(null==r?void 0:r.target)===c.current?t:ad((v-b)/h,n,o)}var y=_+ad(m/s.current,0,o-n);return i(Md(y,{step:a,initialValue:l})),_})),v=id(t,n,o);return r.createElement(Iv,Id({ref:u},d()),r.createElement(Mv,null,r.createElement(Dv,{style:{left:0,right:"".concat(100*(1-v),"%")}})),r.createElement(Fv,{ref:c,style:{left:"calc(".concat(v," * (100% - ").concat(f,"))")}}))}var Pv=r.memo((function(e){var t=e.label,n=e.onUpdate,o=e.step,i=e.innerLabelTrim,a=Of((0,r.useState)(!1),2),l=a[0],u=a[1],c=Sv((function(e){var t=e.active,r=Of(e.delta,1)[0],i=e.event,a=e.memo,l=void 0===a?0:a,c=e.first,s=e.last,f=e.target;c&&f.requestPointerLock();return s&&document.exitPointerLock(),u(t),l+=r/2,Math.abs(l)>=1&&(n((function(e){return parseFloat(e)+Math.floor(l)*o*Sd(i)})),l=0),l}));return r.createElement(Qd,Id({dragging:l,title:t.length>1?t:""},c()),t.slice(0,i))}));function zv(e){var t=e.label,n=e.id,o=e.displayValue,i=e.onUpdate,a=e.onChange,l=e.settings,u=e.innerLabelTrim,c=void 0===u?1:u,s=c>0&&r.createElement(Pv,{label:t,step:l.step,onUpdate:i,innerLabelTrim:c});return r.createElement(ev,{id:n,value:String(o),onUpdate:i,onChange:a,innerLabel:s})}var kv=Fd.sanitizeStep,Rv=ed({component:function(){var e=Td(),t=e.label,n=e.value,o=e.onUpdate,i=e.settings,a=e.id,l=i.min,u=i.max!==1/0&&l!==-1/0;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(Ov,{hasRange:u},u&&r.createElement(Tv,Id({value:parseFloat(n),onDrag:o},i)),r.createElement(zv,Id({},e,{id:a,label:"value",innerLabelTrim:u?0:1}))))}},Rf(Fd,["sanitizeStep"])),jv=Object.freeze({__proto__:null,schema:function(e,t){return pi().schema({options:pi().passesAnyOf(pi().object(),pi().array())}).test(t)},sanitize:function(e,t){if(t.values.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},format:function(e,t){return t.values.indexOf(e)},normalize:function(e){var t,n,r=e.value,o=e.options;return Array.isArray(o)?(n=o,t=o.map((function(e){return String(e)}))):(n=Object.values(o),t=Object.keys(o)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(o).includes(r)||(o[String(r)]=r),{value:r,settings:{keys:t,values:n}}}}),Uv=Hd("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Lv=Hd("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Hv=Hd("div",kf(kf({display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer"},"".concat(Lv,":focus + &"),{$focusStyle:""}),"".concat(Lv,":hover + &"),{$hoverStyle:""}));function Gv(e){var t=e.displayValue,n=e.value,o=e.onUpdate,i=e.id,a=e.settings,l=e.disabled,u=a.keys,c=a.values,s=(0,r.useRef)();return n===c[t]&&(s.current=u[t]),r.createElement(Uv,null,r.createElement(Lv,{id:i,value:t,onChange:function(e){return o(c[Number(e.currentTarget.value)])},disabled:l},u.map((function(e,t){return r.createElement("option",{key:e,value:t},e)}))),r.createElement(Hv,null,s.current),r.createElement(wv,{toggled:!0}))}var Kv=ed({component:function(){var e=Td(),t=e.label,n=e.value,o=e.displayValue,i=e.onUpdate,a=e.id,l=e.disabled,u=e.settings;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(Gv,{id:a,value:n,displayValue:o,onUpdate:i,settings:u,disabled:l}))}},jv),Wv=Object.freeze({__proto__:null,schema:function(e){return pi().string().test(e)},sanitize:function(e){if("string"!=typeof e)throw Error("Invalid string");return e},normalize:function(e){var t=e.value,n=e.editable,r=void 0===n||n,o=e.rows,i=void 0!==o&&o;return{value:t,settings:{editable:r,rows:"number"==typeof i?i:i?5:0}}}}),Vv=["displayValue","onUpdate","onChange","editable"],Jv=Hd("div",{whiteSpace:"pre-wrap"});function $v(e){var t=e.displayValue,n=e.onUpdate,o=e.onChange,i=e.editable,a=void 0===i||i,l=Rf(e,Vv);return a?r.createElement(qd,Id({value:t,onUpdate:n,onChange:o},l)):r.createElement(Jv,null,t)}var Qv=ed({component:function(){var e=Td(),t=e.label,n=e.settings,o=e.displayValue,i=e.onUpdate,a=e.onChange;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement($v,Id({displayValue:o,onUpdate:i,onChange:a},n)))}},Wv),Xv=Object.freeze({__proto__:null,schema:function(e){return pi().boolean().test(e)},sanitize:function(e){if("boolean"!=typeof e)throw Error("Invalid boolean");return e}}),Yv=Hd("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Zv(e){var t=e.value,n=e.onUpdate,o=e.id,i=e.disabled;return r.createElement(Yv,null,r.createElement("input",{id:o,type:"checkbox",checked:t,onChange:function(e){return n(e.currentTarget.checked)},disabled:i}),r.createElement("label",{htmlFor:o},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var qv=ed({component:function(){var e=Td(),t=e.label,n=e.value,o=e.onUpdate,i=e.disabled,a=e.id;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(Zv,{value:n,onUpdate:o,id:a,disabled:i}))}},Xv),em=["locked"];function tm(e){var t=e.value,n=e.id,o=e.valueKey,i=e.settings,a=e.onUpdate,l=e.innerLabelTrim,u=(0,r.useRef)(t[o]);u.current=t[o];var c=(0,r.useCallback)((function(e){return a(kf({},o,Ad({type:"NUMBER",value:u.current,settings:i},e)))}),[a,i,o]),s=Ev({type:"NUMBER",value:t[o],settings:i,setValue:c});return r.createElement(zv,{id:n,label:o,value:t[o],displayValue:s.displayValue,onUpdate:s.onUpdate,onChange:s.onChange,settings:i,innerLabelTrim:l})}var nm=Hd("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function rm(e){var t=e.locked,n=Rf(e,em);return r.createElement("svg",Id({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?r.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):r.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function om(e){var t=e.value,n=e.onUpdate,o=e.settings,i=e.innerLabelTrim,a=Td(),l=a.id,u=a.setSettings,c=o.lock,s=o.locked;return r.createElement(nm,{withLock:c},c&&r.createElement(rm,{locked:s,onClick:function(){return u({locked:!s})}}),Object.keys(t).map((function(e,a){return r.createElement(tm,{id:0===a?l:"".concat(l,".").concat(e),key:e,valueKey:e,value:t,settings:o[e],onUpdate:n,innerLabelTrim:i})})))}var im=function(e,t){var n={},r=0,o=1/0;for(var i in Object.entries(e).forEach((function(e){var i=Of(e,2),a=i[0],l=i[1];n[a]=Od(ed({value:l},t[a])).settings,r=Math.max(r,n[a].step),o=Math.min(o,n[a].pad)})),n){var a=t[i]||{},l=a.step,u=a.min,c=a.max;isFinite(l)||isFinite(u)&&isFinite(c)||(n[i].step=r,n[i].pad=o)}return n},am=["lock"],lm=["value"];function um(e){var t=pi().array().length(e).every.number();return function(n){return t.test(n)||function(t){if(!t||"object"!==Mf(t))return!1;var n=Object.values(t);return n.length===e&&n.every((function(e){return isFinite(e)}))}(n)}}function cm(e,t,n){return function(e){return Array.isArray(e)?"array":"object"}(e)===t?e:"array"===t?Object.values(e):function(e,t){return e.reduce((function(e,n,r){return Object.assign(e,kf({},t[r],n))}),{})}(e,n)}function sm(e){return{schema:um(e.length),normalize:function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.lock,o=void 0!==r&&r,i=Rf(t,am),a=Array.isArray(e)?"array":"object",l="object"===a?Object.keys(e):n,u=cm(e,"object",l),c=function(e){return!!e&&("step"in e||"min"in e||"max"in e)}(i)?l.reduce((function(e,t){return Object.assign(e,kf({},t,i))}),{}):i;return{value:"array"===a?e:u,settings:ed(ed({},im(u,c)),{},{format:a,keys:l,lock:o,locked:!1})}}(t.value,Rf(t,lm),e)},format:function(e,t){return function(e,t){return cm(e,"object",t.keys)}(e,t)},sanitize:function(e,t,n){return function(e,t,n){var r=cm(e,"object",t.keys);for(var o in r)r[o]=Bd(r[o],t[o]);var i=Object.keys(r),a={};if(i.length===t.keys.length)a=r;else{var l=cm(n,"object",t.keys);if(1===i.length&&t.locked){var u=i[0],c=r[u],s=l[u],f=0!==s?c/s:1;for(var d in l)d===u?a[u]=c:a[d]=l[d]*f}else a=ed(ed({},l),r)}return cm(a,t.format,t.keys)}(e,t,n)}}}var fm={grad:.9,turn:360,rad:360/(2*Math.PI)},dm=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},vm=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},mm=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},_m=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},pm=function(e){return{r:mm(e.r,0,255),g:mm(e.g,0,255),b:mm(e.b,0,255),a:mm(e.a)}},hm=function(e){return{r:vm(e.r),g:vm(e.g),b:vm(e.b),a:vm(e.a,3)}},bm=/^#([0-9a-f]{3,8})$/i,ym=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},gm=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),l=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(l<0?l+6:l),s:i?a/i*100:0,v:i/255*100,a:o}},wm=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),l=r*(1-(t-i)*n),u=r*(1-(1-t+i)*n),c=i%6;return{r:255*[r,l,a,a,u,r][c],g:255*[u,r,r,l,a,a][c],b:255*[a,a,u,r,r,l][c],a:o}},xm=function(e){return{h:_m(e.h),s:mm(e.s,0,100),l:mm(e.l,0,100),a:mm(e.a)}},Am=function(e){return{h:vm(e.h),s:vm(e.s),l:vm(e.l),a:vm(e.a,3)}},Em=function(e){return wm((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Sm=function(e){return{h:(t=gm(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},Cm=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Nm=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bm=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Om=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mm={string:[[function(e){var t=bm.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?vm(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?vm(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Bm.exec(e)||Om.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:pm({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Cm.exec(e)||Nm.exec(e);if(!t)return null;var n,r,o=xm({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(fm[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Em(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=void 0===o?1:o;return dm(t)&&dm(n)&&dm(r)?pm({r:Number(t),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,i=void 0===o?1:o;if(!dm(t)||!dm(n)||!dm(r))return null;var a=xm({h:Number(t),s:Number(n),l:Number(r),a:Number(i)});return Em(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,i=void 0===o?1:o;if(!dm(t)||!dm(n)||!dm(r))return null;var a=function(e){return{h:_m(e.h),s:mm(e.s,0,100),v:mm(e.v,0,100),a:mm(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(i)});return wm(a)},"hsv"]]},Fm=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Im=function(e){return"string"==typeof e?Fm(e.trim(),Mm.string):"object"==typeof e&&null!==e?Fm(e,Mm.object):[null,void 0]},Dm=function(e,t){var n=Sm(e);return{h:n.h,s:mm(n.s+100*t,0,100),l:n.l,a:n.a}},Tm=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Pm=function(e,t){var n=Sm(e);return{h:n.h,s:n.s,l:mm(n.l+100*t,0,100),a:n.a}},zm=function(){function e(e){this.parsed=Im(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return vm(Tm(this.rgba),2)},e.prototype.isDark=function(){return Tm(this.rgba)<.5},e.prototype.isLight=function(){return Tm(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=hm(this.rgba)).r,n=e.g,r=e.b,i=(o=e.a)<1?ym(vm(255*o)):"","#"+ym(t)+ym(n)+ym(r)+i;var e,t,n,r,o,i},e.prototype.toRgb=function(){return hm(this.rgba)},e.prototype.toRgbString=function(){return t=(e=hm(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},e.prototype.toHsl=function(){return Am(Sm(this.rgba))},e.prototype.toHslString=function(){return t=(e=Am(Sm(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},e.prototype.toHsv=function(){return e=gm(this.rgba),{h:vm(e.h),s:vm(e.s),v:vm(e.v),a:vm(e.a,3)};var e},e.prototype.invert=function(){return km({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),km(Dm(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),km(Dm(this.rgba,-e))},e.prototype.grayscale=function(){return km(Dm(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),km(Pm(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),km(Pm(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?km({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):vm(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Sm(this.rgba);return"number"==typeof e?km({h:e,s:t.s,l:t.l,a:t.a}):vm(t.h)},e.prototype.isEqual=function(e){return this.toHex()===km(e).toHex()},e}(),km=function(e){return e instanceof zm?e:new zm(e)},Rm=[];function jm(){return(jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Um(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Lm(e){var t=(0,r.useRef)(e),n=(0,r.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var Hm=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},Gm=function(e){return"touches"in e},Km=function(e){return e&&e.ownerDocument.defaultView||self},Wm=function(e,t,n){var r=e.getBoundingClientRect(),o=Gm(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:Hm((o.pageX-(r.left+Km(e).pageXOffset))/r.width),top:Hm((o.pageY-(r.top+Km(e).pageYOffset))/r.height)}},Vm=function(e){!Gm(e)&&e.preventDefault()},Jm=r.memo((function(e){var t=e.onMove,n=e.onKey,o=Um(e,["onMove","onKey"]),i=(0,r.useRef)(null),a=Lm(t),l=Lm(n),u=(0,r.useRef)(null),c=(0,r.useRef)(!1),s=(0,r.useMemo)((function(){var e=function(e){Vm(e),(Gm(e)?e.touches.length>0:e.buttons>0)&&i.current?a(Wm(i.current,e,u.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=c.current,o=Km(i.current),a=n?o.addEventListener:o.removeEventListener;a(r?"touchmove":"mousemove",e),a(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(Vm(t),!function(e,t){return t&&!Gm(e)}(t,c.current)&&r)){if(Gm(t)){c.current=!0;var o=t.changedTouches||[];o.length&&(u.current=o[0].identifier)}r.focus(),a(Wm(r,t,u.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),l({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[l,a]),f=s[0],d=s[1],v=s[2];return(0,r.useEffect)((function(){return v}),[v]),r.createElement("div",jm({},o,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))})),$m=function(e){return e.filter(Boolean).join(" ")},Qm=function(e){var t=e.color,n=e.left,o=e.top,i=void 0===o?.5:o,a=$m(["react-colorful__pointer",e.className]);return r.createElement("div",{className:a,style:{top:100*i+"%",left:100*n+"%"}},r.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Xm=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},Ym=(Math.PI,function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Xm(e.h),s:Xm(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Xm(o/2),a:Xm(r,2)}}),Zm=function(e){var t=Ym(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},qm=function(e){var t=Ym(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},e_=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),l=r*(1-(t-i)*n),u=r*(1-(1-t+i)*n),c=i%6;return{r:Xm(255*[r,l,a,a,u,r][c]),g:Xm(255*[u,r,r,l,a,a][c]),b:Xm(255*[a,a,u,r,r,l][c]),a:Xm(o,2)}},t_=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),l=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:Xm(60*(l<0?l+6:l)),s:Xm(i?a/i*100:0),v:Xm(i/255*100),a:o}},n_=r.memo((function(e){var t=e.hue,n=e.onChange,o=$m(["react-colorful__hue",e.className]);return r.createElement("div",{className:o},r.createElement(Jm,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:Hm(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":Xm(t),"aria-valuemax":"360","aria-valuemin":"0"},r.createElement(Qm,{className:"react-colorful__hue-pointer",left:t/360,color:Zm({h:t,s:100,v:100,a:1})})))})),r_=r.memo((function(e){var t=e.hsva,n=e.onChange,o={backgroundColor:Zm({h:t.h,s:100,v:100,a:1})};return r.createElement("div",{className:"react-colorful__saturation",style:o},r.createElement(Jm,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:Hm(t.s+100*e.left,0,100),v:Hm(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Xm(t.s)+"%, Brightness "+Xm(t.v)+"%"},r.createElement(Qm,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Zm(t)})))})),o_=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function i_(e,t,n){var o=Lm(n),i=(0,r.useState)((function(){return e.toHsva(t)})),a=i[0],l=i[1],u=(0,r.useRef)({color:t,hsva:a});(0,r.useEffect)((function(){if(!e.equal(t,u.current.color)){var n=e.toHsva(t);u.current={hsva:n,color:t},l(n)}}),[t,e]),(0,r.useEffect)((function(){var t;o_(a,u.current.hsva)||e.equal(t=e.fromHsva(a),u.current.color)||(u.current={hsva:a,color:t},o(t))}),[a,e,o]);var c=(0,r.useCallback)((function(e){l((function(t){return Object.assign({},t,e)}))}),[]);return[a,c]}var a_,l_="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,u_=new Map,c_=function(e){l_((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!u_.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',u_.set(t,r);var o=a_||n.nc;o&&r.setAttribute("nonce",o),t.head.appendChild(r)}}),[])},s_=function(e){var t=e.className,n=e.colorModel,o=e.color,i=void 0===o?n.defaultColor:o,a=e.onChange,l=Um(e,["className","colorModel","color","onChange"]),u=(0,r.useRef)(null);c_(u);var c=i_(n,i,a),s=c[0],f=c[1],d=$m(["react-colorful",t]);return r.createElement("div",jm({},l,{ref:u,className:d}),r.createElement(r_,{hsva:s,onChange:f}),r.createElement(n_,{hue:s.h,onChange:f,className:"react-colorful__last-control"}))},f_=function(e){var t=e.className,n=e.hsva,o=e.onChange,i={backgroundImage:"linear-gradient(90deg, "+qm(Object.assign({},n,{a:0}))+", "+qm(Object.assign({},n,{a:1}))+")"},a=$m(["react-colorful__alpha",t]),l=Xm(100*n.a);return r.createElement("div",{className:a},r.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),r.createElement(Jm,{onMove:function(e){o({a:e.left})},onKey:function(e){o({a:Hm(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":l+"%","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},r.createElement(Qm,{className:"react-colorful__alpha-pointer",left:n.a,color:qm(n)})))},d_=function(e){var t=e.className,n=e.colorModel,o=e.color,i=void 0===o?n.defaultColor:o,a=e.onChange,l=Um(e,["className","colorModel","color","onChange"]),u=(0,r.useRef)(null);c_(u);var c=i_(n,i,a),s=c[0],f=c[1],d=$m(["react-colorful",t]);return r.createElement("div",jm({},l,{ref:u,className:d}),r.createElement(r_,{hsva:s,onChange:f}),r.createElement(n_,{hue:s.h,onChange:f}),r.createElement(f_,{hsva:s,onChange:f,className:"react-colorful__last-control"}))},v_={defaultColor:{r:0,g:0,b:0,a:1},toHsva:t_,fromHsva:e_,equal:o_},m_=function(e){return r.createElement(d_,jm({},e,{colorModel:v_}))},__={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return t_({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=e_(e)).r,g:t.g,b:t.b};var t},equal:o_},p_=function(e){return r.createElement(s_,jm({},e,{colorModel:__}))},h_=n(8314),b_=n.n(h_);function y_(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function l(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))}function g_(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(u){l=[6,u],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}Object.create;function w_(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(jt){o={error:jt}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create;var x_=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function A_(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=x_.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function E_(e){return E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(e)}var S_=[".DS_Store","Thumbs.db"];function C_(e){return"object"===E_(e)&&null!==e}function N_(e){return F_(e.target.files).map((function(e){return A_(e)}))}function B_(e){return y_(this,void 0,void 0,(function(){return g_(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return A_(e)}))]}}))}))}function O_(e,t){return y_(this,void 0,void 0,(function(){var n;return g_(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=F_(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(I_))]):[3,2];case 1:return[2,M_(D_(r.sent()))];case 2:return[2,M_(F_(e.files).map((function(e){return A_(e)})))]}}))}))}function M_(e){return e.filter((function(e){return-1===S_.indexOf(e.name)}))}function F_(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function I_(e){if("function"!=typeof e.webkitGetAsEntry)return T_(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?z_(t):T_(e)}function D_(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w_(arguments[t]));return e}(e,Array.isArray(t)?D_(t):[t])}),[])}function T_(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=A_(t);return Promise.resolve(n)}function P_(e){return y_(this,void 0,void 0,(function(){return g_(this,(function(t){return[2,e.isDirectory?z_(e):k_(e)]}))}))}function z_(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var i=this;t.readEntries((function(t){return y_(i,void 0,void 0,(function(){var i,a,l;return g_(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return i=u.sent(),e(i),[3,4];case 3:return a=u.sent(),n(a),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(P_)),r.push(l),o(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function k_(e){return y_(this,void 0,void 0,(function(){return g_(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=A_(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var R_=n(889);function j_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j_(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K_="file-invalid-type",W_="file-too-large",V_="file-too-small",J_="too-many-files",$_=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:K_,message:"File type must be ".concat(t)}},Q_=function(e){return{code:W_,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},X_=function(e){return{code:V_,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Y_={code:J_,message:"Too many files"};function Z_(e,t){var n="application/x-moz-file"===e.type||(0,R_.A)(e,t);return[n,n?null:$_(t)]}function q_(e,t,n){if(ep(e.size))if(ep(t)&&ep(n)){if(e.size>n)return[!1,Q_(n)];if(e.size<t)return[!1,X_(t)]}else{if(ep(t)&&e.size<t)return[!1,X_(t)];if(ep(n)&&e.size>n)return[!1,Q_(n)]}return[!0,null]}function ep(e){return null!=e}function tp(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function np(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function rp(e){e.preventDefault()}function op(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return!tp(e)&&t&&t.apply(void 0,[e].concat(r)),tp(e)}))}}function ip(e){return e="string"==typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return U_(U_({},e),{},L_({},t,[]))}),{}):{}}]}var ap=["children"],lp=["open"],up=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],cp=["refKey","onChange","onClick"];function sp(e){return function(e){if(Array.isArray(e))return vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||dp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dp(e,t){if(e){if("string"==typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vp(e,t):void 0}}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(n),!0).forEach((function(t){pp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var bp=(0,r.forwardRef)((function(e,t){var n=e.children,o=wp(hp(e,ap)),i=o.open,a=hp(o,lp);return(0,r.useImperativeHandle)(t,(function(){return{open:i}}),[i]),r.createElement(r.Fragment,null,n(_p(_p({},a),{},{open:i})))}));bp.displayName="Dropzone";var yp={disabled:!1,getFilesFromEvent:function(e){return y_(this,void 0,void 0,(function(){return g_(this,(function(t){return C_(e)&&C_(e.dataTransfer)?[2,O_(e.dataTransfer,e.type)]:function(e){return C_(e)&&C_(e.target)}(e)?[2,N_(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"==typeof e.getFile}))?[2,B_(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};bp.defaultProps=yp,bp.propTypes={children:b_().func,accept:b_().oneOfType([b_().string,b_().arrayOf(b_().string)]),multiple:b_().bool,preventDropOnDocument:b_().bool,noClick:b_().bool,noKeyboard:b_().bool,noDrag:b_().bool,noDragEventsBubbling:b_().bool,minSize:b_().number,maxSize:b_().number,maxFiles:b_().number,disabled:b_().bool,getFilesFromEvent:b_().func,onFileDialogCancel:b_().func,onFileDialogOpen:b_().func,useFsAccessApi:b_().bool,onDragEnter:b_().func,onDragLeave:b_().func,onDragOver:b_().func,onDrop:b_().func,onDropAccepted:b_().func,onDropRejected:b_().func,validator:b_().func};var gp={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function wp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_p(_p({},yp),e),n=t.accept,o=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,l=t.minSize,u=t.multiple,c=t.maxFiles,s=t.onDragEnter,f=t.onDragLeave,d=t.onDragOver,v=t.onDrop,m=t.onDropAccepted,_=t.onDropRejected,p=t.onFileDialogCancel,h=t.onFileDialogOpen,b=t.useFsAccessApi,y=t.preventDropOnDocument,g=t.noClick,w=t.noKeyboard,x=t.noDrag,A=t.noDragEventsBubbling,E=t.validator,S=(0,r.useMemo)((function(){return"function"==typeof h?h:Ap}),[h]),C=(0,r.useMemo)((function(){return"function"==typeof p?p:Ap}),[p]),N=(0,r.useRef)(null),B=(0,r.useRef)(null),O=fp((0,r.useReducer)(xp,gp),2),M=O[0],F=O[1],I=M.isFocused,D=M.isFileDialogActive,T=M.draggedFiles,P=(0,r.useRef)("undefined"!=typeof window&&window.isSecureContext&&b&&"showOpenFilePicker"in window),z=function(){!P.current&&D&&setTimeout((function(){B.current&&(B.current.files.length||(F({type:"closeDialog"}),C()))}),300)};(0,r.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[B,D,C,P]);var k=(0,r.useRef)([]),R=function(e){N.current&&N.current.contains(e.target)||(e.preventDefault(),k.current=[])};(0,r.useEffect)((function(){return y&&(document.addEventListener("dragover",rp,!1),document.addEventListener("drop",R,!1)),function(){y&&(document.removeEventListener("dragover",rp),document.removeEventListener("drop",R))}}),[N,y]);var j=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Z(e),k.current=[].concat(sp(k.current),[e.target]),np(e)&&Promise.resolve(i(e)).then((function(t){tp(e)&&!A||(F({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),s&&s(e))}))}),[i,s,A]),U=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Z(e);var t=np(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&d&&d(e),!1}),[d,A]),L=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Z(e);var t=k.current.filter((function(e){return N.current&&N.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),k.current=t,t.length>0||(F({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),np(e)&&f&&f(e))}),[N,f,A]),H=(0,r.useCallback)((function(e,t){var r=[],o=[];e.forEach((function(e){var t=fp(Z_(e,n),2),i=t[0],u=t[1],c=fp(q_(e,l,a),2),s=c[0],f=c[1],d=E?E(e):null;if(i&&s&&!d)r.push(e);else{var v=[u,f];d&&(v=v.concat(d)),o.push({file:e,errors:v.filter((function(e){return e}))})}})),(!u&&r.length>1||u&&c>=1&&r.length>c)&&(r.forEach((function(e){o.push({file:e,errors:[Y_]})})),r.splice(0)),F({acceptedFiles:r,fileRejections:o,type:"setFiles"}),v&&v(r,o,t),o.length>0&&_&&_(o,t),r.length>0&&m&&m(r,t)}),[F,u,n,l,a,c,v,m,_,E]),G=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Z(e),k.current=[],np(e)&&Promise.resolve(i(e)).then((function(t){tp(e)&&!A||H(t,e)})),F({type:"reset"})}),[i,H,A]),K=(0,r.useCallback)((function(){if(P.current){F({type:"openDialog"}),S();var e={multiple:u,types:ip(n)};window.showOpenFilePicker(e).then((function(e){return i(e)})).then((function(e){H(e,null),F({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)&&(P.current=!1,B.current&&(B.current.value=null,B.current.click())):(C(e),F({type:"closeDialog"}))}))}else B.current&&(F({type:"openDialog"}),S(),B.current.value=null,B.current.click())}),[F,S,C,b,H,n,u]),W=(0,r.useCallback)((function(e){N.current&&N.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))}),[N,K]),V=(0,r.useCallback)((function(){F({type:"focus"})}),[]),J=(0,r.useCallback)((function(){F({type:"blur"})}),[]),$=(0,r.useCallback)((function(){g||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?K():setTimeout(K,0))}),[g,K]),Q=function(e){return o?null:e},X=function(e){return w?null:Q(e)},Y=function(e){return x?null:Q(e)},Z=function(e){A&&e.stopPropagation()},q=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,i=e.onKeyDown,a=e.onFocus,l=e.onBlur,u=e.onClick,c=e.onDragEnter,s=e.onDragOver,f=e.onDragLeave,d=e.onDrop,v=hp(e,up);return _p(_p(pp({onKeyDown:X(op(i,W)),onFocus:X(op(a,V)),onBlur:X(op(l,J)),onClick:Q(op(u,$)),onDragEnter:Y(op(c,j)),onDragOver:Y(op(s,U)),onDragLeave:Y(op(f,L)),onDrop:Y(op(d,G)),role:"string"==typeof r&&""!==r?r:"button"},n,N),o||w?{}:{tabIndex:0}),v)}}),[N,W,V,J,$,j,U,L,G,w,x,o]),ee=(0,r.useCallback)((function(e){e.stopPropagation()}),[]),te=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,o=e.onChange,i=e.onClick,a=hp(e,cp);return _p(_p({},pp({accept:n,multiple:u,type:"file",style:{display:"none"},onChange:Q(op(o,G)),onClick:Q(op(i,ee)),tabIndex:-1},r,B)),a)}}),[B,n,u,G,o]),ne=T.length,re=ne>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,i=e.multiple,a=e.maxFiles;return!(!i&&t.length>1||i&&a>=1&&t.length>a)&&t.every((function(e){var t=H_(Z_(e,n),1)[0],i=H_(q_(e,r,o),1)[0];return t&&i}))}({files:T,accept:n,minSize:l,maxSize:a,multiple:u,maxFiles:c}),oe=ne>0&&!re;return _p(_p({},M),{},{isDragAccept:re,isDragReject:oe,isFocused:I&&!o,getRootProps:q,getInputProps:te,rootRef:N,inputRef:B,open:Q(K)})}function xp(e,t){switch(t.type){case"focus":return _p(_p({},e),{},{isFocused:!0});case"blur":return _p(_p({},e),{},{isFocused:!1});case"openDialog":return _p(_p({},gp),{},{isFileDialogActive:!0});case"closeDialog":return _p(_p({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return _p(_p({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return _p(_p({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return _p({},gp);default:return e}}function Ap(){}function Ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cp(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(o!==t){var i=t;t=r?o:Object.assign({},t,o),n.forEach((function(e){return e(t,i)}))}},o=function(){return t},i={setState:r,getState:o,subscribe:function(e,r,i){return r||i?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function l(){var n=r(t);if(!i(a,n)){var o=a;e(a=n,o)}}return n.add(l),function(){return n.delete(l)}}(e,r,i):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,o,i),i}var Np="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Bp=n(8692),Op=n(4445),Mp=n.n(Op);function Fp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ip(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ip(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ip(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ip(e){return Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(e)}function Dp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Tp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){if(e){if("string"==typeof e)return Pp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pp(e,t):void 0}}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var zp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(".")};function kp(e,t){return(0,r.useMemo)(e,(n=t,o=!0,i=(0,r.useRef)(),(o?Jo:Qo)(n,i.current)||(i.current=n),i.current));var n,o,i}function Rp(e,t,n){var r=e.useStore((function(e){return function(e,t){return Object.entries((n=e,r=t,r.reduce((function(e,t){return n&&n.hasOwnProperty(t)&&(e[t]=n[t]),e}),{}))).reduce((function(e,t){var n=Dp(t,2)[1],r=n.value,o=n.disabled;return e[n.key]=o?void 0:r,e}),{});var n,r}(ed(ed({},n),e.data),t)}),Qo);return r}function jp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=(0,r.useRef)(null),n=(0,r.useRef)(null),o=Dp((0,r.useState)(!1),2),i=o[0],a=o[1],l=(0,r.useCallback)((function(){return a(!0)}),[]),u=(0,r.useCallback)((function(){return a(!1)}),[]);return(0,r.useLayoutEffect)((function(){if(i){var r=t.current.getBoundingClientRect(),o=r.bottom,a=r.top,l=r.left,u=o+n.current.getBoundingClientRect().height>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=l+"px","down"===u?n.current.style.top=o+e+"px":n.current.style.bottom=window.innerHeight-a+e+"px"}}),[e,i]),{popinRef:t,wrapperRef:n,shown:i,show:l,hide:u}}!function(e){e.forEach((function(e){Rm.indexOf(e)<0&&(e(zm,Mm),Rm.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var i={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,a,l=r[this.toHex()];if(l)return l;if(null==t?void 0:t.closest){var u=this.toRgb(),c=1/0,s="black";if(!i.length)for(var f in n)i[f]=new e(n[f]).toRgb();for(var d in n){var v=(o=u,a=i[d],Math.pow(o.r-a.r,2)+Math.pow(o.g-a.g,2)+Math.pow(o.b-a.b,2));v<c&&(c=v,s=d)}return s}},t.string.push([function(t){var r=t.toLowerCase(),o="transparent"===r?"#0000":n[r];return o?new e(o).toRgb():null},"name"])}]);var Up={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};pi.extend({color:function(){return function(e){return km(e).isValid()}}});function Lp(e,t){var n,r,o,i=t.format,a=t.hasAlpha,l=t.isString,u=e[Up[i]+(l&&"hex"!==i?"String":"")]();return"object"!==Ip(u)||a?u:(r=["a"],o=ed({},n=u),r.forEach((function(e){return e in n&&delete o[e]})),o)}var Hp=function(e,t){var n=km(e);if(!n.isValid())throw Error("Invalid color");return Lp(n,t)},Gp=Object.freeze({__proto__:null,schema:function(e){return pi().color().test(e)},sanitize:Hp,format:function(e,t){return Lp(km(e),ed(ed({},t),{},{isString:!0,format:"hex"}))},normalize:function(e){var t=e.value,n=function(e){return Im(e)[1]}(t),r={format:"name"===n?"hex":n,hasAlpha:"object"===Ip(t)?"a"in t:"hex"===n&&8===t.length||/^(rgba)|(hsla)|(hsva)/.test(t),isString:"string"==typeof t};return{value:Hp(t,r),settings:r}}}),Kp=Hd("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Wp=Hd("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Vp=Hd("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function Jp(e,t){return"rgb"!==t?km(e).toRgb():e}function $p(e){var t=e.value,n=e.displayValue,o=e.settings,i=e.onUpdate,a=Td(),l=a.emitOnEditStart,u=a.emitOnEditEnd,c=o.format,s=o.hasAlpha,f=jp(),d=f.popinRef,v=f.wrapperRef,m=f.shown,_=f.show,p=f.hide,h=(0,r.useRef)(0),b=Dp((0,r.useState)((function(){return Jp(t,c)})),2),y=b[0],g=b[1],w=s?m_:p_,x=function(){p(),u(),window.clearTimeout(h.current)};return(0,r.useEffect)((function(){return function(){return window.clearTimeout(h.current)}}),[]),r.createElement(r.Fragment,null,r.createElement(Kp,{ref:d,active:m,onClick:function(){return g(Jp(t,c)),_(),void l()},style:{color:n}}),m&&r.createElement(mv,null,r.createElement(fv,{onPointerUp:x}),r.createElement(Vp,{ref:v,onMouseEnter:function(){return window.clearTimeout(h.current)},onMouseLeave:function(e){return 0===e.buttons&&void(h.current=window.setTimeout(x,500))}},r.createElement(w,{color:y,onChange:i}))))}var Qp=ed({component:function(){var e=Td(),t=e.value,n=e.displayValue,o=e.label,i=e.onChange,a=e.onUpdate,l=e.settings;return r.createElement(Av,{input:!0},r.createElement(bv,null,o),r.createElement(Wp,null,r.createElement($p,{value:t,displayValue:n,onChange:i,onUpdate:a,settings:l}),r.createElement(qd,{value:n,onChange:i,onUpdate:a})))}},Gp);var Xp=ed({component:function(){var e=Td(),t=e.label,n=e.displayValue,o=e.onUpdate,i=e.settings;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(om,{value:n,settings:i,onUpdate:o}))}},sm(["x","y","z"])),Yp=Hd("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Zp=Hd("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function qp(e){var t=e.value,n=e.settings,o=e.onUpdate,i=(0,r.useRef)(),a=(0,r.useRef)(0),l=(0,r.useRef)(0),u=(0,r.useRef)(1),c=Dp((0,r.useState)(!1),2),s=c[0],f=c[1],d=Dp((0,r.useState)(!1),2),v=d[0],m=d[1],_=Dp(Cv(),2),p=_[0],h=_[1],b=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,r.useLayoutEffect)((function(){if(s){var e=b.current.getBoundingClientRect(),t=e.top,n=e.left,r=e.width,o=e.height;y.current.style.left=n+r/2+"px",y.current.style.top=t+o/2+"px"}}),[s]);var g=Dp(n.keys,2),w=g[0],x=g[1],A="invertY"===n.joystick?1:-1,E=n[w].step,S=n[x].step,C=Vd("sizes","joystickWidth"),N=Vd("sizes","joystickHeight"),B=.8*parseFloat(C)/2,O=.8*parseFloat(N)/2,M=(0,r.useCallback)((function(){i.current||(m(!0),a.current&&h({x:a.current*B}),l.current&&h({y:l.current*-O}),i.current=window.setInterval((function(){o((function(e){var t=E*a.current*u.current,n=A*S*l.current*u.current;return Array.isArray(e)?Fp(Fp({},w,e[0]+t),x,e[1]+n):Fp(Fp({},w,e[w]+t),x,e[x]+n)}))}),16))}),[B,O,o,h,E,S,w,x,A]),F=(0,r.useCallback)((function(){window.clearTimeout(i.current),i.current=void 0,m(!1)}),[]);(0,r.useEffect)((function(){function e(e){u.current=Sd(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),function(){window.clearTimeout(i.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}}),[]);var I=Sv((function(e){var n=e.first,r=e.active,i=Dp(e.delta,2),c=i[0],s=i[1],d=Dp(e.movement,2),v=d[0],m=d[1];n&&f(!0);var _=td(v,-B,B),p=td(m,-O,O);a.current=Math.abs(v)>Math.abs(_)?Math.sign(v-_):0,l.current=Math.abs(m)>Math.abs(p)?Math.sign(p-m):0;var b=t[w],y=t[x];r?(a.current||(b+=c*E*u.current,h({x:_})),l.current||(y-=A*s*S*u.current,h({y:p})),a.current||l.current?M():F(),o(Fp(Fp({},w,b),x,y))):(f(!1),a.current=0,l.current=0,h({x:0,y:0}),F())}));return r.createElement(Yp,Id({ref:b},I()),s&&r.createElement(mv,null,r.createElement(Zp,{ref:y,isOutOfBounds:v},r.createElement("div",null),r.createElement("span",{ref:p}))))}var eh=Hd("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});var th=["joystick"],nh=sm(["x","y"]),rh=ed(ed({component:function(){var e=Td(),t=e.label,n=e.displayValue,o=e.onUpdate,i=e.settings;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(eh,{withJoystick:!!i.joystick},i.joystick&&r.createElement(qp,{value:n,settings:i,onUpdate:o}),r.createElement(om,{value:n,settings:i,onUpdate:o})))}},nh),{},{normalize:function(e){var t=e.joystick,n=void 0===t||t,r=Rf(e,th),o=nh.normalize(r);return{value:o.value,settings:ed(ed({},o.settings),{},{joystick:n})}}}),oh=Object.freeze({__proto__:null,sanitize:function(e){if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(t){return}if("string"==typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob | File].")}},schema:function(e,t){return"object"===Ip(t)&&"image"in t},normalize:function(e){return{value:e.image}}}),ih=Hd("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),ah=Hd("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),lh=Hd("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),uh=Hd("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),ch=Hd("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),sh=Hd("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var fh=ed({component:function(){var e=Td(),t=e.label,n=e.value,o=e.onUpdate,i=e.disabled,a=jp(),l=a.popinRef,u=a.wrapperRef,c=a.shown,s=a.show,f=a.hide,d=(0,r.useCallback)((function(e){e.length&&o(e[0])}),[o]),v=(0,r.useCallback)((function(e){e.stopPropagation(),o(void 0)}),[o]),m=wp({maxFiles:1,accept:"image/*",onDrop:d,disabled:i}),_=m.getRootProps,p=m.getInputProps,h=m.isDragAccept;return r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(ih,null,r.createElement(lh,{ref:l,hasImage:!!n,onPointerDown:function(){return!!n&&s()},onPointerUp:f,style:{backgroundImage:n?"url(".concat(n,")"):"none"}}),c&&!!n&&r.createElement(mv,null,r.createElement(fv,{onPointerUp:f,style:{cursor:"pointer"}}),r.createElement(uh,{ref:u,style:{backgroundImage:"url(".concat(n,")")}})),r.createElement(ah,_({isDragAccept:h}),r.createElement("input",p()),r.createElement(ch,null,h?"drop image":"click or drop")),r.createElement(sh,{onClick:v,disabled:!n})))}},oh),dh=pi().number(),vh=function(e){return{min:e[0],max:e[1]}},mh=function(e,t,n){var r=Dp(t.bounds,2),o=r[0],i=r[1],a=Array.isArray(e)?vh(e):e,l=ed(ed({},{min:n[0],max:n[1]}),a),u=l.min,c=l.max;return[td(Number(u),o,Math.max(o,c)),td(Number(c),Math.min(i,u),i)]},_h=Object.freeze({__proto__:null,schema:function(e,t){return pi().array().length(2).every.number().test(e)&&pi().schema({min:dh,max:dh}).test(t)},format:vh,sanitize:mh,normalize:function(e){var t=e.value,n=e.min,r=e.max,o={min:n,max:r},i=[n,r],a=ed(ed({},im(vh(t),{min:o,max:o})),{},{bounds:i});return{value:mh(vh(t),a,t),settings:a}}}),ph=["value","bounds","onDrag"],hh=["bounds"],bh=Hd("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function yh(e){var t=e.value,n=Dp(e.bounds,2),o=n[0],i=n[1],a=e.onDrag,l=Rf(e,ph),u=(0,r.useRef)(null),c=(0,r.useRef)(null),s=(0,r.useRef)(null),f=(0,r.useRef)(0),d=Vd("sizes","scrubberWidth"),v=Sv((function(e){var n=e.event,r=e.first,v=Dp(e.xy,1)[0],m=Dp(e.movement,1)[0],_=e.memo,p=void 0===_?{}:_;if(r){var h=u.current.getBoundingClientRect(),b=h.width,y=h.left;f.current=b-parseFloat(d);var g=(null==n?void 0:n.target)===c.current||(null==n?void 0:n.target)===s.current;p.pos=ad((v-y)/b,o,i);var w=Math.abs(p.pos-t.min)-Math.abs(p.pos-t.max);p.key=w<0||0===w&&p.pos<=t.min?"min":"max",g&&(p.pos=t[p.key])}var x=p.pos+ad(m/f.current,0,i-o);return a(Fp({},p.key,kv(x,l[p.key]))),p})),m="calc(".concat(id(t.min,o,i)," * (100% - ").concat(d," - 8px) + 4px)"),_="calc(".concat(1-id(t.max,o,i)," * (100% - ").concat(d," - 8px) + 4px)");return r.createElement(Iv,Id({ref:u},v()),r.createElement(Mv,null,r.createElement(Dv,{style:{left:m,right:_}})),r.createElement(Fv,{position:"left",ref:c,style:{left:m}}),r.createElement(Fv,{position:"right",ref:s,style:{right:_}}))}var gh=ed({component:function(){var e=Td(),t=e.label,n=e.displayValue,o=e.onUpdate,i=e.settings,a=Rf(i,hh);return r.createElement(r.Fragment,null,r.createElement(Av,{input:!0},r.createElement(bv,null,t),r.createElement(bh,null,r.createElement(yh,Id({value:n},i,{onDrag:o})),r.createElement(om,{value:n,settings:a,onUpdate:o,innerLabelTrim:0}))))}},_h),wh=function(){var e=new Map;return{on:function(t,n){var r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off:function(t,n){var r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit:function(t){var n=e.get(t);if(void 0!==n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Tp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{for(l.s();!(a=l.n()).done;){a.value.apply(void 0,o)}}catch(u){l.e(u)}finally{l.f()}}}}},xh=["type","value"],Ah=["onChange","transient","onEditStart","onEditEnd"],Eh=function(){var e,t=this,n=function(e){var t="function"==typeof e?Cp(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=(0,r.useReducer)((function(e){return e+1}),0),a=Ep(i,2)[1],l=t.getState(),u=(0,r.useRef)(l),c=(0,r.useRef)(n),s=(0,r.useRef)(o),f=(0,r.useRef)(!1),d=(0,r.useRef)();void 0===d.current&&(d.current=n(l));var v=!1;(u.current!==l||c.current!==n||s.current!==o||f.current)&&(e=n(l),v=!o(d.current,e)),Np((function(){v&&(d.current=e),u.current=l,c.current=n,s.current=o,f.current=!1}));var m=(0,r.useRef)(l);Np((function(){var e=function(){try{var e=t.getState(),n=c.current(e);s.current(d.current,n)||(u.current=e,d.current=n,a())}catch(jt){f.current=!0,a()}},n=t.subscribe(e);return t.getState()!==m.current&&e(),n}),[]);var _=v?e:d.current;return(0,r.useDebugValue)(_),_};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}((e=function(){return{data:{}}},function(t,n,r){var o=r.subscribe;return r.subscribe=function(e,t,n){var i=e;if(t){var a=(null==n?void 0:n.equalityFn)||Object.is,l=e(r.getState());i=function(n){var r=e(n);if(!a(l,r)){var o=l;t(l=r,o)}},(null==n?void 0:n.fireImmediately)&&t(l,l)}return o(i)},e(t,n,r)})),o=wh();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=n;var i={},a=new Set;this.getVisiblePaths=function(){var e=t.getData(),n=Object.keys(e),r=[];Object.entries(i).forEach((function(e){var o=Dp(e,2),i=o[0],a=o[1];a.render&&n.some((function(e){return 0===e.indexOf(i)}))&&!a.render(t.get)&&r.push(i+".")}));var o=[];return a.forEach((function(n){n in e&&e[n].__refCount>0&&r.every((function(e){return-1===n.indexOf(e)}))&&(!e[n].render||e[n].render(t.get))&&o.push(n)})),o},this.setOrderedPaths=function(e){e.forEach((function(e){return a.add(e)}))},this.orderPaths=function(e){return t.setOrderedPaths(e),e},this.disposePaths=function(e){n.setState((function(t){var n=t.data;return e.forEach((function(e){if(e in n){var t=n[e];t.__refCount--,0===t.__refCount&&t.type in _d&&delete n[e]}})),{data:n}}))},this.dispose=function(){n.setState((function(){return{data:{}}}))},this.getFolderSettings=function(e){return i[e]||{}},this.getData=function(){return n.getState().data},this.addData=function(e,t){n.setState((function(n){var r=n.data;return Object.entries(e).forEach((function(e){var n=Dp(e,2),o=n[0],i=n[1],a=r[o];if(a){var l=i.type,u=(i.value,Rf(i,xh));l!==a.type?Lf(xf.INPUT_TYPE_OVERRIDE,l):((0===a.__refCount||t)&&Object.assign(a,u),a.__refCount++)}else r[o]=ed(ed({},i),{},{__refCount:1})})),{data:r}}))},this.setValueAtPath=function(e,r,o){n.setState((function(n){var i=n.data;return wd(i[e],r,e,t,o),{data:i}}))},this.setSettingsAtPath=function(e,t){n.setState((function(n){var r=n.data;return r[e].settings=ed(ed({},r[e].settings),t),{data:r}}))},this.disableInputAtPath=function(e,t){n.setState((function(n){var r=n.data;return r[e].disabled=t,{data:r}}))},this.set=function(e,t){n.setState((function(n){var r=n.data;return Object.entries(e).forEach((function(e){var n=Dp(e,2),o=n[0],i=n[1];try{wd(r[o],i,void 0,void 0,t)}catch(a){0}})),{data:r}}))},this.getInput=function(e){try{return t.getData()[e]}catch(n){Lf(xf.PATH_DOESNT_EXIST,e)}},this.get=function(e){var n;return null===(n=t.getInput(e))||void 0===n?void 0:n.value},this.emitOnEditStart=function(e){o.emit("onEditStart:".concat(e),t.get(e),e,ed(ed({},t.getInput(e)),{},{get:t.get}))},this.emitOnEditEnd=function(e){o.emit("onEditEnd:".concat(e),t.get(e),e,ed(ed({},t.getInput(e)),{},{get:t.get}))},this.subscribeToEditStart=function(e,t){var n="onEditStart:".concat(e);return o.on(n,t),function(){return o.off(n,t)}},this.subscribeToEditEnd=function(e,t){var n="onEditEnd:".concat(e);return o.on(n,t),function(){return o.off(n,t)}};var l=function(e,t,n){var r={};return Object.entries(e).forEach((function(e){var o=Dp(e,2),a=o[0],u=o[1];if(""===a)return Lf(xf.EMPTY_KEY);var c=zp(t,a);if(u.type===_d.FOLDER){var s=l(u.schema,c,n);Object.assign(r,s),c in i||(i[c]=u.settings)}else if(a in n)Lf(xf.DUPLICATE_KEYS,a,c,n[a].path);else{var f=function(e,t,n,r){var o=gd(e,t),i=o.type,a=o.input,l=o.options;if(i)return i in _d?o:{type:i,input:Xf(i,a,n,r),options:l};var u=$f(a);return u?{type:u,input:Xf(u,a,n,r),options:l}:!!(u=$f({value:a}))&&{type:u,input:Xf(u,{value:a},n,r),options:l}}(u,a,c,r);if(f){var d=f.type,v=f.options,m=f.input,_=v.onChange,p=v.transient,h=v.onEditStart,b=v.onEditEnd,y=Rf(v,Ah);r[c]=ed(ed(ed({type:d},y),m),{},{fromPanel:!0}),n[a]={path:c,onChange:_,transient:p,onEditStart:h,onEditEnd:b}}else Lf(xf.UNKNOWN_INPUT,c,u)}})),r};this.getDataFromSchema=function(e){var t={};return[l(e,"",t),t]}},Sh=new Eh;var Ch={collapsed:!1};var Nh=function(e){return"__levaInput"in e},Bh=["type","label","path","valueKey","value","settings","setValue","disabled"];function Oh(e){var t=e.type,n=e.label,o=e.path,i=e.valueKey,a=e.value,l=e.settings,u=e.setValue,c=e.disabled,s=Rf(e,Bh),f=Ev({type:t,value:a,settings:l,setValue:u}),d=f.displayValue,v=f.onChange,m=f.onUpdate,_=Jf[t].component;return _?r.createElement(Dd.Provider,{value:ed({key:i,path:o,id:""+o,label:n,displayValue:d,value:a,onChange:v,onUpdate:m,settings:l,setValue:u,disabled:c},s)},r.createElement(sv,{disabled:c},r.createElement(_,null))):(Lf(xf.NO_COMPONENT_FOR_TYPE,t,o),null)}var Mh=Hd("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});var Fh=Hd("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Ih=Hd("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}});var Dh=Hd("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"});var Th=(0,r.forwardRef)((function(e,t){var n=e.initialValue,o=Vd("colors","highlight3"),i=Vd("colors","elevation2"),a=Vd("colors","highlight1"),l=Dp((0,r.useMemo)((function(){return[km(a).alpha(.4).toRgbString(),km(a).alpha(.1).toRgbString()]}),[a]),2),u=l[0],c=l[1],s=(0,r.useRef)([n]),f=(0,r.useRef)(n),d=(0,r.useRef)(n),v=(0,r.useRef)(),m=(0,r.useCallback)((function(e,t){if(e){for(var n=e.width,r=e.height,a=new Path2D,l=n/100,v=.05*r,m=0;m<s.current.length;m++){var _=l*m,p=r-id(s.current[m],f.current,d.current)*(r-2*v)-v;a.lineTo(_,p)}t.clearRect(0,0,n,r);var h=new Path2D(a);h.lineTo(l*(s.current.length+1),r),h.lineTo(0,r),h.lineTo(0,0);var b=t.createLinearGradient(0,0,0,r);b.addColorStop(0,u),b.addColorStop(1,c),t.fillStyle=b,t.fill(h),t.strokeStyle=i,t.lineJoin="round",t.lineWidth=14,t.stroke(a),t.strokeStyle=o,t.lineWidth=2,t.stroke(a)}}),[o,i,u,c]),_=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),o=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var r=Ed((function(){t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)}),250);return window.addEventListener("resize",r),o.current||(r(),o.current=!0),function(){return window.removeEventListener("resize",r)}}),[e]),(0,r.useEffect)((function(){n.current=t.current.getContext("2d")}),[]),[t,n]}(m),p=Dp(_,2),h=p[0],b=p[1];return(0,r.useImperativeHandle)(t,(function(){return{frame:function(e){(void 0===f.current||e<f.current)&&(f.current=e),(void 0===d.current||e>d.current)&&(d.current=e),function(e,t){e.push(t),e.length>100&&e.shift()}(s.current,e),v.current=requestAnimationFrame((function(){return m(h.current,b.current)}))}}}),[h,b,m]),(0,r.useEffect)((function(){return function(){return cancelAnimationFrame(v.current)}}),[]),r.createElement(Dh,{ref:h})})),Ph=function(e){return Number.isFinite(e)?e.toPrecision(2):e.toString()},zh=(0,r.forwardRef)((function(e,t){var n=e.initialValue,o=Dp((0,r.useState)(Ph(n)),2),i=o[0],a=o[1];return(0,r.useImperativeHandle)(t,(function(){return{frame:function(e){return a(Ph(e))}}}),[]),r.createElement("div",null,i)}));function kh(e){return"function"==typeof e?e():e.current}var Rh=["type","label","key"],jh=Fp(Fp(Fp({},_d.BUTTON,(function(e){var t=e.onClick,n=e.settings,o=e.label,i=Rd();return r.createElement(Av,null,r.createElement(Mh,{disabled:n.disabled,onClick:function(){return t(i.get)}},o))})),_d.BUTTON_GROUP,(function(e){var t=function(e){var t=e.label,n=e.opts,r="string"==typeof t&&""===t.trim()?null:t,o=n;return"object"===Ip(n.opts)&&(void 0!==o.label&&(r=n.label),o=n.opts),{label:r,opts:o}}(e),n=t.label,o=t.opts,i=Rd();return r.createElement(Av,{input:!!n},n&&r.createElement(bv,null,n),r.createElement(Fh,null,Object.entries(o).map((function(e){var t=Dp(e,2),n=t[0],o=t[1];return r.createElement(Ih,{key:n,onClick:function(){return o(i.get)}},n)}))))})),_d.MONITOR,(function(e){var t=e.label,n=e.objectOrFn,o=e.settings,i=(0,r.useRef)(),a=(0,r.useRef)(kh(n));return(0,r.useEffect)((function(){var e=window.setInterval((function(){var e;document.hidden||null===(e=i.current)||void 0===e||e.frame(kh(n))}),o.interval);return function(){return window.clearInterval(e)}}),[n,o.interval]),r.createElement(Av,{input:!0},r.createElement(bv,{align:"top"},t),o.graph?r.createElement(Th,{ref:i,initialValue:a.current}):r.createElement(zh,{ref:i,initialValue:a.current}))})),Uh=r.memo((function(e){var t=e.path,n=function(e){var t=Rd(),n=Of((0,r.useState)(Bv(t.getData(),e)),2),o=n[0],i=n[1],a=(0,r.useCallback)((function(n){return t.setValueAtPath(e,n,!0)}),[e,t]),l=(0,r.useCallback)((function(n){return t.setSettingsAtPath(e,n)}),[e,t]),u=(0,r.useCallback)((function(n){return t.disableInputAtPath(e,n)}),[e,t]),c=(0,r.useCallback)((function(){return t.emitOnEditStart(e)}),[e,t]),s=(0,r.useCallback)((function(){return t.emitOnEditEnd(e)}),[e,t]);return(0,r.useEffect)((function(){i(Bv(t.getData(),e));var n=t.useStore.subscribe((function(t){return Bv(t.data,e)}),i,{equalityFn:Qo});return function(){return n()}}),[t,e]),[o,{set:a,setSettings:l,disable:u,storeId:t.storeId,emitOnEditStart:c,emitOnEditEnd:s}]}(t),o=Dp(n,2),i=o[0],a=o[1],l=a.set,u=a.setSettings,c=a.disable,s=a.storeId,f=a.emitOnEditStart,d=a.emitOnEditEnd;if(!i)return null;var v=i.type,m=i.label,_=i.key,p=Rf(i,Rh);if(v in _d){var h=jh[v];return r.createElement(h,Id({label:m,path:t},p))}return v in Jf?r.createElement(Oh,Id({key:s+t,type:v,label:m,storeId:s,path:t,valueKey:_,setValue:l,setSettings:u,disable:c,emitOnEditStart:f,emitOnEditEnd:d},p)):(Hf(xf.UNSUPPORTED_INPUT,v,t),null)}));function Lh(e){var t=e.toggle,n=e.toggled,o=e.name;return r.createElement(rv,{onClick:function(){return t()}},r.createElement(wv,{toggled:n}),r.createElement("div",null,o))}var Hh=function(e){var t=e.name,n=e.path,o=e.tree,i=Rd(),a=zp(n,t),l=i.getFolderSettings(a),u=l.collapsed,c=l.color,s=Dp((0,r.useState)(!u),2),f=s[0],d=s[1],v=(0,r.useRef)(null),m=Vd("colors","folderWidgetColor"),_=Vd("colors","folderTextColor");return(0,r.useLayoutEffect)((function(){v.current.style.setProperty("--leva-colors-folderWidgetColor",c||m),v.current.style.setProperty("--leva-colors-folderTextColor",c||_)}),[c,m,_]),r.createElement(tv,{ref:v},r.createElement(Lh,{name:t,toggled:f,toggle:function(){return d((function(e){return!e}))}}),r.createElement(Gh,{parent:a,tree:o,toggled:f}))},Gh=r.memo((function(e){var t=e.isRoot,n=void 0!==t&&t,o=e.fill,i=void 0!==o&&o,a=e.flat,l=void 0!==a&&a,u=e.parent,c=e.tree,s=e.toggled,f=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),o=(0,r.useRef)(!0);return(0,r.useLayoutEffect)((function(){e||(t.current.style.height="0px",t.current.style.overflow="hidden")}),[]),(0,r.useEffect)((function(){if(!o.current){var r,i=t.current,a=function(){e&&(i.style.removeProperty("height"),i.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};i.addEventListener("transitionend",a,{once:!0});var l=n.current.getBoundingClientRect().height;return i.style.height=l+"px",e||(i.style.overflow="hidden",r=window.setTimeout((function(){return i.style.height="0px"}),50)),function(){i.removeEventListener("transitionend",a),clearTimeout(r)}}o.current=!1}),[e]),{wrapperRef:t,contentRef:n}}(s),d=f.wrapperRef,v=f.contentRef,m=Rd(),_=function(e){var t,n=Dp(e,2),r=n[0],o=n[1];return(Nh(o)?null===(t=m.getInput(o.path))||void 0===t?void 0:t.order:m.getFolderSettings(zp(u,r)).order)||0},p=Object.entries(c).sort((function(e,t){return _(e)-_(t)}));return r.createElement(nv,{ref:d,isRoot:n,fill:i,flat:l},r.createElement(ov,{ref:v,isRoot:n,toggled:s},p.map((function(e){var t=Dp(e,2),n=t[0],o=t[1];return Nh(o)?r.createElement(Uh,{key:o.path,valueKey:o.valueKey,path:o.path}):r.createElement(Hh,{key:n,name:n,path:u,tree:o})}))))})),Kh=Hd("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:Fp({},"".concat(av),{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"})},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Wh=Hd("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Vh=Hd("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Jh=Hd("div",Fp(Fp({$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md"},"> ".concat(Wh),{height:30}),"variants",{toggled:{true:{height:30},false:{height:0}}})),$h=Hd("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Qh=Hd("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),Xh=r.forwardRef((function(e,t){var n=e.setFilter,o=e.toggle,i=Dp((0,r.useState)(""),2),a=i[0],l=i[1],u=(0,r.useMemo)((function(){return Ed(n,250)}),[n]);return(0,r.useEffect)((function(){u(a)}),[a,u]),r.createElement(r.Fragment,null,r.createElement($h,{ref:t,value:a,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;o(!0),l(t)}}),r.createElement(Wh,{onClick:function(){return n(""),void l("")},style:{visibility:a?"visible":"hidden"}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}));function Yh(e){var t=e.setFilter,n=e.onDrag,o=e.onDragStart,i=e.onDragEnd,a=e.toggle,l=e.toggled,u=e.title,c=e.drag,s=e.filterEnabled,f=e.from,d=Dp((0,r.useState)(!1),2),v=d[0],m=d[1],_=(0,r.useRef)(null);(0,r.useEffect)((function(){var e,t;v?null===(e=_.current)||void 0===e||e.focus():null===(t=_.current)||void 0===t||t.blur()}),[v]);var p=Sv((function(e){var t=Dp(e.offset,2),r=t[0],a=t[1],l=e.first,u=e.last;n({x:r,y:a}),l&&o({x:r,y:a}),u&&i({x:r,y:a})}),{filterTaps:!0,from:function(e){var t=Dp(e.offset,2),n=t[0],r=t[1];return[(null==f?void 0:f.x)||n,(null==f?void 0:f.y)||r]}});return(0,r.useEffect)((function(){var e=function(e){"L"===e.key&&e.shiftKey&&e.metaKey&&m((function(e){return!e}))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),r.createElement(r.Fragment,null,r.createElement(Vh,{mode:c?"drag":void 0},r.createElement(Wh,{active:!l,onClick:function(){return a()}},r.createElement(wv,{toggled:l,width:12,height:8})),r.createElement(Qh,Id({},c?p():{},{drag:c,filterEnabled:s}),void 0===u&&c?r.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},r.createElement("circle",{cx:"2",cy:"2",r:"2"}),r.createElement("circle",{cx:"14",cy:"2",r:"2"}),r.createElement("circle",{cx:"26",cy:"2",r:"2"}),r.createElement("circle",{cx:"2",cy:"12",r:"2"}),r.createElement("circle",{cx:"14",cy:"12",r:"2"}),r.createElement("circle",{cx:"26",cy:"12",r:"2"})):u),s&&r.createElement(Wh,{active:v,onClick:function(){return m((function(e){return!e}))}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},r.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),r.createElement(Jh,{toggled:v},r.createElement(Xh,{ref:_,setFilter:t,toggle:a})))}var Zh=["store","hidden","theme","collapsed"];function qh(e){var t=e.store,n=e.hidden,o=void 0!==n&&n,i=e.theme,a=e.collapsed,l=void 0!==a&&a,u=Rf(e,Zh),c=kp((function(){return function(e){var t={colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}};if(!e)return{theme:t,className:""};Object.keys(e).forEach((function(n){Object.assign(t[n],e[n])}));var n=Gd(t);return{theme:t,className:n.className}}(i)}),[i]),s=Dp((0,r.useState)(!l),2),f=s[0],d=s[1],v="object"===Ip(l)?!l.collapsed:f,m=(0,r.useMemo)((function(){return"object"===Ip(l)?function(e){"function"==typeof e?l.onChange(!e(!l.collapsed)):l.onChange(!e)}:d}),[l]);return!t||o?null:r.createElement(Pd.Provider,{value:c},r.createElement(eb,Id({store:t},u,{toggled:v,setToggle:m,rootClass:c.className})))}var eb=r.memo((function(e){var t,n,o=e.store,i=e.rootClass,a=e.fill,l=void 0!==a&&a,u=e.flat,c=void 0!==u&&u,s=e.neverHide,f=void 0!==s&&s,d=e.oneLineLabels,v=void 0!==d&&d,m=e.titleBar,_=void 0===m?{title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0}:m,p=e.hideCopyButton,h=void 0!==p&&p,b=e.toggled,y=e.setToggle,g=function(e){var t=Dp((0,r.useState)(e.getVisiblePaths()),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){o(e.getVisiblePaths());var t=e.useStore.subscribe(e.getVisiblePaths,o,{equalityFn:Qo});return function(){return t()}}),[e]),n}(o),w=Dp((0,r.useState)(""),2),x=w[0],A=w[1],E=(0,r.useMemo)((function(){return function(e,t){var n={},r=t?t.toLowerCase():null;return e.forEach((function(e){var t=function(e){var t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e),o=Dp(t,2),i=o[0],a=o[1];(!r||i.toLowerCase().indexOf(r)>-1)&&Mp()(n,a,Fp({},i,{__levaInput:!0,path:e}))})),n}(g,x)}),[g,x]),S=Dp(Cv(),2),C=S[0],N=S[1],B=f||g.length>0,O="object"===Ip(_)&&_.title||void 0,M="object"!==Ip(_)||(null===(t=_.drag)||void 0===t||t),F="object"!==Ip(_)||(null===(n=_.filter)||void 0===n||n),I="object"===Ip(_)&&_.position||void 0,D="object"===Ip(_)&&_.onDrag||void 0,T="object"===Ip(_)&&_.onDragStart||void 0,P="object"===Ip(_)&&_.onDragEnd||void 0;return r.useEffect((function(){N({x:null==I?void 0:I.x,y:null==I?void 0:I.y})}),[I,N]),Wd(),r.createElement(kd.Provider,{value:{hideCopyButton:h}},r.createElement(Kh,{ref:C,className:i,fill:l,flat:c,oneLineLabels:v,hideTitleBar:!_,style:{display:B?"block":"none"}},_&&r.createElement(Yh,{onDrag:function(e){N(e),null==D||D(e)},onDragStart:function(e){return null==T?void 0:T(e)},onDragEnd:function(e){return null==P?void 0:P(e)},setFilter:A,toggle:function(e){return y((function(t){return null!=e?e:!t}))},toggled:b,title:O,drag:M,filterEnabled:F,from:I}),B&&r.createElement(zd.Provider,{value:o},r.createElement(Gh,{isRoot:!0,fill:l,flat:c,tree:E,toggled:b}))))})),tb=["isRoot"],nb=!1,rb=null;function ob(e){var t=e.isRoot,n=void 0!==t&&t,o=Rf(e,tb);return(0,r.useEffect)((function(){return nb=!0,!n&&rb&&(rb.remove(),rb=null),function(){n||(nb=!1)}}),[n]),r.createElement(qh,Id({store:Sh},o))}function ib(e,t,n,o,i){var a=function(e,t,n,r,o){var i,a,l,u,c=void 0;return"string"==typeof e?(c=e,i=t,Array.isArray(n)?u=n:n&&("store"in n?(l=n,u=r):(a=n,Array.isArray(r)?u=r:(l=r,u=o)))):(i=e,Array.isArray(t)?u=t:(l=t,u=n)),{schema:i,folderName:c,folderSettings:a,hookSettings:l,deps:u||[]}}(e,t,n,o,i),l=a.folderName,u=a.schema,c=a.folderSettings,s=a.hookSettings,f=a.deps,d="function"==typeof u,v=(0,r.useRef)(!1),m=(0,r.useRef)(!0),_=kp((function(){v.current=!0;var e="function"==typeof u?u():u;return l?Fp({},l,function(e,t){return{type:_d.FOLDER,schema:e,settings:ed(ed({},Ch),t)}}(e,c)):e}),f);!function(e){(0,r.useEffect)((function(){e&&!nb&&(rb||(rb=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(rb),(0,Bp.createRoot)(rb).render(r.createElement(ob,{isRoot:!0})))),nb=!0)}),[e])}(!(null!=s&&s.store));var p=Dp((0,r.useState)((function(){return(null==s?void 0:s.store)||Sh})),1)[0],h=Dp((0,r.useMemo)((function(){return p.getDataFromSchema(_)}),[p,_]),2),b=h[0],y=h[1],g=(0,r.useMemo)((function(){var e=[],t=[],n={},r={},o={};return Object.values(y).forEach((function(i){var a=i.path,l=i.onChange,u=i.onEditStart,c=i.onEditEnd,s=i.transient;e.push(a),l?(n[a]=l,s||t.push(a)):t.push(a),u&&(r[a]=u),c&&(o[a]=c)})),[e,t,n,r,o]}),[y]),w=Dp(g,5),x=w[0],A=w[1],E=w[2],S=w[3],C=w[4],N=(0,r.useMemo)((function(){return p.orderPaths(x)}),[x,p]),B=Rp(p,A,b),O=(0,r.useCallback)((function(e){var t=Object.entries(e).reduce((function(e,t){var n=Dp(t,2),r=n[0],o=n[1];return Object.assign(e,Fp({},y[r].path,o))}),{});p.set(t,!1)}),[p,y]),M=(0,r.useCallback)((function(e){return p.get(y[e].path)}),[p,y]);return(0,r.useEffect)((function(){var e=!m.current&&v.current;return p.addData(b,e),m.current=!1,v.current=!1,function(){return p.disposePaths(N)}}),[p,N,b]),(0,r.useEffect)((function(){var e=[];return Object.entries(E).forEach((function(t){var n=Dp(t,2),r=n[0],o=n[1];o(p.get(r),r,ed({initial:!0,get:p.get},p.getInput(r)));var i=p.useStore.subscribe((function(e){var t=e.data[r];return[t.disabled?void 0:t.value,t]}),(function(e){var t=Dp(e,2),n=t[0],i=t[1];return o(n,r,ed({initial:!1,get:p.get},i))}),{equalityFn:Qo});e.push(i)})),function(){return e.forEach((function(e){return e()}))}}),[p,E]),(0,r.useEffect)((function(){var e=[];return Object.entries(S).forEach((function(t){var n=Dp(t,2),r=n[0],o=n[1];return e.push(p.subscribeToEditStart(r,o))})),Object.entries(C).forEach((function(t){var n=Dp(t,2),r=n[0],o=n[1];return e.push(p.subscribeToEditEnd(r,o))})),function(){return e.forEach((function(e){return e()}))}}),[S,C,p]),d?[B,O,M]:B}Qf(pd.SELECT,Kv),Qf(pd.IMAGE,fh),Qf(pd.NUMBER,Rv),Qf(pd.COLOR,Qp),Qf(pd.STRING,Qv),Qf(pd.BOOLEAN,qv),Qf(pd.INTERVAL,gh),Qf(pd.VECTOR3D,Xp),Qf(pd.VECTOR2D,rh);var ab=()=>{const e=(0,r.useRef)(null),{scene:t,animations:n}=Qr("/BlogPage/test_model/scarlet_calibrated.glb"),{scene:o,animations:a}=Qr("/BlogPage/test_model/TV_Simulate_1.glb"),{scene:l,animations:u}=Qr("/BlogPage/test_model/scarlet_face.glb"),{scene:c,animations:s}=Qr("/BlogPage/test_scene/simple_1.glb"),f=r.useMemo((()=>to.clone(t)),[t]),{nodes:d,materials:v}=Ue(f),m=r.useMemo((()=>to.clone(o)),[o]),{nodes:_,materials:p}=Ue(m),h=r.useMemo((()=>to.clone(l)),[l]),{nodes:b,materials:y}=Ue(h),g=r.useMemo((()=>to.clone(c)),[c]),{nodes:w,materials:x}=Ue(g),A=ib({scene_x:{value:.00563,min:-.4,max:.4,step:1e-4},scene_y:{value:.88893,min:.4,max:1.2,step:1e-4},scene_z:{value:85e-5,min:-.8,max:.8,step:1e-4}});console.log(w);const E=new i.Quaternion;E.setFromRotationMatrix((new i.Matrix4).fromArray([.8105,.17636,-.55856,0,-.19902,.97978,.02057,0,.55089,.09449,.82921,0,0,0,0,1]));const S=new i.Quaternion;S.setFromRotationMatrix((new i.Matrix4).fromArray([.97784,-.12842,-.16535,0,.1269,.99172,-.01978,0,.16652,-.00164,.98604,0,0,0,0,1]));const C=new i.Quaternion;C.setFromRotationMatrix((new i.Matrix4).fromArray([.97784,-.12842,-.16535,0,.1269,.99172,-.01978,0,.16652,-.00164,.98604,0,0,0,0,1]));const N=Ge(i.TextureLoader,"/BlogPage/test_model/texture0_tex_bdy_00_base1.png"),B=Ge(i.TextureLoader,"/BlogPage/test_model/tex_bdy_1009_00_SkinArea.png"),O=Ge(i.TextureLoader,"/BlogPage/test_model/texture1_tex_bdy_00_diff1.png"),M=Ge(i.TextureLoader,"/BlogPage/test_model/tex_bdy1009_00_OutlineZOffsetIntensity.png");B.colorSpace=i.SRGBColorSpace,N.colorSpace=i.SRGBColorSpace,O.colorSpace=i.SRGBColorSpace;const F=Ge(i.TextureLoader,"/BlogPage/test_model/tex_chr1009_00_hair_base.png"),I=Ge(i.TextureLoader,"/BlogPage/test_model/tex_chr1009_00_hair_diff.png");I.colorSpace=i.SRGBColorSpace;const D=Ge(i.TextureLoader,"/BlogPage/test_model/tex_chr1009_00_face_base.png"),T=Ge(i.TextureLoader,"/BlogPage/test_model/tex_chr1009_00_face_diff.png");D.colorSpace=i.SRGBColorSpace,T.colorSpace=i.SRGBColorSpace;const P=Ge(i.TextureLoader,"/BlogPage/test_model/tex_chr1009_00_eyehi00.png"),z=Ge(i.TextureLoader,"/BlogPage/test_model/tex_chr1009_00_eye0.png");return P.colorSpace=i.SRGBColorSpace,P.wrapS=P.wrapT=i.RepeatWrapping,z.colorSpace=i.SRGBColorSpace,r.createElement("group",{scale:[1,1,1]},r.createElement("primitive",{ref:e,object:new go(d.scarlet_eyebrow.geometry,new bo,new yo({baseTexture:D,diffMap:T,segMap:D,segMap_1:D,segMap_2:D,segMap_3:D,cb3_110xyz:new i.Vector3(1,1,1),cb2_9w:1,cb2_10x:-.1,defines:{USE_BASE_MAP:"1",UNKNOWN_DEFINE_2:"",UNKNOWN_DEFINE_FS_4:"",UNKNOWN_DEFINE_5:"",UNKNOWN_DEFINE_FS_9:"",UNKNOWN_CONDITION_3:"",UNKNOWN_CONDITION_1:""}})),position:[-.02345,1.28942,-.0033],quaternion:C}),r.createElement("primitive",{ref:e,object:new go(d.scarlet_eye.geometry,new bo,new yo({baseTexture:P,diffMap:z,segMap:P,segMap_1:P,segMap_2:P,segMap_3:P,cb3_132x:0,cb3_113xyz:new i.Vector3(.37647,.41412,.50196),cb3_111xyz:new i.Vector3(.01,.5,1),cb3_110xyz:new i.Vector3(1,1,1),cb3_109x:.14,cb3_58yzw:new i.Vector3(8,8,8),cb3_57:new i.Vector4(4,2,0,0),uv_scale_offset:new i.Vector4(.25,1,0,0),defines:{USE_BASE_MAP:"1",UNKNOWN_DEFINE_2:"",UNKNOWN_DEFINE_FS_2:"",UNKNOWN_DEFINE_5:"",UNKNOWN_DEFINE_FS_9:"",UNKNOWN_CONDITION_3:"",UNKNOWN_CONDITION_1:""}})),position:[-.02345,1.28942,-.0033],quaternion:C}),r.createElement("primitive",{ref:e,object:new go(d.scarlet_hair.geometry,new bo,new yo({baseTexture:F,diffMap:I,segMap:F,segMap_1:F,segMap_2:F,segMap_3:F,cb3_89:new i.Vector4(0,1,0,0),cb3_90xy:new i.Vector2(.11829,1),cb3_110xyz:new i.Vector3(1,1,1),cb3_178y:0,cb3_144w:0,defines:{USE_BASE_MAP:"1",UNKNOWN_DEFINE_3:"",UNKNOWN_DEFINE_FS_3:"",UNKNOWN_DEFINE_6:"",UNKNOWN_DEFINE_FS_10:"",UNKNOWN_CONDITION_2:"",UNKNOWN_NM_DEFINE_2:""}})),position:[-.02345,1.28942,-.0033],quaternion:S}),r.createElement("primitive",{ref:e,object:new go(b.scarlet_face.geometry,new bo,new yo({baseTexture:D,diffMap:T,segMap:D,segMap_1:D,segMap_2:D,segMap_3:D,cb3_132x:0,cb3_113xyz:new i.Vector3(.37647,.41412,.50196),cb3_111xyz:new i.Vector3(.01,.5,1),cb3_110xyz:new i.Vector3(1,.75,.8959),cb2_151xyzw:new i.Vector4(0,0,1,0),cb3_109x:.14,cb3_134w:.8,cb2_150w:1,cb2_9w:1,defines:{USE_BASE_MAP:"1",UNKNOWN_DEFINE_2:"",UNKNOWN_DEFINE_FS_1:"",UNKNOWN_DEFINE_5:"",UNKNOWN_DEFINE_FS_8:"",UNKNOWN_CONDITION_3:"",UNKNOWN_CONDITION_1:""}})),position:[-.02345,1.28942,-.0033],quaternion:C}),r.createElement("primitive",{ref:e,object:new go(d.scarlet_body.geometry,new bo,new yo({baseTexture:N,diffMap:O,segMap:N,segMap_2:B,segMap_3:N,outlineZOffsetIntensityMap:M,defines:{USE_BASE_MAP:"1",UNKNOWN_DEFINE_3:"",UNKNOWN_DEFINE_FS_6:"",UNKNOWN_DEFINE_7:"",UNKNOWN_DEFINE_FS_12:"",UNKNOWN_CONDITION_2:"",UNKNOWN_NM_DEFINE_2:""}})),position:[.00563,.88893,85e-5],quaternion:E}),r.createElement("primitive",{ref:e,object:new go(w.ME.geometry,new bo,new yo({baseTexture:N,diffMap:O,segMap:N,segMap_2:B,segMap_3:N,defines:{USE_BASE_MAP:"1",UNKNOWN_DEFINE_3:"",UNKNOWN_DEFINE_FS_6:"",UNKNOWN_DEFINE_7:"",UNKNOWN_DEFINE_FS_12:"",UNKNOWN_DEFINE_7:"",UNKNOWN_DEFINE_FS_12:""}})),position:[A.scene_x,A.scene_y,A.scene_z]}))};function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function ub(e){var t=function(e,t){if("object"!=lb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lb(t)?t:t+""}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ub(r.key),r)}}function sb(e,t,n){return t&&cb(e.prototype,t),n&&cb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Qr.preload("/BlogPage/test_model/scarlet.glb"),Qr.preload("/BlogPage/test_model/TV_Simulate.glb");var fb=n(6674);let db=function(e){function t(){return e.call(this,{name:"FlipScreenMaterial",uniforms:{inputBuffer:{value:null},opacity:{value:1}},vertexShader:"\n  \n\t\tvarying vec2 vUv;\n  \n\t\tvoid main() {\n  \n\t\t  vUv = uv;\n\t\t  gl_Position = projectionMatrix * modelViewMatrix * vec4( vec3(position.x, position.y, position.z), 1.0 );\n\t\t  gl_Position.y = -gl_Position.y;\n\t\t  gl_Position.x = gl_Position.x;\n  \n\t\t}",fragmentShader:"\n  \n\t\tuniform float opacity;\n  \n\t\tuniform sampler2D inputBuffer;\n  \n\t\tvarying vec2 vUv;\n  \n\t\tvoid main() {\n  \n\t\t  vec4 texel = texture2D( inputBuffer, vUv );\n\t\t  gl_FragColor = vec4(texel.rgb, 1.0);\n  \n  \n\t\t}",blending:i.NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,side:i.BackSide})||this}return(0,no.A)(t,e),t.prototype.setInputBuffer=function(e){this.uniforms.inputBuffer.value=e},sb(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}}])}(i.ShaderMaterial),vb=function(e){function t(t){var n;return(n=e.call(this,new db)||this).renderToScreen=!0,n}return(0,no.A)(t,e),t.prototype.render=function(e,t,n,r,o){this.fullscreenMaterial.uniforms[this.input].value=t.texture,e.setRenderTarget(null),e.render(this.scene,this.camera)},t}(fb.pE),mb=function(e){function t(){return e.call(this,{name:"DebugSSAOMaterial",uniforms:{inputBuffer:{value:null},opacity:{value:1}},vertexShader:"\n\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }",fragmentShader:"\n\n      uniform float opacity;\n\n      uniform sampler2D inputBuffer;\n\n      varying vec2 vUv;\n\n      void main() {\n\n        vec4 texel = texture2D( inputBuffer, vUv );\n  \t\t\tgl_FragColor =  vec4(texel.r, texel.g, texel.b, 1.0);\n\n\n      }",blending:i.NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1})||this}return(0,no.A)(t,e),t.prototype.setInputBuffer=function(e){this.uniforms.inputBuffer.value=e},sb(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}}])}(i.ShaderMaterial),_b=function(e){function t(t){var n;return(n=e.call(this,new mb)||this).fullscreenMaterial.uniforms[n.input].value=t,n}return(0,no.A)(t,e),t.prototype.render=function(e,t,n,r,o){e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)},t}(fb.pE),pb=function(e){function t(){return e.call(this,{name:"DebugDepthMaterial",uniforms:{inputBuffer:{value:null},cameraNear:{value:.1},cameraFar:{value:1e3},opacity:{value:1}},defines:{PERSPECTIVE_CAMERA:"1"},vertexShader:"\n  \n\t\tvarying vec2 vUv;\n  \n\t\tvoid main() {\n  \n\t\t  vUv = uv;\n\t\t  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n\t\t}",fragmentShader:"\n  \n\t\tuniform float opacity;\n  \n\t\tuniform mediump sampler2D inputBuffer;\n\n\t\tuniform float cameraNear;\n\t\tuniform float cameraFar;\n\n\t\tvarying vec2 vUv;\n\t\t\n\t\tfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\t\t\treturn ( viewZ + near ) / ( near - far );\n\t\t}\n\t\tfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\t\t\treturn ( near * far ) / ( ( far - near ) * depth - far );\n\t\t}\n  \n\t\tvoid main() {\n  \n\t\t  float depth = texture2D( inputBuffer, vUv ).r;\n\n\t\t  #ifdef PERSPECTIVE_CAMERA\n\t\t\t  float viewZ = perspectiveDepthToViewZ(depth, cameraNear, cameraFar);\n\t\t\t  float linearDepth = viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\n\t\t  #else\n\t\t\t  float linearDepth = depth;\n\t\t  #endif\n\t\t  float scaledDepth = clamp(1.0-linearDepth * 10.0, 0.0, 1.0);\n\t\t  gl_FragColor = vec4(scaledDepth, scaledDepth, scaledDepth, 1.0);\n  \n\t\t}",blending:i.NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1})||this}return(0,no.A)(t,e),t.prototype.setInputBuffer=function(e){this.uniforms.inputBuffer.value=e},sb(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}}])}(i.ShaderMaterial),hb=function(e){function t(t){var n;return(n=e.call(this,new pb)||this).fullscreenMaterial.uniforms[n.input].value=t,n}return(0,no.A)(t,e),t.prototype.render=function(e,t,n,r,o){e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)},t}(fb.pE),bb=function(e){function t(t,n,r){var o;let{renderTarget:a,resolutionScale:l=1,width:u=fb.jg.AUTO_SIZE,height:c=fb.jg.AUTO_SIZE,resolutionX:s=u,resolutionY:f=c}=void 0===r?{}:r;(o=e.call(this,"NormalPass")||this).needsSwap=!1,o.renderPass=new fb.AH(t,n);const d=o.renderPass;d.ignoreBackground=!0,d.skipShadowMapUpdate=!0;const v=d.getClearPass();v.overrideClearColor=new i.Color(7829503),v.overrideClearAlpha=1,o.renderTarget=a,void 0===o.renderTarget&&(o.renderTarget=new i.WebGLRenderTarget(1,1,{minFilter:i.NearestFilter,magFilter:i.NearestFilter,depthBuffer:!0,depthTexture:new i.DepthTexture(1,1)}),o.renderTarget.texture.name="NormalPass.Target");const m=o.resolution=new fb.jg(o,s,f,l);return m.addEventListener("change",(e=>o.setSize(m.baseWidth,m.baseHeight))),o}(0,no.A)(t,e);var n=t.prototype;return n.getTexture=function(){return this.renderTarget.texture},n.getResolution=function(){return this.resolution},n.getResolutionScale=function(){return this.resolution.scale},n.setResolutionScale=function(e){this.resolution.scale=e},n.render=function(e,t,n,r,o){const i=this.renderToScreen?null:this.renderTarget;this.renderPass.scene.traverseVisible((e=>{e.isMesh&&e instanceof wo&&(e._CustomNormalBackupMaterial=e.material,e.material=e.customNormalMaterial)})),this.renderPass.render(e,i,i),this.renderPass.scene.traverseVisible((e=>{e.isMesh&&(e.material=e._CustomNormalBackupMaterial)}))},n.setSize=function(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)},sb(t,[{key:"mainScene",set:function(e){this.renderPass.mainScene=e}},{key:"mainCamera",set:function(e){this.renderPass.mainCamera=e}},{key:"texture",get:function(){return this.renderTarget.texture}}])}(fb.oF),yb=function(e){function t(t,n,r){var o;let{blendFunction:a=fb.cf.MULTIPLY,samples:l=31,rings:u=7,depthBuffer:c=null,normalDepthBuffer:s=null,depthAwareUpsampling:f=!0,worldDistanceThreshold:d,worldDistanceFalloff:v,worldProximityThreshold:m,worldProximityFalloff:_,distanceThreshold:p=1,distanceFalloff:h=0,rangeThreshold:b=.5,rangeFalloff:y=.1,minRadiusScale:g=.1,luminanceInfluence:w=.7,radius:x=5,intensity:A=100,bias:E=.5,fade:S=.01,color:C=null,renderTarget:N,resolutionScale:B=1,width:O=fb.jg.AUTO_SIZE,height:M=fb.jg.AUTO_SIZE,resolutionX:F=O,resolutionY:I=M}=void 0===r?{}:r;(o=e.call(this,"CustomSSAOPass")||this).needsSwap=!1,o.depthDownsamplingPass=new fb.SP({normalBuffer:n,resolutionScale:B}),null===c&&null===s&&(o.depthDownsamplingPass.enabled=!0),o.camera=t,o.shaderPass=new fb.pE(new fb.so(t));const D=new fb.Ut(64,64,i.RGBAFormat);D.wrapS=D.wrapT=i.RepeatWrapping;const T=o.ssaoMaterial;T.blendFunction=a,T.intensity=A,T.normalBuffer=n,T.noiseTexture=D,T.setMinRadiusScale(g),T.samples=l,T.radius=x,T.rings=u,T.fade=S,T.setBias(E),T.distanceFalloff=h,T.distanceThreshold=p,T.proximityFalloff=y,T.proximityThreshold=b,void 0!==d&&(T.worldDistanceThreshold=d),void 0!==v&&(T.worldDistanceFalloff=v),void 0!==m&&(T.worldProximityThreshold=m),void 0!==_&&(T.worldProximityFalloff=_),o.depthTexture=null,null!==s?o.ssaoMaterial.normalDepthBuffer=s:null!==c?(o.depthTexture=c,o.setDepthTexture(o.depthTexture)):o.ssaoMaterial.normalDepthBuffer=o.depthDownsamplingPass.texture,o.renderTarget=N,void 0===o.renderTarget&&(o.renderTarget=new i.WebGLRenderTarget(1,1,{depthBuffer:!1}),o.renderTarget.texture.name="AO.Target");const P=o.resolution=new fb.jg(o,F,I,B);return P.addEventListener("change",(e=>o.setSize(P.baseWidth,P.baseHeight))),o}(0,no.A)(t,e);var n=t.prototype;return n.getTexture=function(){return this.renderTarget.texture},n.getResolution=function(){return this.resolution},n.getResolutionScale=function(){return this.resolution.scale},n.setResolutionScale=function(e){this.resolution.scale=e},n.setDepthTexture=function(e,t){void 0===t&&(t=i.BasicDepthPacking);const n=null!==this.depthTexture?this.depthTexture:e;this.depthDownsamplingPass.setDepthTexture(n,t),this.ssaoMaterial.depthBuffer=n,this.ssaoMaterial.depthPacking=t},n.render=function(e,t,n,r,o){this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(e);const i=this.renderToScreen?null:this.renderTarget;this.shaderPass.render(e,i,i)},n.setSize=function(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(e,t),this.shaderPass.setSize(n.width,n.height),this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(n.width,n.height)},sb(t,[{key:"ssaoMaterial",get:function(){return this.shaderPass.fullscreenMaterial}},{key:"normalBuffer",get:function(){return this.ssaoMaterial.normalBuffer},set:function(e){this.ssaoMaterial.normalBuffer=e,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=e}},{key:"texture",get:function(){return this.renderTarget.texture}}])}(fb.oF),gb=function(e){function t(t,n,r){var o;let{renderTarget:a,resolutionScale:l=1,width:u=fb.jg.AUTO_SIZE,height:c=fb.jg.AUTO_SIZE,resolutionX:s=u,resolutionY:f=c}=void 0===r?{}:r;(o=e.call(this,"CustomDepthPass")||this).needsSwap=!1,o.renderPass=new fb.AH(t,n);const d=o.renderPass;d.skipShadowMapUpdate=!0,d.ignoreBackground=!0;const v=d.clearPass;v.overrideClearColor=new i.Color(16777215),v.overrideClearAlpha=1,o.renderTarget=a,void 0===o.renderTarget&&(o.renderTarget=new i.WebGLRenderTarget(1,1,{minFilter:i.NearestFilter,magFilter:i.NearestFilter,depthBuffer:!0,depthTexture:new i.DepthTexture(1,1)}),o.renderTarget.texture.name="DepthPass.Target");const m=o.resolution=new fb.jg(o,s,f,l);return m.addEventListener("change",(e=>o.setSize(m.baseWidth,m.baseHeight))),o}(0,no.A)(t,e);var n=t.prototype;return n.getTexture=function(){return this.renderTarget.texture},n.getResolution=function(){return this.resolution},n.getResolutionScale=function(){return this.resolution.scale},n.setResolutionScale=function(e){console.log("Depth setScale",e),this.resolution.scale=e},n.render=function(e,t,n,r,o){const i=this.renderToScreen?null:this.renderTarget;this.renderPass.scene.traverseVisible((e=>{e.isMesh&&e instanceof wo&&(e._CustomDepthBackupMaterial=e.material,e.material=e.customDepthMaterial)})),this.renderPass.render(e,i),this.renderPass.scene.traverseVisible((e=>{e.isMesh&&e instanceof wo&&(e.material=e._CustomDepthBackupMaterial)}))},n.setSize=function(e,t){console.log("Depth setSize",e,t);const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)},sb(t,[{key:"mainScene",set:function(e){this.renderPass.mainScene=e}},{key:"mainCamera",set:function(e){this.renderPass.mainCamera=e}},{key:"texture",get:function(){return this.renderTarget.texture}}])}(fb.oF),wb=function(e){function t(t,n,r,o,a){var l;let{renderTarget:u,resolutionScale:c=1,width:s=fb.jg.AUTO_SIZE,height:f=fb.jg.AUTO_SIZE,resolutionX:d=s,resolutionY:v=f}=void 0===a?{}:a;(l=e.call(this,"RenderPass")||this).needsSwap=!1,l.renderPass=new fb.AH(t,n),l.copyPass=new fb.nV;const m=l.renderPass;m.ignoreBackground=!0,m.skipShadowMapUpdate=!0;const _=m.getClearPass();_.overrideClearColor=new i.Color(0),_.overrideClearAlpha=1,l.renderTarget=u,void 0===l.renderTarget&&(l.renderTarget=new i.WebGLRenderTarget(1,1,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,depthBuffer:!0,colorSpace:i.NoColorSpace}),l.renderTarget.texture.name="CustomRenderPass.Target");const p=l.resolution=new fb.jg(l,d,v,c);return p.addEventListener("change",(e=>l.setSize(p.baseWidth,p.baseHeight))),l.depthTexture=r,l.shadowMapTexture=o,l}(0,no.A)(t,e);var n=t.prototype;return n.getTexture=function(){return this.renderTarget.texture},n.getResolution=function(){return this.resolution},n.getResolutionScale=function(){return this.resolution.scale},n.setResolutionScale=function(e){this.resolution.scale=e},n.render=function(e,t,n,r,o){this.renderToScreen||this.renderTarget;this.renderPass.scene.traverseVisible((e=>{e.isMesh&&e instanceof wo&&(e._CustomRenderBackupMaterial=e.material,e.material=e.customRenderMaterial,e.material.uniforms.depthMap.value=this.depthTexture,e.material.uniforms.shadowMap.value=this.shadowMapTexture)})),e.shadowMap.enabled=!0,e.outputColorSpace=i.LinearSRGBColorSpace,this.renderPass.renderToScreen=!1,this.renderPass.render(e,t,this.renderTarget),this.renderPass.clearPass.enabled=!1,this.renderPass.scene.traverseVisible((e=>{e.isMesh&&e instanceof wo&&(e._CustomRenderBackupMaterial=e.material,e.material=e.customRenderOutlineMaterial,e.material.uniforms.depthMap.value=this.depthTexture,e.material.uniforms.shadowMap.value=this.shadowMapTexture)})),this.renderPass.render(e,t,this.renderTarget),this.renderPass.scene.traverseVisible((e=>{e.isMesh&&(e.material=e._CustomRenderBackupMaterial)})),this.renderPass.clearPass.enabled=!0,e.shadowMap.enabled=!1,e.outputColorSpace=i.SRGBColorSpace},n.setSize=function(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)},sb(t,[{key:"mainScene",set:function(e){this.renderPass.mainScene=e}},{key:"mainCamera",set:function(e){this.renderPass.mainCamera=e}},{key:"texture",get:function(){return this.renderTarget.texture}}])}(fb.oF);const xb=n(4322),Ab=r.createContext(null);var Eb=function(e){function t(t){var n;let{blendFunction:r=fb.cf.SCREEN,luminanceThreshold:o=.9,luminanceSmoothing:a=.025,mipmapBlur:l=!1,intensity:u=new i.Vector3(1,1,1),radius:c=.85,levels:s=8,kernelSize:f=fb.h_.LARGE,resolutionScale:d=.5,width:v=fb.jg.AUTO_SIZE,height:m=fb.jg.AUTO_SIZE,resolutionX:_=v,resolutionY:p=m}=void 0===t?{}:t;(n=e.call(this,"BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform vec3 intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}",{blendFunction:r,uniforms:new Map([["map",new i.Uniform(null)],["intensity",new i.Uniform(u)]])})||this).renderTarget=new i.WebGLRenderTarget(1,1,{depthBuffer:!1}),n.renderTarget.texture.name="Bloom.Target",n.blurPass=new fb.DN({kernelSize:f}),n.luminancePass=new fb.Un({colorOutput:!0}),n.luminanceMaterial.threshold=o,n.luminanceMaterial.smoothing=a,n.mipmapBlurPass=new fb.JO,n.mipmapBlurPass.enabled=l,n.mipmapBlurPass.radius=c,n.mipmapBlurPass.levels=s,n.uniforms.get("map").value=l?n.mipmapBlurPass.texture:n.renderTarget.texture;const h=n.resolution=new fb.jg(n,_,p,d);return h.addEventListener("change",(e=>n.setSize(h.baseWidth,h.baseHeight))),n}(0,no.A)(t,e);var n=t.prototype;return n.getTexture=function(){return this.texture},n.getResolution=function(){return this.resolution},n.getBlurPass=function(){return this.blurPass},n.getLuminancePass=function(){return this.luminancePass},n.getLuminanceMaterial=function(){return this.luminancePass.fullscreenMaterial},n.getIntensity=function(){return this.intensity},n.setIntensity=function(e){this.intensity=e},n.getResolutionScale=function(){return this.resolution.scale},n.setResolutionScale=function(e){this.resolution.scale=e},n.update=function(e,t,n){const r=this.renderTarget,o=this.luminancePass;o.enabled?(o.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,o.renderTarget):this.blurPass.render(e,o.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,r)},n.setSize=function(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)},n.initialize=function(e,t,n){this.blurPass.initialize(e,t,n),this.luminancePass.initialize(e,t,n),this.mipmapBlurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,null!==e&&e.outputColorSpace===i.SRGBColorSpace&&(this.renderTarget.texture.colorSpace=i.SRGBColorSpace))},sb(t,[{key:"texture",get:function(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}},{key:"luminanceMaterial",get:function(){return this.luminancePass.fullscreenMaterial}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"dithering",get:function(){return this.blurPass.dithering},set:function(e){this.blurPass.dithering=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(e){this.blurPass.kernelSize=e}},{key:"distinction",get:function(){return console.warn(this.name,"distinction was removed"),1},set:function(e){console.warn(this.name,"distinction was removed")}},{key:"intensity",get:function(){return this.uniforms.get("intensity").value},set:function(e){this.uniforms.get("intensity").value=e}}])}(fb.Mj);const Sb=r.memo(r.forwardRef(((e,t)=>{let{darkoverTexture:n,lutTexture:o,children:a}=e;const{scene:l,camera:u,gl:c}=Re(),[s,f,d,v,m,_,p,h,b,y,g]=r.useMemo((()=>{c.outputColorSpace=i.LinearSRGBColorSpace;let e=new fb.s0(c),t=new bb(l,u),r=new yb(u,t.texture,{depthBuffer:t.renderTarget.depthTexture}),a=new _b(r.texture),s=new gb(l,u),f=new hb(s.renderTarget.depthTexture),d=new wb(l,u,t.renderTarget.depthTexture,s.renderTarget.depthTexture);const v=new fb.pS({texture:n,blendFunction:fb.cf.MULTIPLY}),m=new fb.t$({radialModulation:!0,modulationOffset:.01}),_=new Eb({radius:.70502,intensity:new i.Vector3(2.2709673945,1.9044158364,2.0861850205),levels:8,blendFunction:fb.cf.ADD,mipmapBlur:!0});_.luminancePass.enabled=!1,_.blendMode.setOpacity(.75);const p=new fb.K1({eskil:!0,offset:.21667}),h=new fb.aM(o,{inputColorSpace:i.SRGBColorSpace});let b=new fb.AH(l,u),y=new fb.Vu(u,v),g=new fb.Vu(u,m,_,p,h);return[e,t,r,a,s,f,d,y,g,b,new vb(g.texture)]}),[u,c,l]);(0,r.useEffect)((()=>(s.addPass(f),s.addPass(m),s.addPass(p),s.addPass(h),s.addPass(b),s.addPass(g),()=>{s.dispose()})),[l,u,f,d,v,m,_,p,h,b,y,g]),je(((e,t)=>{u.matrixAutoUpdate=!1,u.matrix.set(-.99176,-.00254,.12805,0,0,.9998,.01984,0,.12807,-.01967,.99157,0,-.17232,-1.20118,-3.5935,1),u.matrix.invert(),u.matrixWorldNeedsUpdate=!1,u.matrixWorldAutoUpdate=!1,u.matrixWorldInverse.set(-.99176,0,.12807,-.17232,-.00254,.9998,-.01967,-1.20118,.12805,.01984,.99157,-3.5935,0,0,0,1),u.zoom=4.38541153802,u.updateProjectionMatrix(),s.render(t)}),1);const w=r.useMemo((()=>({composer:s,normalPass:f,customSSAOPass:d,debugSSAOPass:v,customDepthPass:m,debugDepthPass:_,renderPass:p,effectPass:h,effectPassPost:b,flipScreenPass:g,camera:u,scene:l})),[s,f,d,v,m,_,p,h,b,g,u,l]);return r.useImperativeHandle(t,(()=>s),[s]),xb.jsx(Ab.Provider,{value:w})})));function Cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nb(r.key),r)}}function Nb(e){var t=function(e,t){if("object"!=Bb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bb(t)?t:t+""}function Bb(e){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(e)}var Ob=Object.defineProperty,Mb=function(e,t,n){return function(e,t,n){t in e?Ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==Bb(t)?t+"":t,n),n},Fb=function(){return function(e,t,n){return t&&Cb(e.prototype,t),n&&Cb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Mb(this,"_listeners")}),[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,o=n.length;r<o;r++)n[r].call(this,e);e.target=null}}}}])}();function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tb(r.key),r)}}function Db(e,t,n){return t&&Ib(e.prototype,t),n&&Ib(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tb(e){var t=function(e,t){if("object"!=Lb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lb(t)?t:t+""}function Pb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t,n){return t=Rb(t),function(e,t){if(t&&("object"==Lb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kb()?Reflect.construct(t,n||[],Rb(e).constructor):t.apply(e,n))}function kb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kb=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rb(e)}function jb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ub(e,t)}function Lb(e){return Lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(e)}var Hb=Object.defineProperty,Gb=function(e,t,n){return function(e,t,n){t in e?Hb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==Lb(t)?t+"":t,n),n},Kb=new i.Ray,Wb=new i.Plane,Vb=Math.cos(Math.PI/180*70),Jb=function(e,t){return(e%t+t)%t},$b=function(e){function t(e,n){var r,o,a,l,u,c,s,f;Pb(this,t),r=zb(this,t),Gb(r,"object"),Gb(r,"domElement"),Gb(r,"enabled",!0),Gb(r,"target",new i.Vector3),Gb(r,"minDistance",0),Gb(r,"maxDistance",1/0),Gb(r,"minZoom",0),Gb(r,"maxZoom",1/0),Gb(r,"minPolarAngle",0),Gb(r,"maxPolarAngle",Math.PI),Gb(r,"minAzimuthAngle",-1/0),Gb(r,"maxAzimuthAngle",1/0),Gb(r,"enableDamping",!1),Gb(r,"dampingFactor",.05),Gb(r,"enableZoom",!0),Gb(r,"zoomSpeed",1),Gb(r,"enableRotate",!0),Gb(r,"rotateSpeed",1),Gb(r,"enablePan",!0),Gb(r,"panSpeed",1),Gb(r,"screenSpacePanning",!0),Gb(r,"keyPanSpeed",7),Gb(r,"zoomToCursor",!1),Gb(r,"autoRotate",!1),Gb(r,"autoRotateSpeed",2),Gb(r,"reverseOrbit",!1),Gb(r,"reverseHorizontalOrbit",!1),Gb(r,"reverseVerticalOrbit",!1),Gb(r,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Gb(r,"mouseButtons",{LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN}),Gb(r,"touches",{ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN}),Gb(r,"target0"),Gb(r,"position0"),Gb(r,"zoom0"),Gb(r,"_domElementKeyEvents",null),Gb(r,"getPolarAngle"),Gb(r,"getAzimuthalAngle"),Gb(r,"setPolarAngle"),Gb(r,"setAzimuthalAngle"),Gb(r,"getDistance"),Gb(r,"getZoomScale"),Gb(r,"listenToKeyEvents"),Gb(r,"stopListenToKeyEvents"),Gb(r,"saveState"),Gb(r,"reset"),Gb(r,"update"),Gb(r,"connect"),Gb(r,"dispose"),Gb(r,"dollyIn"),Gb(r,"dollyOut"),Gb(r,"getScale"),Gb(r,"setScale"),r.object=e,r.domElement=n,r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.zoom0=r.object.zoom,r.getPolarAngle=function(){return y.phi},r.getAzimuthalAngle=function(){return y.theta},r.setPolarAngle=function(e){var t=Jb(e,2*Math.PI),n=y.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),g.phi=t-n,d.update()},r.setAzimuthalAngle=function(e){var t=Jb(e,2*Math.PI),n=y.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),g.theta=t-n,d.update()},r.getDistance=function(){return d.object.position.distanceTo(d.target)},r.listenToKeyEvents=function(e){e.addEventListener("keydown",ae),r._domElementKeyEvents=e},r.stopListenToKeyEvents=function(){r._domElementKeyEvents.removeEventListener("keydown",ae),r._domElementKeyEvents=null},r.saveState=function(){d.target0.copy(d.target),d.position0.copy(d.object.position),d.zoom0=d.object.zoom},r.reset=function(){d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.zoom=d.zoom0,d.object.updateProjectionMatrix(),d.dispatchEvent(v),d.update(),h=p.NONE},r.update=(o=new i.Vector3,a=new i.Vector3(0,1,0),l=(new i.Quaternion).setFromUnitVectors(e.up,a),u=l.clone().invert(),c=new i.Vector3,s=new i.Quaternion,f=2*Math.PI,function(){var t=d.object.position;l.setFromUnitVectors(e.up,a),u.copy(l).invert(),o.copy(t).sub(d.target),o.applyQuaternion(l),y.setFromVector3(o),d.autoRotate&&h===p.NONE&&R(2*Math.PI/60/60*d.autoRotateSpeed),d.enableDamping?(y.theta+=g.theta*d.dampingFactor,y.phi+=g.phi*d.dampingFactor):(y.theta+=g.theta,y.phi+=g.phi);var n=d.minAzimuthAngle,r=d.maxAzimuthAngle;isFinite(n)&&isFinite(r)&&(n<-Math.PI?n+=f:n>Math.PI&&(n-=f),r<-Math.PI?r+=f:r>Math.PI&&(r-=f),y.theta=n<=r?Math.max(n,Math.min(r,y.theta)):y.theta>(n+r)/2?Math.max(n,y.theta):Math.min(r,y.theta)),y.phi=Math.max(d.minPolarAngle,Math.min(d.maxPolarAngle,y.phi)),y.makeSafe(),!0===d.enableDamping?d.target.addScaledVector(x,d.dampingFactor):d.target.add(x),d.zoomToCursor&&T||d.object.isOrthographicCamera?y.radius=J(y.radius):y.radius=J(y.radius*w),o.setFromSpherical(y),o.applyQuaternion(u),t.copy(d.target).add(o),d.object.matrixAutoUpdate||d.object.updateMatrix(),d.object.lookAt(d.target),!0===d.enableDamping?(g.theta*=1-d.dampingFactor,g.phi*=1-d.dampingFactor,x.multiplyScalar(1-d.dampingFactor)):(g.set(0,0,0),x.set(0,0,0));var m=!1;if(d.zoomToCursor&&T){var _=null;if(d.object instanceof i.PerspectiveCamera&&d.object.isPerspectiveCamera){var A=o.length(),E=A-(_=J(A*w));d.object.position.addScaledVector(I,E),d.object.updateMatrixWorld()}else if(d.object.isOrthographicCamera){var S=new i.Vector3(D.x,D.y,0);S.unproject(d.object),d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/w)),d.object.updateProjectionMatrix(),m=!0;var C=new i.Vector3(D.x,D.y,0);C.unproject(d.object),d.object.position.sub(C).add(S),d.object.updateMatrixWorld(),_=o.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),d.zoomToCursor=!1;null!==_&&(d.screenSpacePanning?d.target.set(0,0,-1).transformDirection(d.object.matrix).multiplyScalar(_).add(d.object.position):(Kb.origin.copy(d.object.position),Kb.direction.set(0,0,-1).transformDirection(d.object.matrix),Math.abs(d.object.up.dot(Kb.direction))<Vb?e.lookAt(d.target):(Wb.setFromNormalAndCoplanarPoint(d.object.up,d.target),Kb.intersectPlane(Wb,d.target))))}else d.object instanceof i.OrthographicCamera&&d.object.isOrthographicCamera&&(m=1!==w)&&(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/w)),d.object.updateProjectionMatrix());return w=1,T=!1,!!(m||c.distanceToSquared(d.object.position)>b||8*(1-s.dot(d.object.quaternion))>b)&&(d.dispatchEvent(v),c.copy(d.object.position),s.copy(d.object.quaternion),m=!1,!0)}),r.connect=function(e){d.domElement=e,d.domElement.style.touchAction="none",d.domElement.addEventListener("contextmenu",le),d.domElement.addEventListener("pointerdown",ne),d.domElement.addEventListener("pointercancel",oe),d.domElement.addEventListener("wheel",ie)},r.dispose=function(){var e,t,n,r,o,i;d.domElement&&(d.domElement.style.touchAction="auto"),null==(e=d.domElement)||e.removeEventListener("contextmenu",le),null==(t=d.domElement)||t.removeEventListener("pointerdown",ne),null==(n=d.domElement)||n.removeEventListener("pointercancel",oe),null==(r=d.domElement)||r.removeEventListener("wheel",ie),null==(o=d.domElement)||o.ownerDocument.removeEventListener("pointermove",re),null==(i=d.domElement)||i.ownerDocument.removeEventListener("pointerup",oe),null!==d._domElementKeyEvents&&d._domElementKeyEvents.removeEventListener("keydown",ae)};var d=r,v={type:"change"},m={type:"start"},_={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},h=p.NONE,b=1e-6,y=new i.Spherical,g=new i.Spherical,w=1,x=new i.Vector3,A=new i.Vector2,E=new i.Vector2,S=new i.Vector2,C=new i.Vector2,N=new i.Vector2,B=new i.Vector2,O=new i.Vector2,M=new i.Vector2,F=new i.Vector2,I=new i.Vector3,D=new i.Vector2,T=!1,P=[],z={};function k(){return Math.pow(.95,d.zoomSpeed)}function R(e){d.reverseOrbit||d.reverseHorizontalOrbit?g.theta+=e:g.theta-=e}function j(e){d.reverseOrbit||d.reverseVerticalOrbit?g.phi+=e:g.phi-=e}var U=function(){var e=new i.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),x.add(e)}}(),L=function(){var e=new i.Vector3;return function(t,n){!0===d.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(d.object.up,e)),e.multiplyScalar(t),x.add(e)}}(),H=function(){var e=new i.Vector3;return function(t,n){var r=d.domElement;if(r&&d.object instanceof i.PerspectiveCamera&&d.object.isPerspectiveCamera){var o=d.object.position;e.copy(o).sub(d.target);var a=e.length();a*=Math.tan(d.object.fov/2*Math.PI/180),U(2*t*a/r.clientHeight,d.object.matrix),L(2*n*a/r.clientHeight,d.object.matrix)}else r&&d.object instanceof i.OrthographicCamera&&d.object.isOrthographicCamera?(U(t*(d.object.right-d.object.left)/d.object.zoom/r.clientWidth,d.object.matrix),L(n*(d.object.top-d.object.bottom)/d.object.zoom/r.clientHeight,d.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),d.enablePan=!1)}}();function G(e){d.object instanceof i.PerspectiveCamera&&d.object.isPerspectiveCamera||d.object instanceof i.OrthographicCamera&&d.object.isOrthographicCamera?w=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function K(e){G(w/e)}function W(e){G(w*e)}function V(e){if(d.zoomToCursor&&d.domElement){T=!0;var t=d.domElement.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,o=t.width,i=t.height;D.x=n/o*2-1,D.y=-r/i*2+1,I.set(D.x,D.y,1).unproject(d.object).sub(d.object.position).normalize()}}function J(e){return Math.max(d.minDistance,Math.min(d.maxDistance,e))}function $(e){A.set(e.clientX,e.clientY)}function Q(e){C.set(e.clientX,e.clientY)}function X(){if(1==P.length)A.set(P[0].pageX,P[0].pageY);else{var e=.5*(P[0].pageX+P[1].pageX),t=.5*(P[0].pageY+P[1].pageY);A.set(e,t)}}function Y(){if(1==P.length)C.set(P[0].pageX,P[0].pageY);else{var e=.5*(P[0].pageX+P[1].pageX),t=.5*(P[0].pageY+P[1].pageY);C.set(e,t)}}function Z(){var e=P[0].pageX-P[1].pageX,t=P[0].pageY-P[1].pageY,n=Math.sqrt(e*e+t*t);O.set(0,n)}function q(e){if(1==P.length)E.set(e.pageX,e.pageY);else{var t=ce(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);E.set(n,r)}S.subVectors(E,A).multiplyScalar(d.rotateSpeed);var o=d.domElement;o&&(R(2*Math.PI*S.x/o.clientHeight),j(2*Math.PI*S.y/o.clientHeight)),A.copy(E)}function ee(e){if(1==P.length)N.set(e.pageX,e.pageY);else{var t=ce(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);N.set(n,r)}B.subVectors(N,C).multiplyScalar(d.panSpeed),H(B.x,B.y),C.copy(N)}function te(e){var t=ce(e),n=e.pageX-t.x,r=e.pageY-t.y,o=Math.sqrt(n*n+r*r);M.set(0,o),F.set(0,Math.pow(M.y/O.y,d.zoomSpeed)),K(F.y),O.copy(M)}function ne(e){var t,n;!1!==d.enabled&&(0===P.length&&(null==(t=d.domElement)||t.ownerDocument.addEventListener("pointermove",re),null==(n=d.domElement)||n.ownerDocument.addEventListener("pointerup",oe)),function(e){P.push(e)}(e),"touch"===e.pointerType?function(e){switch(ue(e),P.length){case 1:switch(d.touches.ONE){case i.TOUCH.ROTATE:if(!1===d.enableRotate)return;X(),h=p.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(!1===d.enablePan)return;Y(),h=p.TOUCH_PAN;break;default:h=p.NONE}break;case 2:switch(d.touches.TWO){case i.TOUCH.DOLLY_PAN:if(!1===d.enableZoom&&!1===d.enablePan)return;d.enableZoom&&Z(),d.enablePan&&Y(),h=p.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(!1===d.enableZoom&&!1===d.enableRotate)return;d.enableZoom&&Z(),d.enableRotate&&X(),h=p.TOUCH_DOLLY_ROTATE;break;default:h=p.NONE}break;default:h=p.NONE}h!==p.NONE&&d.dispatchEvent(m)}(e):function(e){var t;switch(e.button){case 0:t=d.mouseButtons.LEFT;break;case 1:t=d.mouseButtons.MIDDLE;break;case 2:t=d.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.MOUSE.DOLLY:if(!1===d.enableZoom)return;!function(e){V(e),O.set(e.clientX,e.clientY)}(e),h=p.DOLLY;break;case i.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===d.enablePan)return;Q(e),h=p.PAN}else{if(!1===d.enableRotate)return;$(e),h=p.ROTATE}break;case i.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===d.enableRotate)return;$(e),h=p.ROTATE}else{if(!1===d.enablePan)return;Q(e),h=p.PAN}break;default:h=p.NONE}h!==p.NONE&&d.dispatchEvent(m)}(e))}function re(e){!1!==d.enabled&&("touch"===e.pointerType?function(e){switch(ue(e),h){case p.TOUCH_ROTATE:if(!1===d.enableRotate)return;q(e),d.update();break;case p.TOUCH_PAN:if(!1===d.enablePan)return;ee(e),d.update();break;case p.TOUCH_DOLLY_PAN:if(!1===d.enableZoom&&!1===d.enablePan)return;!function(e){d.enableZoom&&te(e),d.enablePan&&ee(e)}(e),d.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===d.enableZoom&&!1===d.enableRotate)return;!function(e){d.enableZoom&&te(e),d.enableRotate&&q(e)}(e),d.update();break;default:h=p.NONE}}(e):function(e){if(!1===d.enabled)return;switch(h){case p.ROTATE:if(!1===d.enableRotate)return;!function(e){E.set(e.clientX,e.clientY),S.subVectors(E,A).multiplyScalar(d.rotateSpeed);var t=d.domElement;t&&(R(2*Math.PI*S.x/t.clientHeight),j(2*Math.PI*S.y/t.clientHeight)),A.copy(E),d.update()}(e);break;case p.DOLLY:if(!1===d.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),F.subVectors(M,O),F.y>0?K(k()):F.y<0&&W(k()),O.copy(M),d.update()}(e);break;case p.PAN:if(!1===d.enablePan)return;!function(e){N.set(e.clientX,e.clientY),B.subVectors(N,C).multiplyScalar(d.panSpeed),H(B.x,B.y),C.copy(N),d.update()}(e)}}(e))}function oe(e){var t,n,r;!function(e){delete z[e.pointerId];for(var t=0;t<P.length;t++)if(P[t].pointerId==e.pointerId)return void P.splice(t,1)}(e),0===P.length&&(null==(t=d.domElement)||t.releasePointerCapture(e.pointerId),null==(n=d.domElement)||n.ownerDocument.removeEventListener("pointermove",re),null==(r=d.domElement)||r.ownerDocument.removeEventListener("pointerup",oe)),d.dispatchEvent(_),h=p.NONE}function ie(e){!1===d.enabled||!1===d.enableZoom||h!==p.NONE&&h!==p.ROTATE||(e.preventDefault(),d.dispatchEvent(m),function(e){V(e),e.deltaY<0?W(k()):e.deltaY>0&&K(k()),d.update()}(e),d.dispatchEvent(_))}function ae(e){!1!==d.enabled&&!1!==d.enablePan&&function(e){var t=!1;switch(e.code){case d.keys.UP:H(0,d.keyPanSpeed),t=!0;break;case d.keys.BOTTOM:H(0,-d.keyPanSpeed),t=!0;break;case d.keys.LEFT:H(d.keyPanSpeed,0),t=!0;break;case d.keys.RIGHT:H(-d.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),d.update())}(e)}function le(e){!1!==d.enabled&&e.preventDefault()}function ue(e){var t=z[e.pointerId];void 0===t&&(t=new i.Vector2,z[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ce(e){var t=e.pointerId===P[0].pointerId?P[1]:P[0];return z[t.pointerId]}return r.dollyIn=function(){W(arguments.length>0&&void 0!==arguments[0]?arguments[0]:k()),d.update()},r.dollyOut=function(){K(arguments.length>0&&void 0!==arguments[0]?arguments[0]:k()),d.update()},r.getScale=function(){return w},r.setScale=function(e){G(e),d.update()},r.getZoomScale=function(){return k()},void 0!==n&&r.connect(n),r.update(),r}return jb(t,e),Db(t)}(Fb),Qb=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"];var Xb=r.forwardRef((function(e,t){var n=e.makeDefault,o=e.camera,i=e.regress,a=e.domElement,l=e.enableDamping,u=void 0===l||l,c=e.keyEvents,s=void 0!==c&&c,f=e.onChange,d=e.onStart,v=e.onEnd,m=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Qb),_=Re((function(e){return e.invalidate})),p=Re((function(e){return e.camera})),h=Re((function(e){return e.gl})),b=Re((function(e){return e.events})),y=Re((function(e){return e.setEvents})),g=Re((function(e){return e.set})),w=Re((function(e){return e.get})),x=Re((function(e){return e.performance})),A=o||p,E=a||b.connected||h.domElement,S=r.useMemo((function(){return new $b(A)}),[A]);return je((function(){S.enabled&&S.update()}),-1),r.useEffect((function(){return s&&S.connect(!0===s?E:s),S.connect(E),function(){S.dispose()}}),[s,E,i,S,_]),r.useEffect((function(){var e=function(e){_(),i&&x.regress(),f&&f(e)},t=function(e){d&&d(e)},n=function(e){v&&v(e)};return S.addEventListener("change",e),S.addEventListener("start",t),S.addEventListener("end",n),function(){S.removeEventListener("start",t),S.removeEventListener("end",n),S.removeEventListener("change",e)}}),[f,d,v,S,_,y]),r.useEffect((function(){if(n){var e=w().controls;return g({controls:S}),function(){return g({controls:e})}}}),[n,S]),r.createElement("primitive",xo({ref:t,object:S,enableDamping:u},m))}));var Yb=e=>{let{className:t}=e;const n=(0,r.useRef)(),o=(new i.Matrix4).fromArray([-.99176,-.00254,.12805,0,0,.9998,.01984,0,.12807,-.01967,.99157,0,-.17232,-1.20118,-3.5935,1]),a=new i.Vector3,l=new i.Quaternion,u=new i.Vector3;o.decompose(a,l,u);a.toArray();o.invert().decompose(a,l,u);const c=new i.Euler;c.setFromRotationMatrix(o.invert(),"YXZ"),c.z*=-1;const s=Ge(i.TextureLoader,"/BlogPage/resources/models/lut.png"),f=Ge(i.TextureLoader,"/BlogPage/resources/models/darkover3.png");return r.createElement(Zt,{gl:{antialias:!1,alpha:!1},camera:{position:[0,0,0],fov:60,aspect:3840/2160,near:.3,far:1e3},shadows:!0},r.createElement("color",{attach:"background",args:["#12071f"]}),r.createElement(ab,null),r.createElement("directionalLight",{position:[2.5,5,5]}),r.createElement(Sb,{customPassRef:n,darkoverTexture:f,lutTexture:s}),r.createElement(Xb,null))}},2068:function(e,t,n){"use strict";var r=n(7868);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},3390:function(e){"use strict";e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},3824:function(e,t,n){"use strict";var r=n(1532);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},4109:function(e,t){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}t._isNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},t._setPrototypeOf=n},4426:function(e,t,n){"use strict";var r=n(546);function o(e,t){for(var n in t)i(t,n)&&(e[n]=t[n])}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){r(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var i=arguments[n];r(i)&&o(e,i)}return e}},4445:function(e,t,n){"use strict";var r=n(6480),o=n(1601),i=n(7473),a=n(8346);e.exports=function(e,t,n){if(!r(e))throw new TypeError("expected an object");if("string"!=typeof t||null==n)return o.apply(null,arguments);if("string"==typeof n)return a(e,t,n),e;var l=i(e,t);return r(n)&&r(l)&&(n=o({},l,n)),a(e,t,n),e}},4812:function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t._defineProperty=n,t._objectSpread2=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}},5216:function(e,t,n){"use strict";var r=n(4812),o=n(5235),i=n(9912);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function e(t,n,i){var a=this;o._classCallCheck(this,e),r._defineProperty(this,"dot2",(function(e,t){return a.x*e+a.y*t})),r._defineProperty(this,"dot3",(function(e,t,n){return a.x*e+a.y*t+a.z*n})),this.x=t,this.y=n,this.z=i},u=[new l(1,1,0),new l(-1,1,0),new l(1,-1,0),new l(-1,-1,0),new l(1,0,1),new l(-1,0,1),new l(1,0,-1),new l(-1,0,-1),new l(0,1,1),new l(0,-1,1),new l(0,1,-1),new l(0,-1,-1)],c=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],s=new Array(512),f=new Array(512),d=function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?c[t]^255&e:c[t]^e>>8&255,s[t]=s[t+256]=n,f[t]=f[t+256]=u[n%12]}};d(0);var v=.5*(Math.sqrt(3)-1),m=(3-Math.sqrt(3))/6,_=1/3,p=1/6,h=Object.freeze({__proto__:null,seed:d,simplex2:function(e,t){var n,r,o=(e+t)*v,i=Math.floor(e+o),a=Math.floor(t+o),l=(i+a)*m,u=e-i+l,c=t-a+l;u>c?(n=1,r=0):(n=0,r=1);var d=u-n+m,_=c-r+m,p=u-1+2*m,h=c-1+2*m,b=f[(i&=255)+s[a&=255]],y=f[i+n+s[a+r]],g=f[i+1+s[a+1]],w=.5-u*u-c*c,x=.5-d*d-_*_,A=.5-p*p-h*h;return 70*((w<0?0:(w*=w)*w*b.dot2(u,c))+(x<0?0:(x*=x)*x*y.dot2(d,_))+(A<0?0:(A*=A)*A*g.dot2(p,h)))},simplex3:function(e,t,n){var r,o,i,a,l,u,c=(e+t+n)*_,d=Math.floor(e+c),v=Math.floor(t+c),m=Math.floor(n+c),h=(d+v+m)*p,b=e-d+h,y=t-v+h,g=n-m+h;b>=y?y>=g?(r=1,o=0,i=0,a=1,l=1,u=0):b>=g?(r=1,o=0,i=0,a=1,l=0,u=1):(r=0,o=0,i=1,a=1,l=0,u=1):y<g?(r=0,o=0,i=1,a=0,l=1,u=1):b<g?(r=0,o=1,i=0,a=0,l=1,u=1):(r=0,o=1,i=0,a=1,l=1,u=0);var w=b-r+p,x=y-o+p,A=g-i+p,E=b-a+2*p,S=y-l+2*p,C=g-u+2*p,N=b-1+.5,B=y-1+.5,O=g-1+.5,M=f[(d&=255)+s[(v&=255)+s[m&=255]]],F=f[d+r+s[v+o+s[m+i]]],I=f[d+a+s[v+l+s[m+u]]],D=f[d+1+s[v+1+s[m+1]]],T=.6-b*b-y*y-g*g,P=.6-w*w-x*x-A*A,z=.6-E*E-S*S-C*C,k=.6-N*N-B*B-O*O;return 32*((T<0?0:(T*=T)*T*M.dot3(b,y,g))+(P<0?0:(P*=P)*P*F.dot3(w,x,A))+(z<0?0:(z*=z)*z*I.dot3(E,S,C))+(k<0?0:(k*=k)*k*D.dot3(N,B,O)))},perlin2:function(e,t){var n=Math.floor(e),r=Math.floor(t);e-=n,t-=r;var o=f[(n&=255)+s[r&=255]].dot2(e,t),a=f[n+s[r+1]].dot2(e,t-1),l=f[n+1+s[r]].dot2(e-1,t),u=f[n+1+s[r+1]].dot2(e-1,t-1),c=i.fade(e);return i.lerp(i.lerp(o,l,c),i.lerp(a,u,c),i.fade(t))},perlin3:function(e,t,n){var r=Math.floor(e),o=Math.floor(t),a=Math.floor(n);e-=r,t-=o,n-=a;var l=f[(r&=255)+s[(o&=255)+s[a&=255]]].dot3(e,t,n),u=f[r+s[o+s[a+1]]].dot3(e,t,n-1),c=f[r+s[o+1+s[a]]].dot3(e,t-1,n),d=f[r+s[o+1+s[a+1]]].dot3(e,t-1,n-1),v=f[r+1+s[o+s[a]]].dot3(e-1,t,n),m=f[r+1+s[o+s[a+1]]].dot3(e-1,t,n-1),_=f[r+1+s[o+1+s[a]]].dot3(e-1,t-1,n),p=f[r+1+s[o+1+s[a+1]]].dot3(e-1,t-1,n-1),h=i.fade(e),b=i.fade(t),y=i.fade(n);return i.lerp(i.lerp(i.lerp(l,v,h),i.lerp(u,m,h),y),i.lerp(i.lerp(c,_,h),i.lerp(d,p,h),y),b)}}),b=2*Math.PI,y=function(){function e(t){o._classCallCheck(this,e),r._defineProperty(this,"nextBurstTime",0),r._defineProperty(this,"nextFlashEndTime",0),r._defineProperty(this,"flashesDone",0),r._defineProperty(this,"isFlashing",!1),r._defineProperty(this,"currentCount",0),r._defineProperty(this,"flashIntensity",0),r._defineProperty(this,"isDecaying",!1),r._defineProperty(this,"autoBurst",!0),r._defineProperty(this,"decaySpeed",40),r._defineProperty(this,"minInterval",5e3),r._defineProperty(this,"maxInterval",1e4),r._defineProperty(this,"minDuration",50),r._defineProperty(this,"maxDuration",300),r._defineProperty(this,"count",5),Object.assign(this,t)}var t,n,i;return t=e,(n=[{key:"scheduleNextBurst",value:function(e){var t=Math.random()*(this.maxInterval-this.minInterval)+this.minInterval;this.nextBurstTime=e+t/1e3,this.flashesDone=0,this.isFlashing=!1}},{key:"burst",value:function(){this.nextBurstTime=0,this.flashesDone=0,this.isFlashing=!1}},{key:"update",value:function(e,t){if(e>this.nextBurstTime&&0===this.currentCount&&(this.currentCount=Math.floor(Math.random()*this.count)+1),this.flashesDone<this.currentCount&&e>this.nextBurstTime)if(this.isFlashing)this.isFlashing&&e>this.nextFlashEndTime&&(this.isFlashing=!1,this.isDecaying=!0,this.flashesDone++,this.flashesDone>=this.currentCount&&(this.currentCount=0,this.autoBurst&&this.scheduleNextBurst(e)));else{this.isFlashing=!0,this.flashIntensity=1;var n=Math.random()*(this.maxDuration-this.minDuration)+this.minDuration;this.nextFlashEndTime=e+n/1e3}return this.isDecaying&&(this.flashIntensity-=t*this.decaySpeed,this.flashIntensity=Math.max(0,Math.min(1,this.flashIntensity)),this.flashIntensity<=0&&(this.isDecaying=!1,this.flashIntensity=0)),this.flashIntensity}}])&&a(t.prototype,n),i&&a(t,i),e}();function g(e){var t=function(e){if("number"==typeof e)e=Math.abs(e);else if("string"==typeof e){var t=e;e=0;for(var n=0;n<t.length;n++)e=(e+(n+1)*(t.charCodeAt(n)%96))%2147483647}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}var w=function e(t){var n=this;o._classCallCheck(this,e),r._defineProperty(this,"seed",0),r._defineProperty(this,"init",(function(e){n.seed=e,n.value=g(e)})),r._defineProperty(this,"value",g(this.seed)),this.init(t)},x=new w(Math.random()),A={radius:1,center:[0,0,0]};function E(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},A),t),i=o.radius,a=o.center,l=0;l<e.length;l+=3){var u=n.value(),c=n.value(),s=Math.acos(2*c-1),f=b*u;e[l]=Math.sin(s)*Math.cos(f)*i+a[0],e[l+1]=Math.sin(s)*Math.sin(f)*i+a[1],e[l+2]=Math.cos(s)*i+a[2]}return e}function S(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},A),t),i=o.radius,a=o.center,l=0;l<e.length;l+=3){var u=Math.pow(n.value(),1/3),c=2*n.value()-1,s=2*n.value()-1,f=2*n.value()-1,d=Math.sqrt(c*c+s*s+f*f);c=u*c/d,s=u*s/d,f=u*f/d,e[l]=c*i+a[0],e[l+1]=s*i+a[1],e[l+2]=f*i+a[2]}return e}var C={radius:1,center:[0,0]};function N(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},C),t),i=o.radius,a=o.center,l=0;l<e.length;l+=2){var u=i*Math.sqrt(n.value()),c=n.value()*b;e[l]=Math.sin(c)*u+a[0],e[l+1]=Math.cos(c)*u+a[1]}return e}function B(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},C),t),i=o.radius,a=o.center,l=0;l<e.length;l+=2){var u=n.value()*b;e[l]=Math.sin(u)*i+a[0],e[l+1]=Math.cos(u)*i+a[1]}return e}var O={sides:1,center:[0,0]};function M(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},O),t),i=o.sides,a=o.center,l="number"==typeof i?i:i[0],u="number"==typeof i?i:i[1],c=0;c<e.length;c+=2)e[c]=(n.value()-.5)*l+a[0],e[c+1]=(n.value()-.5)*u+a[1];return e}function F(e,t){return e}function I(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},D),t),i=o.sides,a=o.center,l="number"==typeof i?i:i[0],u="number"==typeof i?i:i[1],c="number"==typeof i?i:i[2],s=0;s<e.length;s+=3)e[s]=(n.value()-.5)*l+a[0],e[s+1]=(n.value()-.5)*u+a[1],e[s+2]=(n.value()-.5)*c+a[2];return e}var D={sides:1,center:[0,0,0]};function T(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,o=r._objectSpread2(r._objectSpread2({},D),t),i=o.sides,a=o.center,l="number"==typeof i?i:i[0],u="number"==typeof i?i:i[1],c="number"==typeof i?i:i[2],s=0;s<e.length;s+=3)e[s]=(n.value()-.5)*l+a[0],e[s+1]=(n.value()-.5)*u+a[1],e[s+2]=(n.value()-.5)*c+a[2];return e}var P=Object.freeze({__proto__:null,FlashGen:y,Generator:w,onSphere:E,inSphere:S,inCircle:N,onCircle:B,inRect:M,onRect:F,inBox:I,onBox:T,noise:h});t.FlashGen=y,t.Generator=w,t.inBox=I,t.inCircle=N,t.inRect=M,t.inSphere=S,t.index=P,t.noise=h,t.onBox=T,t.onCircle=B,t.onRect=F,t.onSphere=E},5235:function(e,t){"use strict";t._classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},5248:function(e,t,n){"use strict";var r=n(1532);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},5541:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},5762:function(e,t,n){"use strict";var r=n(4109),o=n(414),i=n(6805);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t,n){return s=r._isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r._setPrototypeOf(i,n.prototype),i},s.apply(null,arguments)}function f(e,t){var n=u(t[0],2),r=n[0],i=n[1],a=u(t[1],2),l=a[0],c=a[1],s=u(t[2],2),f=s[0],d=s[1],v=u(e,2),m=v[0],_=v[1],p=new o.Matrix4;return p.set(r,i,r*r+i*i,1,l,c,l*l+c*c,1,f,d,f*f+d*d,1,m,_,m*m+_*_,1),p.determinant()<=0}function d(e){var t=u(e[0],2),n=t[0],r=t[1],o=u(e[1],2),a=o[0],l=o[1],c=u(e[2],2),s=c[0],f=c[1];return i.determinant3(n,r,1,a,l,1,s,f,1)}function v(e){return 0===d(e)}function m(e){return d(e)<0}function _(e){var t=u(e[0],2),n=t[0],r=t[1],a=u(e[1],2),l=a[0],c=a[1],s=u(e[2],2),f=s[0],d=s[1];if(v(e))return null;var m=new o.Matrix4;m.set(1,1,1,1,n*n+r*r,n,r,1,l*l+c*c,l,c,1,f*f+d*d,f,d,1);var _=i.getMinor(m,1,1),p=i.getMinor(m,1,3),h=i.getMinor(m,1,2)/_*.5,b=p/_*.5,y=h*h+b*b+i.getMinor(m,1,4)/_;return{x:0===Math.abs(h)?0:h,y:0===Math.abs(b)?0:-b,r:Math.sqrt(y)}}function p(e,t){var n=u(Array.isArray(t[0])?t[0]:t[0].toArray(),2),r=n[0],o=n[1],a=u(Array.isArray(t[1])?t[1]:t[1].toArray(),2),l=a[0],c=a[1],s=u(Array.isArray(t[2])?t[2]:t[2].toArray(),2),f=s[0],d=s[1],_=u(e,2),p=_[0],h=_[1];if(v(t))throw new Error("Collinear points don't form a triangle");var b=r-p,y=o-h,g=l-p,w=c-h,x=f-p,A=d-h,E=i.determinant3(b,y,b*b+y*y,g,w,g*g+w*w,x,A,x*x+A*A);return 0===E||(m(t)?E<0:E>0)}var h=new o.Vector2,b=new o.Vector2;function y(e){var t=u(e.map((function(e){return Array.isArray(e)?s(o.Vector2,c(e)):e})),3),n=t[0],r=t[1],i=t[2];if(v(e))return!1;var a=h.subVectors(r,n);return b.subVectors(i,n).cross(a)>0}var g=Object.freeze({__proto__:null,isPointInTriangle:f,triangleDeterminant:d,arePointsCollinear:v,isTriangleClockwise:m,getCircumcircle:_,isPointInCircumcircle:p,doThreePointsMakeARight:y});t._slicedToArray=u,t._toConsumableArray=c,t.arePointsCollinear=v,t.doThreePointsMakeARight=y,t.getCircumcircle=_,t.isPointInCircumcircle=p,t.isPointInTriangle=f,t.isTriangleClockwise=m,t.triangle=g,t.triangleDeterminant=d},5965:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e.exports=function(e){var t={},o=n(4362),i=n(3696),a=Object.assign;function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),s=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),_=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function A(e){return null===e||"object"!==r(e)?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}function E(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case s:return"Portal";case v:return"Profiler";case d:return"StrictMode";case h:return"Suspense";case b:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case m:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case g:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function C(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function N(e){if(C(e)!==e)throw Error(l(188))}function B(e){var t=e.alternate;if(!t){if(null===(t=C(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return N(o),e;if(i===r)return N(o),t;i=i.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}function O(e){return null!==(e=B(e))?M(e):null}function M(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=M(e);if(null!==t)return t;e=e.sibling}return null}function F(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=F(e);if(null!==t)return t}e=e.sibling}return null}var I,D=Array.isArray,T=e.getPublicInstance,P=e.getRootHostContext,z=e.getChildHostContext,k=e.prepareForCommit,R=e.resetAfterCommit,j=e.createInstance,U=e.appendInitialChild,L=e.finalizeInitialChildren,H=e.prepareUpdate,G=e.shouldSetTextContent,K=e.createTextInstance,W=e.scheduleTimeout,V=e.cancelTimeout,J=e.noTimeout,$=e.isPrimaryRenderer,Q=e.supportsMutation,X=e.supportsPersistence,Y=e.supportsHydration,Z=e.getInstanceFromNode,q=e.preparePortalMount,ee=e.getCurrentEventPriority,te=e.detachDeletedInstance,ne=e.supportsMicrotasks,re=e.scheduleMicrotask,oe=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,le=e.getTextContent,ue=e.isHiddenSubtree,ce=e.matchAccessibilityRole,se=e.setFocusIfFocusable,fe=e.setupIntersectionObserver,de=e.appendChild,ve=e.appendChildToContainer,me=e.commitTextUpdate,_e=e.commitMount,pe=e.commitUpdate,he=e.insertBefore,be=e.insertInContainerBefore,ye=e.removeChild,ge=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,Ae=e.hideTextInstance,Ee=e.unhideInstance,Se=e.unhideTextInstance,Ce=e.clearContainer,Ne=e.cloneInstance,Be=e.createContainerChildSet,Oe=e.appendChildToContainerChildSet,Me=e.finalizeContainerChildren,Fe=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,De=e.cloneHiddenTextInstance,Te=e.canHydrateInstance,Pe=e.canHydrateTextInstance,ze=e.canHydrateSuspenseInstance,ke=e.isSuspenseInstancePending,Re=e.isSuspenseInstanceFallback,je=e.registerSuspenseInstanceRetry,Ue=e.getNextHydratableSibling,Le=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,Ge=e.getFirstHydratableChildWithinSuspenseInstance,Ke=e.hydrateInstance,We=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,Je=e.getNextHydratableInstanceAfterSuspenseInstance,$e=e.commitHydratedContainer,Qe=e.commitHydratedSuspenseInstance,Xe=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,qe=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var o=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){o=s}e.call(t.prototype)}else{try{throw Error()}catch(s){o=s}e()}}catch(s){if(s&&o&&"string"==typeof s.stack){for(var i=s.stack.split("\n"),a=o.stack.split("\n"),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(1!==l||1!==u)do{if(l--,0>--u||i[l]!==a[u]){var c="\n"+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=l&&0<=u);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var ot=Object.prototype.hasOwnProperty,it=[],at=-1;function lt(e){return{current:e}}function ut(e){0>at||(e.current=it[at],it[at]=null,at--)}function ct(e,t){at++,it[at]=e.current,e.current=t}var st={},ft=lt(st),dt=lt(!1),vt=st;function mt(e,t){var n=e.type.contextTypes;if(!n)return st;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return null!=(e=e.childContextTypes)}function pt(){ut(dt),ut(ft)}function ht(e,t,n){if(ft.current!==st)throw Error(l(168));ct(ft,t),ct(dt,n)}function bt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(l(108,S(e)||"Unknown",o));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||st,vt=ft.current,ct(ft,e),ct(dt,dt.current),!0}function gt(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=bt(e,t,vt),r.__reactInternalMemoizedMergedChildContext=e,ut(dt),ut(ft),ct(ft,e)):ut(dt),ct(dt,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/At|0)|0},xt=Math.log,At=Math.LN2;var Et=64,St=4194304;function Ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~o;0!==l?r=Ct(l):0!==(i&=a)&&(r=Ct(i))}else 0!==(a=n&~o)?r=Ct(a):0!==i&&(r=Ct(i));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-wt(t)),r|=e[n],t&=~o;return r}function Bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ot(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Dt=0;function Tt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Pt=i.unstable_scheduleCallback,zt=i.unstable_cancelCallback,kt=i.unstable_shouldYield,Rt=i.unstable_requestPaint,jt=i.unstable_now,Ut=i.unstable_ImmediatePriority,Lt=i.unstable_UserBlockingPriority,Ht=i.unstable_NormalPriority,Gt=i.unstable_IdlePriority,Kt=null,Wt=null;var Vt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Jt=null,$t=!1,Qt=!1;function Xt(e){null===Jt?Jt=[e]:Jt.push(e)}function Yt(){if(!Qt&&null!==Jt){Qt=!0;var e=0,t=Dt;try{var n=Jt;for(Dt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Jt=null,$t=!1}catch(o){throw null!==Jt&&(Jt=Jt.slice(e+1)),Pt(Ut,Yt),o}finally{Dt=t,Qt=!1}}return null}var Zt=u.ReactCurrentBatchConfig;function qt(e,t){if(Vt(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!ot.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function en(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=rt(e.type,!1);case 11:return e=rt(e.type.render,!1);case 1:return e=rt(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=lt(null),rn=null,on=null,an=null;function ln(){an=on=rn=null}function un(e,t,n){$?(ct(nn,t._currentValue),t._currentValue=n):(ct(nn,t._currentValue2),t._currentValue2=n)}function cn(e){var t=nn.current;ut(nn),$?e._currentValue=t:e._currentValue2=t}function sn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fn(e,t){rn=e,an=on=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ro=!0),e.firstContext=null)}function dn(e){var t=$?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===on){if(null===rn)throw Error(l(308));on=e,rn.dependencies={lanes:0,firstContext:e}}else on=on.next=e;return t}var vn=null,mn=!1;function _n(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xi&&1&e.mode&&!(2&Qi)?(null===(e=n.interleaved)?(t.next=t,null===vn?vn=[n]:vn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function gn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var o=e.updateQueue;mn=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,s=c.next;c.next=null,null===l?i=s:l.next=s,l=c;var f=e.alternate;null!==f&&((u=(f=f.updateQueue).lastBaseUpdate)!==l&&(null===u?f.firstBaseUpdate=s:u.next=s,f.lastBaseUpdate=c))}if(null!==i){var d=o.baseState;for(l=0,f=s=c=null,u=i;;){var v=u.lane,m=u.eventTime;if((r&v)===v){null!==f&&(f=f.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=e,p=u;switch(v=t,m=n,p.tag){case 1:if("function"==typeof(_=p.payload)){d=_.call(m,d,v);break e}d=_;break e;case 3:_.flags=-65537&_.flags|128;case 0:if(null==(v="function"==typeof(_=p.payload)?_.call(m,d,v):_))break e;d=a({},d,v);break e;case 2:mn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(v=o.effects)?o.effects=[u]:v.push(u))}else m={eventTime:m,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(s=f=m,c=d):f=f.next=m,l|=v;if(null===(u=u.next)){if(null===(u=o.shared.pending))break;u=(v=u).next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}if(null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=s,o.lastBaseUpdate=f,null!==(t=o.shared.interleaved)){o=t;do{l|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);ra|=l,e.lanes=l,e.memoizedState=d}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(l(191,o));o.call(r)}}}var An=(new o.Component).refs;function En(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&C(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xa(),o=Aa(e),i=hn(r,o);i.payload=t,null!=n&&(i.callback=n),bn(e,i),null!==(t=Ea(e,o,r))&&yn(t,e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xa(),o=Aa(e),i=hn(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),bn(e,i),null!==(t=Ea(e,o,r))&&yn(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xa(),r=Aa(e),o=hn(n,r);o.tag=2,null!=t&&(o.callback=t),bn(e,o),null!==(t=Ea(e,r,n))&&yn(t,e,r)}};function Cn(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!qt(n,r)||!qt(o,i))}function Nn(e,t,n){var o=!1,i=st,a=t.contextType;return"object"===r(a)&&null!==a?a=dn(a):(i=_t(t)?vt:ft.current,a=(o=null!=(o=t.contextTypes))?mt(e,i):st),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function On(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=An,_n(e);var a=t.contextType;"object"===r(a)&&null!==a?i.context=dn(a):(a=_t(t)?vt:ft.current,i.context=mt(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(En(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),wn(e,n,i,o),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Mn=[],Fn=0,In=null,Dn=0,Tn=[],Pn=0,zn=null,kn=1,Rn="";function jn(e,t){Mn[Fn++]=Dn,Mn[Fn++]=In,In=e,Dn=t}function Un(e,t,n){Tn[Pn++]=kn,Tn[Pn++]=Rn,Tn[Pn++]=zn,zn=e;var r=kn;e=Rn;var o=32-wt(r)-1;r&=~(1<<o),n+=1;var i=32-wt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,kn=1<<32-wt(t)+o|n<<o|r,Rn=i+e}else kn=1<<i|n<<o|r,Rn=e}function Ln(e){null!==e.return&&(jn(e,1),Un(e,1,0))}function Hn(e){for(;e===In;)In=Mn[--Fn],Mn[Fn]=null,Dn=Mn[--Fn],Mn[Fn]=null;for(;e===zn;)zn=Tn[--Pn],Tn[Pn]=null,Rn=Tn[--Pn],Tn[Pn]=null,kn=Tn[--Pn],Tn[Pn]=null}var Gn=null,Kn=null,Wn=!1,Vn=!1,Jn=null;function $n(e,t){var n=qa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Qn(e,t){switch(e.tag){case 5:return null!==(t=Te(t,e.type,e.pendingProps))&&(e.stateNode=t,Gn=e,Kn=Le(t),!0);case 6:return null!==(t=Pe(t,e.pendingProps))&&(e.stateNode=t,Gn=e,Kn=null,!0);case 13:if(null!==(t=ze(t))){var n=null!==zn?{id:kn,overflow:Rn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=qa(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Gn=e,Kn=null,!0}return!1;default:return!1}}function Xn(e){return!(!(1&e.mode)||128&e.flags)}function Yn(e){if(Wn){var t=Kn;if(t){var n=t;if(!Qn(e,t)){if(Xn(e))throw Error(l(418));t=Ue(n);var r=Gn;t&&Qn(e,t)?$n(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Gn=e)}}else{if(Xn(e))throw Error(l(418));e.flags=-4097&e.flags|2,Wn=!1,Gn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gn=e}function qn(e){if(!Y||e!==Gn)return!1;if(!Wn)return Zn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!G(e.type,e.memoizedProps))){var t=Kn;if(t){if(Xn(e)){for(e=Kn;e;)e=Ue(e);throw Error(l(418))}for(;t;)$n(e,t),t=Ue(t)}}if(Zn(e),13===e.tag){if(!Y)throw Error(l(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));Kn=Je(e)}else Kn=Gn?Ue(e.stateNode):null;return!0}function er(){Y&&(Kn=Gn=null,Vn=Wn=!1)}function tr(e){null===Jn?Jn=[e]:Jn.push(e)}function nr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!==r(e)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var o=n.stateNode}if(!o)throw Error(l(147,e));var i=o,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===An&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function rr(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function or(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=tl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=il(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n,o){var a=n.type;return a===f?_(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===a||"object"===r(a)&&null!==a&&a.$$typeof===g&&or(a)===t.type)?((o=i(t,n.props)).ref=nr(e,t,n),o.return=e,o):((o=nl(n.type,n.key,n.props,null,e.mode,o)).ref=nr(e,t,n),o.return=e,o)}function m(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=al(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function _(e,t,n,r,o){return null===t||7!==t.tag?((t=rl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=il(""+t,e.mode,n)).return=e,t;if("object"===r(t)&&null!==t){switch(t.$$typeof){case c:return(n=nl(t.type,t.key,t.props,null,e.mode,n)).ref=nr(e,null,t),n.return=e,n;case s:return(t=al(t,e.mode,n)).return=e,t;case g:return p(e,(0,t._init)(t._payload),n)}if(D(t)||A(t))return(t=rl(t,e.mode,n,null)).return=e,t;rr(e,t)}return null}function h(e,t,n,o){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:d(e,t,""+n,o);if("object"===r(n)&&null!==n){switch(n.$$typeof){case c:return n.key===i?v(e,t,n,o):null;case s:return n.key===i?m(e,t,n,o):null;case g:return h(e,t,(i=n._init)(n._payload),o)}if(D(n)||A(n))return null!==i?null:_(e,t,n,o,null);rr(e,n)}return null}function b(e,t,n,o,i){if("string"==typeof o&&""!==o||"number"==typeof o)return d(t,e=e.get(n)||null,""+o,i);if("object"===r(o)&&null!==o){switch(o.$$typeof){case c:return v(t,e=e.get(null===o.key?n:o.key)||null,o,i);case s:return m(t,e=e.get(null===o.key?n:o.key)||null,o,i);case g:return b(e,t,n,(0,o._init)(o._payload),i)}if(D(o)||A(o))return _(t,e=e.get(n)||null,o,i,null);rr(t,o)}return null}function y(r,i,l,u){for(var c=null,s=null,f=i,d=i=0,v=null;null!==f&&d<l.length;d++){f.index>d?(v=f,f=null):v=f.sibling;var m=h(r,f,l[d],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(r,f),i=a(m,i,d),null===s?c=m:s.sibling=m,s=m,f=v}if(d===l.length)return n(r,f),Wn&&jn(r,d),c;if(null===f){for(;d<l.length;d++)null!==(f=p(r,l[d],u))&&(i=a(f,i,d),null===s?c=f:s.sibling=f,s=f);return Wn&&jn(r,d),c}for(f=o(r,f);d<l.length;d++)null!==(v=b(f,r,d,l[d],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),i=a(v,i,d),null===s?c=v:s.sibling=v,s=v);return e&&f.forEach((function(e){return t(r,e)})),Wn&&jn(r,d),c}function w(r,i,u,c){var s=A(u);if("function"!=typeof s)throw Error(l(150));if(null==(u=s.call(u)))throw Error(l(151));for(var f=s=null,d=i,v=i=0,m=null,_=u.next();null!==d&&!_.done;v++,_=u.next()){d.index>v?(m=d,d=null):m=d.sibling;var y=h(r,d,_.value,c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(r,d),i=a(y,i,v),null===f?s=y:f.sibling=y,f=y,d=m}if(_.done)return n(r,d),Wn&&jn(r,v),s;if(null===d){for(;!_.done;v++,_=u.next())null!==(_=p(r,_.value,c))&&(i=a(_,i,v),null===f?s=_:f.sibling=_,f=_);return Wn&&jn(r,v),s}for(d=o(r,d);!_.done;v++,_=u.next())null!==(_=b(d,r,v,_.value,c))&&(e&&null!==_.alternate&&d.delete(null===_.key?v:_.key),i=a(_,i,v),null===f?s=_:f.sibling=_,f=_);return e&&d.forEach((function(e){return t(r,e)})),Wn&&jn(r,v),s}return function e(o,a,l,d){if("object"===r(l)&&null!==l&&l.type===f&&null===l.key&&(l=l.props.children),"object"===r(l)&&null!==l){switch(l.$$typeof){case c:e:{for(var v=l.key,m=a;null!==m;){if(m.key===v){if((v=l.type)===f){if(7===m.tag){n(o,m.sibling),(a=i(m,l.props.children)).return=o,o=a;break e}}else if(m.elementType===v||"object"===r(v)&&null!==v&&v.$$typeof===g&&or(v)===m.type){n(o,m.sibling),(a=i(m,l.props)).ref=nr(o,m,l),a.return=o,o=a;break e}n(o,m);break}t(o,m),m=m.sibling}l.type===f?((a=rl(l.props.children,o.mode,d,l.key)).return=o,o=a):((d=nl(l.type,l.key,l.props,null,o.mode,d)).ref=nr(o,a,l),d.return=o,o=d)}return u(o);case s:e:{for(m=l.key;null!==a;){if(a.key===m){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(o,a.sibling),(a=i(a,l.children||[])).return=o,o=a;break e}n(o,a);break}t(o,a),a=a.sibling}(a=al(l,o.mode,d)).return=o,o=a}return u(o);case g:return e(o,a,(m=l._init)(l._payload),d)}if(D(l))return y(o,a,l,d);if(A(l))return w(o,a,l,d);rr(o,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==a&&6===a.tag?(n(o,a.sibling),(a=i(a,l)).return=o,o=a):(n(o,a),(a=il(l,o.mode,d)).return=o,o=a),u(o)):n(o,a)}}var ar=ir(!0),lr=ir(!1),ur={},cr=lt(ur),sr=lt(ur),fr=lt(ur);function dr(e){if(e===ur)throw Error(l(174));return e}function vr(e,t){ct(fr,t),ct(sr,e),ct(cr,ur),e=P(t),ut(cr),ct(cr,e)}function mr(){ut(cr),ut(sr),ut(fr)}function _r(e){var t=dr(fr.current),n=dr(cr.current);n!==(t=z(n,e.type,t))&&(ct(sr,e),ct(cr,t))}function pr(e){sr.current===e&&(ut(cr),ut(sr))}var hr=lt(0);function br(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ke(n)||Re(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function gr(){for(var e=0;e<yr.length;e++){var t=yr[e];$?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var wr=u.ReactCurrentDispatcher,xr=u.ReactCurrentBatchConfig,Ar=0,Er=null,Sr=null,Cr=null,Nr=!1,Br=!1,Or=0,Mr=0;function Fr(){throw Error(l(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Dr(e,t,n,r,o,i){if(Ar=i,Er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?po:ho,e=n(r,o),Br){i=0;do{if(Br=!1,Or=0,25<=i)throw Error(l(301));i+=1,Cr=Sr=null,t.updateQueue=null,wr.current=bo,e=n(r,o)}while(Br)}if(wr.current=_o,t=null!==Sr&&null!==Sr.next,Ar=0,Cr=Sr=Er=null,Nr=!1,t)throw Error(l(300));return e}function Tr(){var e=0!==Or;return Or=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cr?Er.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function zr(){if(null===Sr){var e=Er.alternate;e=null!==e?e.memoizedState:null}else e=Sr.next;var t=null===Cr?Er.memoizedState:Cr.next;if(null!==t)Cr=t,Sr=e;else{if(null===e)throw Error(l(310));e={memoizedState:(Sr=e).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===Cr?Er.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function kr(e,t){return"function"==typeof t?t(e):t}function Rr(e){var t=zr(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=Sr,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var u=a=null,c=null,s=i;do{var f=s.lane;if((Ar&f)===f)null!==c&&(c=c.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var d={lane:f,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===c?(u=c=d,a=r):c=c.next=d,Er.lanes|=f,ra|=f}s=s.next}while(null!==s&&s!==i);null===c?a=r:c.next=u,Vt(r,t.memoizedState)||(Ro=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,Er.lanes|=i,ra|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jr(e){var t=zr(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Vt(i,t.memoizedState)||(Ro=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ur(){}function Lr(e,t){var n=Er,r=zr(),o=t(),i=!Vt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ro=!0),r=r.queue,Zr(Kr.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==Cr&&1&Cr.memoizedState.tag){if(n.flags|=2048,Jr(9,Gr.bind(null,n,r,o,t),void 0,null),null===Xi)throw Error(l(349));30&Ar||Hr(n,t,o)}return o}function Hr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Er.updateQueue)?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&Ea(e,1,-1)}function Kr(e,t,n){return n((function(){Wr(t)&&Ea(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch(r){return!0}}function Vr(e){var t=Pr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:e},t.queue=e,e=e.dispatch=co.bind(null,Er,e),[t.memoizedState,e]}function Jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Er.updateQueue)?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $r(){return zr().memoizedState}function Qr(e,t,n,r){var o=Pr();Er.flags|=e,o.memoizedState=Jr(1|t,n,void 0,void 0===r?null:r)}function Xr(e,t,n,r){var o=zr();r=void 0===r?null:r;var i=void 0;if(null!==Sr){var a=Sr.memoizedState;if(i=a.destroy,null!==r&&Ir(r,a.deps))return void(o.memoizedState=Jr(t,n,i,r))}Er.flags|=e,o.memoizedState=Jr(1|t,n,i,r)}function Yr(e,t){return Qr(8390656,8,e,t)}function Zr(e,t){return Xr(2048,8,e,t)}function qr(e,t){return Xr(4,2,e,t)}function eo(e,t){return Xr(4,4,e,t)}function to(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function no(e,t,n){return n=null!=n?n.concat([e]):null,Xr(4,4,to.bind(null,t,e),n)}function ro(){}function oo(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function io(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ao(e,t){var n=Dt;Dt=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{Dt=n,xr.transition=r}}function lo(){return zr().memoizedState}function uo(e,t,n){var r=Aa(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},so(e)?fo(t,n):(vo(e,t,n),null!==(e=Ea(e,r,n=xa()))&&mo(e,t,r))}function co(e,t,n){var r=Aa(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(so(e))fo(t,o);else{vo(e,t,o);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,Vt(l,a))return}catch(u){}null!==(e=Ea(e,r,n=xa()))&&mo(e,t,r)}}function so(e){var t=e.alternate;return e===Er||null!==t&&t===Er}function fo(e,t){Br=Nr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vo(e,t,n){null!==Xi&&1&e.mode&&!(2&Qi)?(null===(e=t.interleaved)?(n.next=n,null===vn?vn=[t]:vn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function mo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var _o={readContext:dn,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},po={readContext:dn,useCallback:function(e,t){return Pr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Qr(4194308,4,to.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qr(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uo.bind(null,Er,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pr().memoizedState=e},useState:Vr,useDebugValue:ro,useDeferredValue:function(e){var t=Vr(e),n=t[0],r=t[1];return Yr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){var e=Vr(!1),t=e[0];return e=ao.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Er,o=Pr();if(Wn){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===Xi)throw Error(l(349));30&Ar||Hr(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Yr(Kr.bind(null,r,i,e),[e]),r.flags|=2048,Jr(9,Gr.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Xi.identifierPrefix;if(Wn){var n=Rn;t=":"+t+"R"+(n=(kn&~(1<<32-wt(kn)-1)).toString(32)+n),0<(n=Or++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Mr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ho={readContext:dn,useCallback:oo,useContext:dn,useEffect:Zr,useImperativeHandle:no,useInsertionEffect:qr,useLayoutEffect:eo,useMemo:io,useReducer:Rr,useRef:$r,useState:function(){return Rr(kr)},useDebugValue:ro,useDeferredValue:function(e){var t=Rr(kr),n=t[0],r=t[1];return Zr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Rr(kr)[0],zr().memoizedState]},useMutableSource:Ur,useSyncExternalStore:Lr,useId:lo,unstable_isNewReconciler:!1},bo={readContext:dn,useCallback:oo,useContext:dn,useEffect:Zr,useImperativeHandle:no,useInsertionEffect:qr,useLayoutEffect:eo,useMemo:io,useReducer:jr,useRef:$r,useState:function(){return jr(kr)},useDebugValue:ro,useDeferredValue:function(e){var t=jr(kr),n=t[0],r=t[1];return Zr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[jr(kr)[0],zr().memoizedState]},useMutableSource:Ur,useSyncExternalStore:Lr,useId:lo,unstable_isNewReconciler:!1};function yo(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function go(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var wo,xo,Ao,Eo,So="function"==typeof WeakMap?WeakMap:Map;function Co(e,t,n){(n=hn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){da||(da=!0,va=r),go(0,t)},n}function No(e,t,n){(n=hn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){go(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){go(0,t),"function"!=typeof r&&(null===ma?ma=new Set([this]):ma.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new So;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ja.bind(null,e,t,n),t.then(e,e))}function Oo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Mo(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=hn(-1,1)).tag=2,bn(n,t))),n.lanes|=1),e)}function Fo(e){e.flags|=4}function Io(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(Q)wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xo=function(){},Ao=function(e,t,n,r,o){if((e=e.memoizedProps)!==r){var i=t.stateNode,a=dr(cr.current);n=H(i,n,e,r,o,a),(t.updateQueue=n)&&Fo(t)}},Eo=function(e,t,n,r){n!==r&&Fo(t)};else if(X){wo=function(e,t,n,r){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;n&&r&&(i=Ie(i,o.type,o.memoizedProps,o)),U(e,i)}else if(6===o.tag)i=o.stateNode,n&&r&&(i=De(i,o.memoizedProps,o)),U(e,i);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(i=o.child)&&(i.return=o),wo(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var Do=function(e,t,n,r){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;n&&r&&(i=Ie(i,o.type,o.memoizedProps,o)),Oe(e,i)}else if(6===o.tag)i=o.stateNode,n&&r&&(i=De(i,o.memoizedProps,o)),Oe(e,i);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(i=o.child)&&(i.return=o),Do(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};xo=function(e,t){var n=t.stateNode;if(!Io(e,t)){e=n.containerInfo;var r=Be(e);Do(r,t,!1,!1),n.pendingChildren=r,Fo(t),Me(e,r)}},Ao=function(e,t,n,r,o){var i=e.stateNode,a=e.memoizedProps;if((e=Io(e,t))&&a===r)t.stateNode=i;else{var l=t.stateNode,u=dr(cr.current),c=null;a!==r&&(c=H(l,n,a,r,o,u)),e&&null===c?t.stateNode=i:(i=Ne(i,c,n,a,r,t,e,l),L(i,n,r,o,u)&&Fo(t),t.stateNode=i,e?Fo(t):wo(i,t,!1,!1))}},Eo=function(e,t,n,r){n!==r?(e=dr(fr.current),n=dr(cr.current),t.stateNode=K(r,e,n,t),Fo(t)):t.stateNode=e.stateNode}}else xo=function(){},Ao=function(){},Eo=function(){};function To(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Po(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zo(e,t,n){var r=t.pendingProps;switch(Hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Po(t),null;case 1:case 17:return _t(t.type)&&pt(),Po(t),null;case 3:return r=t.stateNode,mr(),ut(dt),ut(ft),gr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qn(t)?Fo(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Jn&&(Oa(Jn),Jn=null))),xo(e,t),Po(t),null;case 5:pr(t),n=dr(fr.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ao(e,t,o,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(l(166));return Po(t),null}if(e=dr(cr.current),qn(t)){if(!Y)throw Error(l(175));e=Ke(t.stateNode,t.type,t.memoizedProps,n,e,t,!Vn),t.updateQueue=e,null!==e&&Fo(t)}else{var i=j(o,r,n,e,t);wo(i,t,!1,!1),t.stateNode=i,L(i,o,r,n,e)&&Fo(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Po(t),null;case 6:if(e&&null!=t.stateNode)Eo(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));if(e=dr(fr.current),n=dr(cr.current),qn(t)){if(!Y)throw Error(l(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Vn))&&null!==(o=Gn))switch(i=!!(1&o.mode),o.tag){case 3:qe(o.stateNode.containerInfo,e,r,i);break;case 5:et(o.type,o.memoizedProps,o.stateNode,e,r,i)}n&&Fo(t)}else t.stateNode=K(r,e,n,t)}return Po(t),null;case 13:if(ut(hr),r=t.memoizedState,Wn&&null!==Kn&&1&t.mode&&!(128&t.flags)){for(e=Kn;e;)e=Ue(e);return er(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=qn(t),null===e){if(!r)throw Error(l(318));if(!Y)throw Error(l(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(317));Ve(e,t)}else er(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Po(t),null}return null!==Jn&&(Oa(Jn),Jn=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?qn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&hr.current?0===ta&&(ta=3):ka())),null!==t.updateQueue&&(t.flags|=4),Po(t),null);case 4:return mr(),xo(e,t),null===e&&q(t.stateNode.containerInfo),Po(t),null;case 10:return cn(t.type._context),Po(t),null;case 19:if(ut(hr),null===(o=t.memoizedState))return Po(t),null;if(r=!!(128&t.flags),null===(i=o.rendering))if(r)To(o,!1);else{if(0!==ta||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=br(e))){for(t.flags|=128,To(o,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)o=e,(n=r).flags&=14680066,null===(i=n.alternate)?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,o=i.dependencies,n.dependencies=null===o?null:{lanes:o.lanes,firstContext:o.firstContext}),r=r.sibling;return ct(hr,1&hr.current|2),t.child}e=e.sibling}null!==o.tail&&jt()>ca&&(t.flags|=128,r=!0,To(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=br(i))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),To(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!Wn)return Po(t),null}else 2*jt()-o.renderingStartTime>ca&&1073741824!==n&&(t.flags|=128,r=!0,To(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=jt(),t.sibling=null,e=hr.current,ct(hr,r?1&e|2:1&e),t):(Po(t),null);case 22:case 23:return Da(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&qi)&&(Po(t),Q&&6&t.subtreeFlags&&(t.flags|=8192)):Po(t),null;case 24:case 25:return null}throw Error(l(156,t.tag))}var ko=u.ReactCurrentOwner,Ro=!1;function jo(e,t,n,r){t.child=null===e?lr(t,null,n,r):ar(t,e.child,n,r)}function Uo(e,t,n,r,o){n=n.render;var i=t.ref;return fn(t,o),r=Dr(e,t,n,r,i,o),n=Tr(),null===e||Ro?(Wn&&n&&Ln(t),t.flags|=1,jo(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ai(e,t,o))}function Lo(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||el(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=nl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ho(e,t,i,r,o))}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:qt)(a,r)&&e.ref===t.ref)return ai(e,t,o)}return t.flags|=1,(e=tl(i,r)).ref=t.ref,e.return=t,t.child=e}function Ho(e,t,n,r,o){if(null!==e&&qt(e.memoizedProps,r)&&e.ref===t.ref){if(Ro=!1,!(e.lanes&o))return t.lanes=e.lanes,ai(e,t,o);131072&e.flags&&(Ro=!0)}return Wo(e,t,n,r,o)}function Go(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ct(ea,qi),qi|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==i?i.baseLanes:n,ct(ea,qi),qi|=r}else t.memoizedState={baseLanes:0,cachePool:null},ct(ea,qi),qi|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ct(ea,qi),qi|=r;return jo(e,t,o,n),t.child}function Ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wo(e,t,n,r,o){var i=_t(n)?vt:ft.current;return i=mt(t,i),fn(t,o),n=Dr(e,t,n,r,i,o),r=Tr(),null===e||Ro?(Wn&&r&&Ln(t),t.flags|=1,jo(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ai(e,t,o))}function Vo(e,t,n,o,i){if(_t(n)){var a=!0;yt(t)}else a=!1;if(fn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Nn(t,n,o),On(t,n,o,i),o=!0;else if(null===e){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,s=n.contextType;"object"===r(s)&&null!==s?s=dn(s):s=mt(t,s=_t(n)?vt:ft.current);var f=n.getDerivedStateFromProps,d="function"==typeof f||"function"==typeof l.getSnapshotBeforeUpdate;d||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(u!==o||c!==s)&&Bn(t,l,o,s),mn=!1;var v=t.memoizedState;l.state=v,wn(t,o,l,i),c=t.memoizedState,u!==o||v!==c||dt.current||mn?("function"==typeof f&&(En(t,n,f,o),c=t.memoizedState),(u=mn||Cn(t,n,u,o,v,c,s))?(d||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),l.props=o,l.state=c,l.context=s,o=u):("function"==typeof l.componentDidMount&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,pn(e,t),u=t.memoizedProps,s=t.type===t.elementType?u:tn(t.type,u),l.props=s,d=t.pendingProps,v=l.context,"object"===r(c=n.contextType)&&null!==c?c=dn(c):c=mt(t,c=_t(n)?vt:ft.current);var m=n.getDerivedStateFromProps;(f="function"==typeof m||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(u!==d||v!==c)&&Bn(t,l,o,c),mn=!1,v=t.memoizedState,l.state=v,wn(t,o,l,i);var _=t.memoizedState;u!==d||v!==_||dt.current||mn?("function"==typeof m&&(En(t,n,m,o),_=t.memoizedState),(s=mn||Cn(t,n,s,o,v,_,c)||!1)?(f||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(o,_,c),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(o,_,c)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=_),l.props=o,l.state=_,l.context=c,o=s):("function"!=typeof l.componentDidUpdate||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),o=!1)}return Jo(e,t,n,o,a,i)}function Jo(e,t,n,r,o,i){Ko(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&gt(t,n,!1),ai(e,t,i);r=t.stateNode,ko.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ar(t,e.child,null,i),t.child=ar(t,null,l,i)):jo(e,t,l,i),t.memoizedState=r.state,o&&gt(t,n,!0),t.child}function $o(e){var t=e.stateNode;t.pendingContext?ht(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ht(0,t.context,!1),vr(e,t.containerInfo)}function Qo(e,t,n,r,o){return er(),tr(o),t.flags|=256,jo(e,t,n,r),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0};function Yo(e){return{baseLanes:e,cachePool:null}}function Zo(e,t,n){var r,o=t.pendingProps,i=hr.current,a=!1,u=!!(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ct(hr,1&i),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Re(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=o.children,e=o.fallback,a?(o=t.mode,a=t.child,i={mode:"hidden",children:i},1&o||null===a?a=ol(i,o,0,null):(a.childLanes=0,a.pendingProps=i),e=rl(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yo(n),t.memoizedState=Xo,e):qo(t,i));if(null!==(i=e.memoizedState)){if(null!==(r=i.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ni(e,t,n,Error(l(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=o.fallback,i=t.mode,o=ol({mode:"visible",children:o.children},i,0,null),(a=rl(a,i,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,1&t.mode&&ar(t,e.child,null,n),t.child.memoizedState=Yo(n),t.memoizedState=Xo,a);if(1&t.mode)if(Re(r))t=ni(e,t,n,Error(l(419)));else if(o=!!(n&e.childLanes),Ro||o){if(null!==(o=Xi)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(o=a&(o.suspendedLanes|n)?0:a)&&o!==i.retryLane&&(i.retryLane=o,Ea(e,o,-1))}ka(),t=ni(e,t,n,Error(l(421)))}else ke(r)?(t.flags|=128,t.child=e.child,t=Qa.bind(null,e),je(r,t),t=null):(n=i.treeContext,Y&&(Kn=Ge(r),Gn=t,Wn=!0,Jn=null,Vn=!1,null!==n&&(Tn[Pn++]=kn,Tn[Pn++]=Rn,Tn[Pn++]=zn,kn=n.id,Rn=n.overflow,zn=t)),(t=qo(t,t.pendingProps.children)).flags|=4096);else t=ni(e,t,n,null);return t}return a?(o=ti(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?Yo(n):{baseLanes:i.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Xo,o):(n=ei(e,t,o.children,n),t.memoizedState=null,n)}return a?(o=ti(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?Yo(n):{baseLanes:i.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Xo,o):(n=ei(e,t,o.children,n),t.memoizedState=null,n)}function qo(e,t){return(t=ol({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ei(e,t,n,r){var o=e.child;return e=o.sibling,n=tl(o,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ti(e,t,n,r,o){var i=t.mode,a=(e=e.child).sibling,l={mode:"hidden",children:n};return 1&i||t.child===e?(n=tl(e,l)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=l,t.deletions=null),null!==a?r=tl(a,r):(r=rl(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ni(e,t,n,r){return null!==r&&tr(r),ar(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ri(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),sn(e.return,t,n)}function oi(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ii(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(jo(e,t,r.children,n),2&(r=hr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ri(e,n,t);else if(19===e.tag)ri(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(hr,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===br(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),oi(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===br(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}oi(t,!0,n,null,i);break;case"together":oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ai(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ra|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=tl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=tl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function li(e,t){switch(Hn(t),t.tag){case 1:return _t(t.type)&&pt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return mr(),ut(dt),ut(ft),gr(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pr(t),null;case 13:if(ut(hr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));er()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ut(hr),null;case 4:return mr(),null;case 10:return cn(t.type._context),null;case 22:case 23:return Da(),null;default:return null}}var ui=!1,ci=!1,si="function"==typeof WeakSet?WeakSet:Set,fi=null;function di(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Va(e,t,r)}else n.current=null}function vi(e,t,n){try{n()}catch(r){Va(e,t,r)}}var mi=!1;function _i(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&vi(t,n,i)}o=o.next}while(o!==r)}}function pi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hi(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=T(n);else e=n;"function"==typeof t?t(e):t.current=e}}function bi(e,t,n){if(Wt&&"function"==typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Kt,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var o=r,i=o.destroy;o=o.tag,void 0!==i&&(2&o||4&o)&&vi(t,n,i),r=r.next}while(r!==e)}break;case 1:if(di(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Va(t,n,a)}break;case 5:di(t,n);break;case 4:Q?Ci(e,t,n):X&&X&&(t=t.stateNode.containerInfo,n=Be(t),Fe(t,n))}}function yi(e,t,n){for(var r=t;;)if(bi(e,r,n),null===r.child||Q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function gi(e){var t=e.alternate;null!==t&&(e.alternate=null,gi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&te(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wi(e){return 5===e.tag||3===e.tag||4===e.tag}function xi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ai(e){if(Q){e:{for(var t=e.return;null!==t;){if(wi(t))break e;t=t.return}throw Error(l(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),Si(e,n=xi(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Ei(e,n=xi(e),t);break;default:throw Error(l(161))}}}function Ei(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?be(n,e,t):ve(n,e);else if(4!==r&&null!==(e=e.child))for(Ei(e,t,n),e=e.sibling;null!==e;)Ei(e,t,n),e=e.sibling}function Si(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?he(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Si(e,t,n),e=e.sibling;null!==e;)Si(e,t,n),e=e.sibling}function Ci(e,t,n){for(var r,o,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(l(160));switch(r=a.stateNode,a.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag)yi(e,i,n),o?ge(r,i.stateNode):ye(r,i.stateNode);else if(18===i.tag)o?Ye(r,i.stateNode):Xe(r,i.stateNode);else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(bi(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ni(e,t){if(Q){switch(t.tag){case 0:case 11:case 14:case 15:return _i(3,t,t.return),pi(3,t),void _i(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&pe(n,i,o,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(l(162));return n=t.memoizedProps,void me(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&$e(t.stateNode.containerInfo));case 13:case 19:return void Bi(t)}throw Error(l(163))}switch(t.tag){case 0:case 11:case 14:case 15:return _i(3,t,t.return),pi(3,t),void _i(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Bi(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&$e(t.stateNode.containerInfo)}e:if(X){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Fe(t.containerInfo,t.pendingChildren);break e}throw Error(l(163))}}function Bi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new si),t.forEach((function(t){var r=Xa.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Oi(e,t,n){fi=e,Mi(e,t,n)}function Mi(e,t,n){for(var r=!!(1&e.mode);null!==fi;){var o=fi,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||ui;if(!a){var l=o.alternate,u=null!==l&&null!==l.memoizedState||ci;l=ui;var c=ci;if(ui=a,(ci=u)&&!c)for(fi=o;null!==fi;)u=(a=fi).child,22===a.tag&&null!==a.memoizedState?Di(o):null!==u?(u.return=a,fi=u):Di(o);for(;null!==i;)fi=i,Mi(i,t,n),i=i.sibling;fi=o,ui=l,ci=c}Fi(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,fi=i):Fi(e)}}function Fi(e){for(;null!==fi;){var t=fi;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:ci||pi(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ci)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&xn(t,i,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=T(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,a,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&_e(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var c=t.alternate;if(null!==c){var s=c.memoizedState;if(null!==s){var f=s.dehydrated;null!==f&&Qe(f)}}}break;default:throw Error(l(163))}ci||512&t.flags&&hi(t)}catch(d){Va(t,t.return,d)}}if(t===e){fi=null;break}if(null!==(n=t.sibling)){n.return=t.return,fi=n;break}fi=t.return}}function Ii(e){for(;null!==fi;){var t=fi;if(t===e){fi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,fi=n;break}fi=t.return}}function Di(e){for(;null!==fi;){var t=fi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pi(4,t)}catch(u){Va(t,n,u)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(u){Va(t,o,u)}}var i=t.return;try{hi(t)}catch(u){Va(t,i,u)}break;case 5:var a=t.return;try{hi(t)}catch(u){Va(t,a,u)}}}catch(u){Va(t,t.return,u)}if(t===e){fi=null;break}var l=t.sibling;if(null!==l){l.return=t.return,fi=l;break}fi=t.return}}var Ti=0,Pi=1,zi=2,ki=3,Ri=4;if("function"==typeof Symbol&&Symbol.for){var ji=Symbol.for;Ti=ji("selector.component"),Pi=ji("selector.has_pseudo_class"),zi=ji("selector.role"),ki=ji("selector.test_id"),Ri=ji("selector.text")}function Ui(e){var t=Z(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(l(364));return t}if(null===(e=ie(e)))throw Error(l(362));return e.stateNode.current}function Li(e,t){switch(t.$$typeof){case Ti:if(e.type===t.value)return!0;break;case Pi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],o=e[n++],i=t[o];if(5!==r.tag||!ue(r)){for(;null!=i&&Li(r,i);)i=t[++o];if(o===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,o),r=r.sibling}}t=!1}return t;case zi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Ri:if((5===e.tag||6===e.tag)&&(null!==(e=le(e))&&0<=e.indexOf(t.value)))return!0;break;case ki:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function Hi(e){switch(e.$$typeof){case Ti:return"<"+(E(e.value)||"Unknown")+">";case Pi:return":has("+(Hi(e)||"")+")";case zi:return'[role="'+e.value+'"]';case Ri:return'"'+e.value+'"';case ki:return'[data-testname="'+e.value+'"]';default:throw Error(l(365))}}function Gi(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var o=e[r++],i=e[r++],a=t[i];if(5!==o.tag||!ue(o)){for(;null!=a&&Li(o,a);)a=t[++i];if(i===t.length)n.push(o);else for(o=o.child;null!==o;)e.push(o,i),o=o.sibling}}return n}function Ki(e,t){if(!oe)throw Error(l(363));e=Gi(e=Ui(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Wi=Math.ceil,Vi=u.ReactCurrentDispatcher,Ji=u.ReactCurrentOwner,$i=u.ReactCurrentBatchConfig,Qi=0,Xi=null,Yi=null,Zi=0,qi=0,ea=lt(0),ta=0,na=null,ra=0,oa=0,ia=0,aa=null,la=null,ua=0,ca=1/0;function sa(){ca=jt()+500}var fa,da=!1,va=null,ma=null,_a=!1,pa=null,ha=0,ba=0,ya=null,ga=-1,wa=0;function xa(){return 6&Qi?jt():-1!==ga?ga:ga=jt()}function Aa(e){return 1&e.mode?2&Qi&&0!==Zi?Zi&-Zi:null!==Zt.transition?(0===wa&&(e=Et,!(4194240&(Et<<=1))&&(Et=64),wa=e),wa):0!==(e=Dt)?e:ee():1}function Ea(e,t,n){if(50<ba)throw ba=0,ya=null,Error(l(185));var r=Sa(e,t);return null===r?null:(Ft(r,t,n),2&Qi&&r===Xi||(r===Xi&&(!(2&Qi)&&(oa|=t),4===ta&&Ma(r,Zi)),Ca(r,n),1===t&&0===Qi&&!(1&e.mode)&&(sa(),$t&&Yt())),r)}function Sa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ca(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-wt(i),l=1<<a,u=o[a];-1===u?l&n&&!(l&r)||(o[a]=Bt(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var r=Nt(e,e===Xi?Zi:0);if(0===r)null!==n&&zt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&zt(n),1===t)0===e.tag?function(e){$t=!0,Xt(e)}(Fa.bind(null,e)):Xt(Fa.bind(null,e)),ne?re((function(){0===Qi&&Yt()})):Pt(Ut,Yt),n=null;else{switch(Tt(r)){case 1:n=Ut;break;case 4:n=Lt;break;case 16:default:n=Ht;break;case 536870912:n=Gt}n=Ya(n,Na.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Na(e,t){if(ga=-1,wa=0,6&Qi)throw Error(l(327));var n=e.callbackNode;if(Ka()&&e.callbackNode!==n)return null;var r=Nt(e,e===Xi?Zi:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=Ra(e,r);else{t=r;var o=Qi;Qi|=2;var i=za();for(Xi===e&&Zi===t||(sa(),Ta(e,t));;)try{Ua();break}catch(u){Pa(e,u)}ln(),Vi.current=i,Qi=o,null!==Yi?t=0:(Xi=null,Zi=0,t=ta)}if(0!==t){if(2===t&&(0!==(o=Ot(e))&&(r=o,t=Ba(e,o))),1===t)throw n=na,Ta(e,0),Ma(e,r),Ca(e,jt()),n;if(6===t)Ma(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Vt(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=Ra(e,r),2===t&&(i=Ot(e),0!==i&&(r=i,t=Ba(e,i))),1!==t)))throw n=na,Ta(e,0),Ma(e,r),Ca(e,jt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(l(345));case 2:case 5:Ga(e,la);break;case 3:if(Ma(e,r),(130023424&r)===r&&10<(t=ua+500-jt())){if(0!==Nt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){xa(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=W(Ga.bind(null,e,la),t);break}Ga(e,la);break;case 4:if(Ma(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-wt(r);i=1<<a,(a=t[a])>o&&(o=a),r&=~i}if(r=o,10<(r=(120>(r=jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wi(r/1960))-r)){e.timeoutHandle=W(Ga.bind(null,e,la),r);break}Ga(e,la);break;default:throw Error(l(329))}}}return Ca(e,jt()),e.callbackNode===n?Na.bind(null,e):null}function Ba(e,t){var n=aa;return e.current.memoizedState.isDehydrated&&(Ta(e,t).flags|=256),2!==(e=Ra(e,t))&&(t=la,la=n,null!==t&&Oa(t)),e}function Oa(e){null===la?la=e:la.push.apply(la,e)}function Ma(e,t){for(t&=~ia,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Fa(e){if(6&Qi)throw Error(l(327));Ka();var t=Nt(e,0);if(!(1&t))return Ca(e,jt()),null;var n=Ra(e,t);if(0!==e.tag&&2===n){var r=Ot(e);0!==r&&(t=r,n=Ba(e,r))}if(1===n)throw n=na,Ta(e,0),Ma(e,t),Ca(e,jt()),n;if(6===n)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ga(e,la),Ca(e,jt()),null}function Ia(e){null!==pa&&0===pa.tag&&!(6&Qi)&&Ka();var t=Qi;Qi|=1;var n=$i.transition,r=Dt;try{if($i.transition=null,Dt=1,e)return e()}finally{Dt=r,$i.transition=n,!(6&(Qi=t))&&Yt()}}function Da(){qi=ea.current,ut(ea)}function Ta(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==J&&(e.timeoutHandle=J,V(n)),null!==Yi)for(n=Yi.return;null!==n;){var r=n;switch(Hn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&pt();break;case 3:mr(),ut(dt),ut(ft),gr();break;case 5:pr(r);break;case 4:mr();break;case 13:case 19:ut(hr);break;case 10:cn(r.type._context);break;case 22:case 23:Da()}n=n.return}if(Xi=e,Yi=e=tl(e.current,null),Zi=qi=t,ta=0,na=null,ia=oa=ra=0,la=aa=null,null!==vn){for(t=0;t<vn.length;t++)if(null!==(r=(n=vn[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}vn=null}return e}function Pa(e,t){for(;;){var n=Yi;try{if(ln(),wr.current=_o,Nr){for(var o=Er.memoizedState;null!==o;){var i=o.queue;null!==i&&(i.pending=null),o=o.next}Nr=!1}if(Ar=0,Cr=Sr=Er=null,Br=!1,Or=0,Ji.current=null,null===n||null===n.return){ta=1,na=t,Yi=null;break}e:{var a=e,u=n.return,c=n,s=t;if(t=Zi,c.flags|=32768,null!==s&&"object"===r(s)&&"function"==typeof s.then){var f=s,d=c,v=d.tag;if(!(1&d.mode||0!==v&&11!==v&&15!==v)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Oo(u);if(null!==_){_.flags&=-257,Mo(_,u,c,0,t),1&_.mode&&Bo(a,f,t),s=f;var p=(t=_).updateQueue;if(null===p){var h=new Set;h.add(s),t.updateQueue=h}else p.add(s);break e}if(!(1&t)){Bo(a,f,t),ka();break e}s=Error(l(426))}else if(Wn&&1&c.mode){var b=Oo(u);if(null!==b){!(65536&b.flags)&&(b.flags|=256),Mo(b,u,c,0,t),tr(s);break e}}a=s,4!==ta&&(ta=2),null===aa?aa=[a]:aa.push(a),s=yo(s,c),c=u;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t,gn(c,Co(0,s,t));break e;case 1:a=s;var y=c.type,g=c.stateNode;if(!(128&c.flags||"function"!=typeof y.getDerivedStateFromError&&(null===g||"function"!=typeof g.componentDidCatch||null!==ma&&ma.has(g)))){c.flags|=65536,t&=-t,c.lanes|=t,gn(c,No(c,a,t));break e}}c=c.return}while(null!==c)}Ha(n)}catch(w){t=w,Yi===n&&null!==n&&(Yi=n=n.return);continue}break}}function za(){var e=Vi.current;return Vi.current=_o,null===e?_o:e}function ka(){0!==ta&&3!==ta&&2!==ta||(ta=4),null===Xi||!(268435455&ra)&&!(268435455&oa)||Ma(Xi,Zi)}function Ra(e,t){var n=Qi;Qi|=2;var r=za();for(Xi===e&&Zi===t||Ta(e,t);;)try{ja();break}catch(o){Pa(e,o)}if(ln(),Qi=n,Vi.current=r,null!==Yi)throw Error(l(261));return Xi=null,Zi=0,ta}function ja(){for(;null!==Yi;)La(Yi)}function Ua(){for(;null!==Yi&&!kt();)La(Yi)}function La(e){var t=fa(e.alternate,e,qi);e.memoizedProps=e.pendingProps,null===t?Ha(e):Yi=t,Ji.current=null}function Ha(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=li(n,t)))return n.flags&=32767,void(Yi=n);if(null===e)return ta=6,void(Yi=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=zo(n,t,qi)))return void(Yi=n);if(null!==(t=t.sibling))return void(Yi=t);Yi=t=e}while(null!==t);0===ta&&(ta=5)}function Ga(e,t){var n=Dt,r=$i.transition;try{$i.transition=null,Dt=1,function(e,t,n){do{Ka()}while(null!==pa);if(6&Qi)throw Error(l(327));var r=e.finishedWork,o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-wt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,i),e===Xi&&(Yi=Xi=null,Zi=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||_a||(_a=!0,Ya(Ht,(function(){return Ka(),null}))),i=!!(15990&r.flags),!!(15990&r.subtreeFlags)||i){i=$i.transition,$i.transition=null;var a=Dt;Dt=1;var u=Qi;Qi|=4,Ji.current=null,function(e,t){for(k(e.containerInfo),fi=t;null!==fi;)if(t=(e=fi).child,1028&e.subtreeFlags&&null!==t)t.return=e,fi=t;else for(;null!==fi;){e=fi;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,o=n.memoizedState,i=e.stateNode,a=i.getSnapshotBeforeUpdate(e.elementType===e.type?r:tn(e.type,r),o);i.__reactInternalSnapshotBeforeUpdate=a}break;case 3:Q&&Ce(e.stateNode.containerInfo);break;default:throw Error(l(163))}}catch(u){Va(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,fi=t;break}fi=e.return}n=mi,mi=!1}(e,r),function(e,t){for(fi=t;null!==fi;){var n=(t=fi).deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e;Q?Ci(i,o,t):yi(i,o,t);var a=o.alternate;null!==a&&(a.return=null),o.return=null}catch(w){Va(o,t,w)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,fi=n;else for(;null!==fi;){t=fi;try{var l=t.flags;if(32&l&&Q&&we(t.stateNode),512&l){var u=t.alternate;if(null!==u){var c=u.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}if(8192&l)switch(t.tag){case 13:if(null!==t.memoizedState){var s=t.alternate;null!==s&&null!==s.memoizedState||(ua=jt())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,v=null!==d&&null!==d.memoizedState;if(n=t,Q)e:if(r=n,o=f,i=null,Q)for(var m=r;;){if(5===m.tag){if(null===i){i=m;var _=m.stateNode;o?xe(_):Ee(m.stateNode,m.memoizedProps)}}else if(6===m.tag){if(null===i){var p=m.stateNode;o?Ae(p):Se(p,m.memoizedProps)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===r)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===r)break;for(;null===m.sibling;){if(null===m.return||m.return===r)break e;i===m&&(i=null),m=m.return}i===m&&(i=null),m.sibling.return=m.return,m=m.sibling}if(f&&!v&&1&n.mode){fi=n;for(var h=n.child;null!==h;){for(n=fi=h;null!==fi;){var b=(r=fi).child;switch(r.tag){case 0:case 11:case 14:case 15:_i(4,r,r.return);break;case 1:di(r,r.return);var y=r.stateNode;if("function"==typeof y.componentWillUnmount){var g=r.return;try{y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(w){Va(r,g,w)}}break;case 5:di(r,r.return);break;case 22:if(null!==r.memoizedState){Ii(n);continue}}null!==b?(b.return=r,fi=b):Ii(n)}h=h.sibling}}}switch(4102&l){case 2:Ai(t),t.flags&=-3;break;case 6:Ai(t),t.flags&=-3,Ni(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ni(t.alternate,t);break;case 4:Ni(t.alternate,t)}}catch(w){Va(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,fi=n;break}fi=t.return}}}(e,r),R(e.containerInfo),e.current=r,Oi(r,e,o),Rt(),Qi=u,Dt=a,$i.transition=i}else e.current=r;if(_a&&(_a=!1,pa=e,ha=o),i=e.pendingLanes,0===i&&(ma=null),function(e){if(Wt&&"function"==typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Kt,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),Ca(e,jt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(da)throw da=!1,e=va,va=null,e;!!(1&ha)&&0!==e.tag&&Ka(),i=e.pendingLanes,1&i?e===ya?ba++:(ba=0,ya=e):ba=0,Yt()}(e,t,n)}finally{$i.transition=r,Dt=n}return null}function Ka(){if(null!==pa){var e=Tt(ha),t=$i.transition,n=Dt;try{if($i.transition=null,Dt=16>e?16:e,null===pa)var r=!1;else{if(e=pa,pa=null,ha=0,6&Qi)throw Error(l(331));var o=Qi;for(Qi|=4,fi=e.current;null!==fi;){var i=fi,a=i.child;if(16&fi.flags){var u=i.deletions;if(null!==u){for(var c=0;c<u.length;c++){var s=u[c];for(fi=s;null!==fi;){var f=fi;switch(f.tag){case 0:case 11:case 15:_i(8,f,i)}var d=f.child;if(null!==d)d.return=f,fi=d;else for(;null!==fi;){var v=(f=fi).sibling,m=f.return;if(gi(f),f===s){fi=null;break}if(null!==v){v.return=m,fi=v;break}fi=m}}}var _=i.alternate;if(null!==_){var p=_.child;if(null!==p){_.child=null;do{var h=p.sibling;p.sibling=null,p=h}while(null!==p)}}fi=i}}if(2064&i.subtreeFlags&&null!==a)a.return=i,fi=a;else e:for(;null!==fi;){if(2048&(i=fi).flags)switch(i.tag){case 0:case 11:case 15:_i(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,fi=b;break e}fi=i.return}}var y=e.current;for(fi=y;null!==fi;){var g=(a=fi).child;if(2064&a.subtreeFlags&&null!==g)g.return=a,fi=g;else e:for(a=y;null!==fi;){if(2048&(u=fi).flags)try{switch(u.tag){case 0:case 11:case 15:pi(9,u)}}catch(x){Va(u,u.return,x)}if(u===a){fi=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,fi=w;break e}fi=u.return}}if(Qi=o,Yt(),Wt&&"function"==typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Kt,e)}catch(x){}r=!0}return r}finally{Dt=n,$i.transition=t}}return!1}function Wa(e,t,n){bn(e,t=Co(0,t=yo(n,t),1)),t=xa(),null!==(e=Sa(e,1))&&(Ft(e,1,t),Ca(e,t))}function Va(e,t,n){if(3===e.tag)Wa(e,e,n);else for(;null!==t;){if(3===t.tag){Wa(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ma||!ma.has(r))){bn(t,e=No(t,e=yo(n,e),1)),e=xa(),null!==(t=Sa(t,1))&&(Ft(t,1,e),Ca(t,e));break}}t=t.return}}function Ja(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xa(),e.pingedLanes|=e.suspendedLanes&n,Xi===e&&(Zi&n)===n&&(4===ta||3===ta&&(130023424&Zi)===Zi&&500>jt()-ua?Ta(e,0):ia|=n),Ca(e,t)}function $a(e,t){0===t&&(1&e.mode?(t=St,!(130023424&(St<<=1))&&(St=4194304)):t=1);var n=xa();null!==(e=Sa(e,t))&&(Ft(e,t,n),Ca(e,n))}function Qa(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),$a(e,n)}function Xa(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(l(314))}null!==r&&r.delete(t),$a(e,n)}function Ya(e,t){return Pt(e,t)}function Za(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qa(e,t,n,r){return new Za(e,t,n,r)}function el(e){return!(!(e=e.prototype)||!e.isReactComponent)}function tl(e,t){var n=e.alternate;return null===n?((n=qa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,o,i,a){var u=2;if(o=e,"function"==typeof e)el(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case f:return rl(n.children,i,a,t);case d:u=8,i|=8;break;case v:return(e=qa(12,n,t,2|i)).elementType=v,e.lanes=a,e;case h:return(e=qa(13,n,t,i)).elementType=h,e.lanes=a,e;case b:return(e=qa(19,n,t,i)).elementType=b,e.lanes=a,e;case w:return ol(n,i,a,t);default:if("object"===r(e)&&null!==e)switch(e.$$typeof){case m:u=10;break e;case _:u=9;break e;case p:u=11;break e;case y:u=14;break e;case g:u=16,o=null;break e}throw Error(l(130,null==e?e:r(e),""))}return(t=qa(u,n,t,i)).elementType=e,t.type=o,t.lanes=a,t}function rl(e,t,n,r){return(e=qa(7,e,r,t)).lanes=n,e}function ol(e,t,n,r){return(e=qa(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function il(e,t,n){return(e=qa(6,e,null,t)).lanes=n,e}function al(e,t,n){return(t=qa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ll(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=J,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mt(0),this.expirationTimes=Mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.identifierPrefix=r,this.onRecoverableError=o,Y&&(this.mutableSourceEagerHydrationData=null)}function ul(e,t,n,r,o,i,a,l,u){return e=new ll(e,t,n,l,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=qa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},_n(i),e}function cl(e){if(!e)return st;e:{if(C(e=e._reactInternals)!==e||1!==e.tag)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(l(171))}if(1===e.tag){var n=e.type;if(_t(n))return bt(e,n,t)}return t}function sl(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return null===(e=O(t))?null:e.stateNode}function fl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function dl(e,t){fl(e,t),(e=e.alternate)&&fl(e,t)}function vl(e){return null===(e=O(e))?null:e.stateNode}function ml(){return null}return fa=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Ro=!0;else{if(!(e.lanes&n||128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:$o(t),er();break;case 5:_r(t);break;case 1:_t(t.type)&&yt(t);break;case 4:vr(t,t.stateNode.containerInfo);break;case 10:un(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ct(hr,1&hr.current),t.flags|=128,null):n&t.child.childLanes?Zo(e,t,n):(ct(hr,1&hr.current),null!==(e=ai(e,t,n))?e.sibling:null);ct(hr,1&hr.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return ii(e,t,n);t.flags|=128}var o=t.memoizedState;if(null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),ct(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,Go(e,t,n)}return ai(e,t,n)}(e,t,n);Ro=!!(131072&e.flags)}else Ro=!1,Wn&&1048576&t.flags&&Un(t,Dn,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=mt(t,ft.current);fn(t,n),i=Dr(null,t,o,e,i,n);var a=Tr();return t.flags|=1,"object"===r(i)&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(o)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_n(t),i.updater=Sn,t.stateNode=i,i._reactInternals=t,On(t,o,e,n),t=Jo(null,t,o,!0,a,n)):(t.tag=0,Wn&&a&&Ln(t),jo(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"==typeof e)return el(e)?1:0;if(null!=e){if((e=e.$$typeof)===p)return 11;if(e===y)return 14}return 2}(o),e=tn(o,e),i){case 0:t=Wo(null,t,o,e,n);break e;case 1:t=Vo(null,t,o,e,n);break e;case 11:t=Uo(null,t,o,e,n);break e;case 14:t=Lo(null,t,o,tn(o.type,e),n);break e}throw Error(l(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,Wo(e,t,o,i=t.elementType===o?i:tn(o,i),n);case 1:return o=t.type,i=t.pendingProps,Vo(e,t,o,i=t.elementType===o?i:tn(o,i),n);case 3:e:{if($o(t),null===e)throw Error(l(387));o=t.pendingProps,i=(a=t.memoizedState).element,pn(e,t),wn(t,o,null,n);var u=t.memoizedState;if(o=u.element,Y&&a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qo(e,t,o,n,i=Error(l(423)));break e}if(o!==i){t=Qo(e,t,o,n,i=Error(l(424)));break e}for(Y&&(Kn=He(t.stateNode.containerInfo),Gn=t,Wn=!0,Jn=null,Vn=!1),n=lr(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(er(),o===i){t=ai(e,t,n);break e}jo(e,t,o,n)}t=t.child}return t;case 5:return _r(t),null===e&&Yn(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,G(o,i)?u=null:null!==a&&G(o,a)&&(t.flags|=32),Ko(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Zo(e,t,n);case 4:return vr(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=ar(t,null,o,n):jo(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,Uo(e,t,o,i=t.elementType===o?i:tn(o,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,a=t.memoizedProps,un(0,o,u=i.value),null!==a)if(Vt(a.value,u)){if(a.children===i.children&&!dt.current){t=ai(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){u=a.child;for(var s=c.firstContext;null!==s;){if(s.context===o){if(1===a.tag){(s=hn(-1,n&-n)).tag=2;var f=a.updateQueue;if(null!==f){var d=(f=f.shared).pending;null===d?s.next=s:(s.next=d.next,d.next=s),f.pending=s}}a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),sn(a.return,n,t),c.lanes|=n;break}s=s.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(l(341));u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),sn(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,fn(t,n),o=o(i=dn(i)),t.flags|=1,jo(e,t,o,n),t.child;case 14:return i=tn(o=t.type,t.pendingProps),Lo(e,t,o,i=tn(o.type,i),n);case 15:return Ho(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tn(o,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,_t(o)?(e=!0,yt(t)):e=!1,fn(t,n),Nn(t,o,i),On(t,o,i,n),Jo(null,t,o,!0,e,n);case 19:return ii(e,t,n);case 22:return Go(e,t,n)}throw Error(l(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(Ea(e,134217728,xa()),dl(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xa(),n=Aa(e);Ea(e,n,t),dl(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ct(t.pendingLanes);0!==n&&(It(t,1|n),Ca(t,jt()),!(6&Qi)&&(sa(),Yt()))}break;case 13:var r=xa();Ia((function(){return Ea(e,1,r)})),dl(e,1)}},t.batchedUpdates=function(e,t){var n=Qi;Qi|=1;try{return e(t)}finally{0===(Qi=n)&&(sa(),$t&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:Ti,value:e}},t.createContainer=function(e,t,n,r,o,i,a){return ul(e,t,!1,null,0,r,0,i,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Pi,value:e}},t.createHydrationContainer=function(e,t,n,r,o,i,a,l,u){return(e=ul(n,r,!0,e,0,i,0,l,u)).context=cl(null),n=e.current,(i=hn(r=xa(),o=Aa(n))).callback=null!=t?t:null,bn(n,i),e.current.lanes=o,Ft(e,o,r),Ca(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:zi,value:e}},t.createTestNameSelector=function(e){return{$$typeof:ki,value:e}},t.createTextSelector=function(e){return{$$typeof:Ri,value:e}},t.deferredUpdates=function(e){var t=Dt,n=$i.transition;try{return $i.transition=null,Dt=16,e()}finally{Dt=t,$i.transition=n}},t.discreteUpdates=function(e,t,n,r,o){var i=Dt,a=$i.transition;try{return $i.transition=null,Dt=1,e(t,n,r,o)}finally{Dt=i,$i.transition=a,0===Qi&&sa()}},t.findAllNodes=Ki,t.findBoundingRects=function(e,t){if(!oe)throw Error(l(363));t=Ki(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,o=r+n.width,i=n.y,a=i+n.height,u=t-1;0<=u;u--)if(t!==u){var c=e[u],s=c.x,f=s+c.width,d=c.y,v=d+c.height;if(r>=s&&i>=d&&o<=f&&a<=v){e.splice(t,1);break}if(!(r!==s||n.width!==c.width||v<i||d>a)){d>i&&(c.height+=d-i,c.y=i),v<a&&(c.height=a-d),e.splice(t,1);break}if(!(i!==d||n.height!==c.height||f<r||s>o)){s>r&&(c.width+=s-r,c.x=r),f<o&&(c.width=o-s),e.splice(t,1);break}}return e},t.findHostInstance=sl,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=B(e))?F(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return sl(e)},t.flushControlled=function(e){var t=Qi;Qi|=1;var n=$i.transition,r=Dt;try{$i.transition=null,Dt=1,e()}finally{Dt=r,$i.transition=n,0===(Qi=t)&&(sa(),Yt())}},t.flushPassiveEffects=Ka,t.flushSync=Ia,t.focusWithin=function(e,t){if(!oe)throw Error(l(363));for(t=Gi(e=Ui(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&se(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(e,t){if(!oe)throw Error(l(363));var n=0,r=[];e=[Ui(e),0];for(var o=0;o<e.length;){var i=e[o++],a=e[o++],u=t[a];if((5!==i.tag||!ue(i))&&(Li(i,u)&&(r.push(Hi(u)),++a>n&&(n=a)),a<t.length))for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Hi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?T(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:vl,findFiberByHostInstance:e.findFiberByHostInstance||ml,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Kt=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!oe)throw Error(l(363));e=Ki(e,t);var o=fe(e,n,r).disconnect;return{disconnect:function(){o()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var o=t.current,i=xa(),a=Aa(o);return n=cl(n),null===t.context?t.context=n:t.pendingContext=n,(t=hn(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),bn(o,t),null!==(e=Ea(o,a,i))&&yn(e,o,a),a},t}},6480:function(e,t,n){"use strict";var r=n(3824);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},6761:function(e,t,n){"use strict";n(4812),n(5235);var r=n(5216);n(9912),n(5762),n(4109),n(414),n(6805),r.FlashGen,r.Generator,r.inBox,r.inCircle,r.inRect,r.inSphere,r.noise,r.onBox,r.onCircle,r.onRect,r.onSphere},6805:function(e,t,n){"use strict";var r=n(414);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2];return r*t[3]-o*i}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3],l=t[4],u=t[5],c=t[6],s=t[7],f=t[8];return r*l*f+o*u*c+i*a*s-i*l*c-o*a*f-r*u*s}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14]}function l(e,t,n){for(var r=e.clone().transpose(),o=[],a=r.elements.length,l=Math.sqrt(a),u=0;u<a;u++){var c=r.elements[u];Math.floor(u/l)!==t-1&&u%l!==n-1&&o.push(c)}return i.apply(void 0,o)}function u(e,t){for(var n=[],o=e.toArray(),i=t.toArray(),a=0;a<o.length;a++)n[a]=o[a]+i[a];return(new r.Matrix3).fromArray(n)}var c=Object.freeze({__proto__:null,determinant2:o,determinant3:i,determinant4:a,getMinor:l,matrixSum3:u});t.determinant2=o,t.determinant3=i,t.determinant4=a,t.getMinor=l,t.matrix=c,t.matrixSum3=u},6941:function(e,t,n){"use strict";var r=n(7504);function o(e,t,n,r){var i=e.indexOf(t,n);return"\\"===e.charAt(i-1)?o(e,t,i+1):i}function i(e,t){return!0===t.keepDoubleQuotes&&'"'===e||(!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes)}function a(e,t,n){return"function"==typeof e.keepEscaping?e.keepEscaping(t,n):!0===e.keepEscaping||"\\"===t[n+1]}e.exports=function(e,t,n){if("string"!=typeof e)throw new TypeError("expected a string");"function"==typeof t&&(n=t,t=null),"string"==typeof t&&(t={sep:t});var l,u=r({sep:"."},t),c=u.quotes||['"',"'","`"];!0===u.brackets?l={"<":">","(":")","[":"]","{":"}"}:u.brackets&&(l=u.brackets);var s,f=[],d=[],v=[""],m=u.sep,_=e.length,p=-1;function h(){if(l&&d.length)return l[d[d.length-1]]}for(;++p<_;){var b=e[p],y=e[p+1],g={val:b,idx:p,arr:v,str:e};if(f.push(g),"\\"!==b){if(l&&l[b]){d.push(b);var w=h(),x=p+1;if(-1!==e.indexOf(w,x+1))for(;d.length&&x<_;){var A=e[++x];if("\\"!==A)if(-1===c.indexOf(A)){if(w=h(),d.length&&-1===e.indexOf(w,x+1))break;l[A]?d.push(A):w===A&&d.pop()}else x=o(e,A,x+1);else A++}if(-1===(s=x)){v[v.length-1]+=b;continue}b=e.slice(p,s+1),g.val=b,g.idx=p=s}if(-1!==c.indexOf(b)){if(-1===(s=o(e,b,p+1))){v[v.length-1]+=b;continue}b=!0===i(b,u)?e.slice(p,s+1):e.slice(p+1,s),g.val=b,g.idx=p=s}"function"==typeof n&&(n(g,f),b=g.val,p=g.idx),g.val!==m||!1===g.split?v[v.length-1]+=g.val:v.push("")}else g.val=!0===a(u,e,p)?b+y:y,g.escaped=!0,"function"==typeof n&&n(g),v[v.length-1]+=g.val,p++}return v}},7473:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,r,o,i,a){if(null===(l=e)||"object"!==t(l)&&"function"!=typeof l||!r)return e;var l;if(r=n(r),o&&(r+="."+n(o)),i&&(r+="."+n(i)),a&&(r+="."+n(a)),r in e)return e[r];for(var u=r.split("."),c=u.length,s=-1;e&&++s<c;){for(var f=u[s];"\\"===f[f.length-1];)f=f.slice(0,-1)+"."+u[++s];e=e[f]}return e}},7504:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=n(560),i=n(7754);function a(e,t){for(var n in t)s(t,n)&&(e[n]=t[n])}function l(e){return e&&"string"==typeof e}function u(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"===r(e)||o(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];l(n)&&(n=u(n)),c(n)&&(a(e,n),i(e,n))}return e}},7754:function(e){"use strict";e.exports=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),o=arguments.length,i=0;++i<o;)for(var a=Object(arguments[i]),l=Object.getOwnPropertySymbols(a),u=0;u<l.length;u++){var c=l[u];n.call(a,c)&&(r[c]=a[c])}return r}},7868:function(e,t,n){"use strict";var r=n(1532);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},8152:function(e,t,n){"use strict";n(6761)},8346:function(e,t,n){"use strict";var r=n(6941),o=n(4426),i=n(5248),a=n(546);function l(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,n){if(!a(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t)return e;for(var u=r(t,{sep:".",brackets:!0}).filter(l),c=u.length,s=-1,f=e;++s<c;){var d=u[s];s===c-1?i(f[d])&&i(n)?f[d]=o({},f[d],n):f[d]=n:(a(f[d])||(f[d]={}),f=f[d])}return e}},8480:function(e,t,n){"use strict";var r=n(1532);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},9912:function(e,t,n){"use strict";var r=n(5762),o=n(414),i=n(6805);function a(e,t,n){return Math.max(t,Math.min(n,e))}function l(e,t){return a(e-Math.floor(e/t)*t,0,t)}function u(e,t){var n=l(t-e,2*Math.PI);return n>Math.PI&&(n-=2*Math.PI),n}function c(e){return e/180*Math.PI}function s(e){return 180*e/Math.PI}function f(e,t){for(var n=t.radius,r=void 0===n?1:n,o=e.length/3,i=2/o,a=Math.PI*(3-2.2360679775),l=0;l<e.length;l+=3){var u=l*i-1+i/2,c=Math.sqrt(1-Math.pow(u,2)),s=l%o*a,f=Math.cos(s)*c,d=Math.sin(s)*c;e[l]=f*r,e[l+1]=u*r,e[l+2]=d*r}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON;return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n&&Math.abs(e.z-t.z)<n}function v(e,t){return e.x===t.x?void 0!==e.z&&e.y===t.y?e.z-t.z:e.y-t.y:e.x-t.x}function m(e){for(var t=e.sort(v),n=[t[0],t[1]],o=2;o<t.length;o++)for(n.push(t[o]);n.length>2&&r.doThreePointsMakeARight(r._toConsumableArray(n.slice(-3)));)n.splice(n.length-2,1);for(var i=[t[t.length-1],t[t.length-2]],a=t.length-3;a>=0;a--)for(i.push(t[a]);i.length>2&&r.doThreePointsMakeARight(r._toConsumableArray(i.slice(-3)));)i.splice(i.length-2,1);return i.splice(0,1),i.splice(i.length-1,1),[].concat(n,i)}function _(e,t,n){var o=r._slicedToArray(t,2),i=o[0],a=o[1],l=r._slicedToArray(n,2),u=l[0];return u+(e-i)*(l[1]-u)/(a-i)}function p(e){return e*e*e*(e*(6*e-15)+10)}function h(e,t,n){return e*(1-n)+t*n}function b(e,t,n){return(n-e)/(t-e)}function y(e,t,n){var r=Math.sqrt(e*e+t*t+n*n);return[e/r,t/r,n/r]}function g(e,t,n){var r=e*e,o=t*t,i=n*n;return[e*Math.sqrt(1-(o+i)/2+o*i/3),t*Math.sqrt(1-(i+r)/2+i*r/3),n*Math.sqrt(1-(r+o)/2+r*o/3)]}function w(e,t){var n=(new o.Vector3).crossVectors(e,t),r=e.dot(t),a=(new o.Matrix3).identity(),l=(new o.Matrix3).set(0,-n.z,n.y,n.z,0,-n.x,-n.y,n.x,0),u=(new o.Matrix3).multiplyMatrices(l,l).multiplyScalar(1/(1+r));return i.matrixSum3(i.matrixSum3(a,l),u)}function x(e,t,n){return[Math.asin(t),Math.atan2(e,-n)]}function A(e,t){var n=Math.sin(e),r=Math.cos(e);return[Math.sin(t)*r,n,-Math.cos(t)*r]}function E(e,t){var n=r._slicedToArray(t,2),i=n[0],a=n[1],l=w(e.normal,new o.Vector3(0,1,0)),u=b(i.clone().applyMatrix3(l).y,a.clone().applyMatrix3(l).y,0);return(new o.Vector3).lerpVectors(i,a,u)}function S(e,t){return t.normal.dot(e)}function C(e,t){var n=r._slicedToArray(e,3),o=n[0],i=n[1],a=n[2],l=r._slicedToArray(t,2),u=l[0];return a*u*l[1]+i*u+o}function N(e,t){var n=r._slicedToArray(t,2),o=n[0],i=o*n[1],a=e/i,l=e-i*a;return[l%o,l/o,a]}function B(e,t){return e[0]+t[0]*e[1]}function O(e,t){return[e%t,Math.floor(e/t)]}var M=Object.freeze({__proto__:null,clamp:a,repeat:l,deltaAngle:u,degToRad:c,radToDeg:s,fibonacciOnSphere:f,vectorEquals:d,lexicographic:v,convexHull:m,remap:_,fade:p,lerp:h,inverseLerp:b,normalize:y,pointOnCubeToPointOnSphere:g,rotateVectorOnVector:w,pointToCoordinate:x,coordinateToPoint:A,planeSegmentIntersection:E,pointToPlaneDistance:S,getIndexFrom3D:C,get3DFromIndex:N,getIndexFrom2D:B,get2DFromIndex:O});t.clamp=a,t.convexHull=m,t.coordinateToPoint=A,t.degToRad=c,t.deltaAngle=u,t.fade=p,t.fibonacciOnSphere=f,t.get2DFromIndex=O,t.get3DFromIndex=N,t.getIndexFrom2D=B,t.getIndexFrom3D=C,t.inverseLerp=b,t.lerp=h,t.lexicographic=v,t.misc=M,t.normalize=y,t.planeSegmentIntersection=E,t.pointOnCubeToPointOnSphere=g,t.pointToCoordinate=x,t.pointToPlaneDistance=S,t.radToDeg=s,t.remap=_,t.repeat=l,t.rotateVectorOnVector=w,t.vectorEquals=d}}]);
//# sourceMappingURL=989-c5f5fe36e30b49dae57e.js.map